{"version":3,"sources":["webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/AxisFillCircular.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/AxisLabelCircular.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/AxisRendererCircular.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/AxisRendererRadial.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/AxisRendererX3D.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/AxisRendererY3D.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/CategoryAxis.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/CategoryAxisBreak.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/DateAxis.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/DateAxisBreak.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/DurationAxis.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/axes/GridCircular.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/cursors/Cursor.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/cursors/RadarCursor.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/cursors/XYCursor.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/Candlestick.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/ChordLink.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/ChordNode.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/CircleBullet.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/ClockHand.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/Column.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/Column3D.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/ConeColumn.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/CurvedColumn.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/ErrorBullet.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/FlowDiagramLink.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/FlowDiagramNode.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/FunnelSlice.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/FunnelTick.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/LabelBullet.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/NavigationBar.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/OHLC.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/PieTick.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/RadarColumn.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/SankeyLink.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/SankeyNode.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/elements/XYChartScrollbar.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/CandlestickSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/ColumnSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/ColumnSeries3D.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/ConeSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/CurvedColumnSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/FunnelSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/LineSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/LineSeriesSegment.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/OHLCSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/PercentSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/PictorialStackedSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/PieSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/PieSeries3D.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/PyramidSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/RadarColumnSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/RadarSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/StepLineSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/StepLineSeriesSegment.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/TreeMapSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/series/XYSeries.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/ChordDiagram.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/FlowDiagram.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/GaugeChart.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/PercentChart.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/PieChart.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/PieChart3D.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/RadarChart.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/SankeyDiagram.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/SlicedChart.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/TreeMap.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/XYChart.js","webpack:///node_modules/@amcharts/amcharts4/.internal/charts/types/XYChart3D.js","webpack:///node_modules/@amcharts/amcharts4/.internal/core/elements/QuadraticCurve.js","webpack:///node_modules/@amcharts/amcharts4/charts.js","webpack:///src/app/views/charts/chart-am/chart-am.component.html","webpack:///src/app/views/charts/chart-apex/chart-apex.component.html","webpack:///src/app/views/charts/chart-high/chart-high.component.html","webpack:///src/app/views/charts/morris-chart/morris-chart.component.html","webpack:///src/app/views/charts/chart-am/chart-am.component.ts","webpack:///src/app/views/charts/chart-apex/chart-apex.component.ts","webpack:///src/app/views/charts/chart-high/chart-high.component.ts","webpack:///src/app/views/charts/charts-routing.module.ts","webpack:///src/app/views/charts/charts.module.ts","webpack:///src/app/views/charts/morris-chart/morris-chart.component.ts"],"names":["AxisFillCircular","_super","axis","_this","call","className","element","paper","add","radius","applyTheme","prototype","draw","__disabled","disabled","renderer","fillPath","getPositionRangePath","startPosition","endPosition","innerRadius","cornerRadius","path","Object","defineProperty","get","getPropertyValue","set","value","setPercentProperty","enumerable","configurable","setPropertyValue","registeredClasses","AxisLabelCircular","fdx","fdy","padding","location","locationOnPath","isMeasured","rotation","undefined","dataItem","component","invalidateDataItems","textAlign","textPathElement","dispose","pixelRadius","axisRadius","sign","inside","pixelRadiusY","axisRadiusY","fixPosition","angle","dx","dy","point","x","y","invalid","validate","isNegative","realRadius","relativeRotation","labelRadius","bent","point_1","attr","horizontalCenter","verticalCenter","pixelWidth","bbox","width","pixelHeight","height","pixelPaddingBottom","pixelPaddingTop","pixelPaddingLeft","pixelPaddingRight","dH","dW","_measuredHeight","_measuredWidth","moveTo","AxisRendererCircular","pixelRadiusReal","layout","startAngle","endAngle","useChartAngles","grid","template","labels","ticks","pixelPerfect","tooltipLocation","line","strokeOpacity","setAxis","tooltip","adapter","target","pixelX","pixelY","Math","cos","atan2","sin","chart","PI","invalidate","innerRadiusModifyer","mr","max","min","plotContainer","innerHeight","innerWidth","positionToPoint","position","position2","coordinate","positionToCoordinate","axisLength","pixelInnerRadius","axisRendererY","Infinity","positionToAngle","arc","end","start","inversed","angleToPosition","updateAxisLine","updateGridElement","gridInnerRadius","zIndex","toggleVisibility","updateTickElement","tick","tickLength","length","updateBullet","bullet","positionItem","updateLabelElement","label","minLabelPosition","maxLabelPosition","fitsToBounds","invalidateAxisItems","invalidateSeries","createGrid","createFill","createLabel","pointToPosition","coordinateToPosition","AxisRendererRadial","_chart","minGridDistance","gridType","axisAngle","_disposers","push","title","valign","opposite","xAxis","xAxes","getIndex","count","series","dataItems","gridLocation","getAngle","i","cellEndLocation","updateBaseGridElement","updateBreakElement","axisBreak","startLine","endLine","fillShape","startPoint","endPoint","abs","createBreakSprites","updateTooltip","bigNum","bbx","bby","bbw","bbh","tooltipOrientation","round","axisFullLength","AxisRendererX3D","dx3D","dy3D","h","getHeight","baseGrid","events","on","handle3DChanged","event","property","AxisRendererY3D","w","getWidth","CategoryAxisDataItem","seriesDataItems","text","locations","category","endCategory","deltaPosition","_adapterO","isEnabled","apply","properties","oldCategory","setProperty","validateDataElement","deltaCoordinate","CategoryAxis","dataItemsByCategory","axisFieldName","_lastDataItem","createDataItem","createAxisBreak","processSeriesDataItem","axisLetter","categoryAxisDataItem","getKey","seriesId","uid","remove","validateDataRange","_series","iterator","yAxis","invalidateDataRange","startIndex","positionToIndex","endIndex","minIndex","maxIndex","axisDataItem","i_1","seriesDataItem","index","_axisBreaks","dataCount","floor","ceil","maxCount","frequency","_startIndex","_endIndex","fixAxisBreaks","_frequency","maxZoomFactor","resetIterators","itemIndex","len","isInBreak","appendDataItem","axisBreaks","each","adjustedStartValue","adjustedEndValue","b","frequency_1","breakSize","itemIndex_1","validateBreaks","validateAxisRanges","ghostLabel","invalidateLayout","_axisItemCount","categoryToIndex","indexToPosition","fillEndIndex","fillPosition","fillEndPosition","isRange","measuredWidth","measuredHeight","html","currentText","fill","axisFill","updateFillElement","fillRule","mask","disposeData","clear","processDataItem","dataContext","setKey","getDataItem","dataFields","create","difference","adjustDifference","startLocation","endLocation","breakStartIndex","breakEndIndex","categoryToPosition","categoryToPoint","anyToPoint","anyToPosition","zoomToCategories","startCategory","zoomToIndexes","getAnyRangePath","startPos","endPos","roundPosition","getFirstSeriesDataItem","categoryX","categoryY","getLastSeriesDataItem","getSeriesDataItemByCategory","getSeriesDataItem","findNearest","index_1","category_1","sdi_1","getX","key","stackKey","range","getPositionX","basePoint","categories","getY","getPositionY","getCellStartPosition","getCellEndPosition","getTooltipText","tooltipDataItem","tooltipText","breakStartPosition","breakEndPosition","breakPosition","positionToCategory","getPositionLabel","initRenderer","processConfig","config","sortBySeries","map","hasKey","addDelayedMap","CategoryAxisBreak","DateAxisDataItem","values","date","endDate","dates","setDate","getTime","endValue","DateAxis","_gapBreaks","gridIntervals","groupIntervals","dateFormats","periodChangeDateFormats","_baseIntervalReal","timeUnit","_prevSeriesTime","_minDifference","_firstWeekDay","groupMin","groupMax","snapTooltip","tooltipPosition","groupCount","getDFFormatter","pushAll","gridInterval","_gridInterval","gridDuration","applyInternalDefaults","language","translate","validateDataItems","baseDuration","periodCount","getFirstWeekDay","mainBaseDuration","mainBaseInterval","_deltaMinMax","newPeriodCount","zoom","handleSelectionExtremesChange","calculateZoom","_minZoomed","_maxZoomed","dataSetChanged","groupData","modifiedDifference","groupInterval","chooseInterval","_groupInterval","newId","_currentDataSetId","dispatch","baseAxis","setDataSet","_gridCount","baseInterval","_nextGridUnit","_intervalDuration","_gridDate","Date","minZoomed","_df","utc","field_1","getAxisField","minZoomedStr","toString","startDataItem","dataItemsByAxis","currentDataSetId","findFirst","findClosestIndex","maxZoomed","maxZoomedStr","endDataItem","dataRangeInvalid","time","previousDataItem","previousDate","validateData","minDifference","Number","MAX_VALUE","seriesDataChangeUpdate","postProcessSeriesDataItems","seriesGroupUpdate","addEmptyUnitsBreaks","JSON","stringify","_baseInterval","mainDataSet","postProcessSeriesDataItem","groupSeriesData","dataGrouped","intervals_1","mainIntervalDuration_1","interval","intervalDuration","_dataSets","dataSetId","dataSet","clone","dataSets","previousTime","NEGATIVE_INFINITY","newDataItem","dfkey","df","dfk","indexOf","getDate","roundedDate","firstDayOfWeek","currentTime","setWorkingLocation","dateX","openDateX","dateY","openDateY","_index","vkey","dvalues","workingValue","open","close","low","high","sum","average","propertyFields","fieldValue","f","hasProperties","groupDataItems","groupFieldName","groupFields","dateFormatter","intervalID","startDate","startTime","setCalculatedValue","skipEmptyPeriods","_loop_1","this_1","startTimeStr","hasData","breakGridCount","gridDate","getGridDate","intervalCount","realIntervalCount","prevTimestamp","newDate","timestamp","durationBreaksRemoved","countBreaksRemoved","getBreaklessDate","validateAxisElements","prevGridDate","dataItemsIterator_1","_dataItemsIterator","_loop_2","this_2","format","markUnitChange","find","renderer_1","timeUnit_1","intervalCount_1","timestamp_1","prevGridDate_1","_loop_3","text_1","moveValue","adjustedMax","endTimestamp","valueToPosition","location_1","adjustMinMax","step","fixMin","endTime","fixMax","duration","gridCount","intervals","lastIndex","formatLabel","dateToPosition","dateToPoint","valueToPoint","positionToDate","positionToValue","getTimeByLocation","baseValue","stack","getValue","workingLocations","timezoneOffset","setTime","getTimezoneOffset","setValue","openDate","prevSeriesTime","openTime","differece","updateAxisBySeries","_mainBaseInterval","timeInterval","breakTemplate","invalidateData","tooltipDate","tooltipDateFormat","dateFormat","axisLocation","key_1","getCurrentLabelFormat","animateMinMax","animation","animate","from","_minAdjusted","to","_maxAdjusted","rangeChangeDuration","rangeChangeEasing","handleExtremesChange","id","_finalMin","_finalMax","zoomToDates","skipRangeEvent","instantly","adjust","parse","zoomToValues","startValue","isEnd","isStart","groupInterval_1","min_1","max_1","POSITIVE_INFINITY","seriesMin","seriesMax","ds","mindi","maxdi","asIs","field","copyFrom","source","showTooltipAtPosition","local","toAxisPosition","actualDate","actualTime_1","closestDate_1","closestTime_1","cursor","snapToSeries","showTooltipAtDataItem","_seriesPoints","tooltipHTML","hideTooltip","inited","makeGap","previous","connect","autoGapCount","prevDate","prevTime","DateAxisBreak","DurationAxisDataItem","DurationAxis","_baseUnit","durationFormatter","axisDurationFormat","strictMode","e_1","_a","minMaxStep","baseUnit","initialMin","initialMax","divisors","realDivisor","divisors_1","divisors_1_1","next","done","divisor","e_1_1","error","exponent","log","LOG10E","power","pow","reducedCount","closest","getValueUnit","getFormat","_tooltipDurationFormat","_stepDecimalPlaces","valueStr","tooltipDurationFormat","GridCircular","Cursor","_stick","shouldClone","hide","trackable","clickable","interaction","body","handleCursorDown","handleCursorUp","handleCursorMove","interactionsEnabled","interactions","isTouchProtected","touch","_generalBehavior","downPoint","isLocalElement","pointer","svg","isHidden","isHiding","_stickPoint","triggerMove","hideReal","stick","force","triggerMoveReal","invalidatePosition","show","visible","getPositions","triggerDown","triggerDownReal","dispatchImmediately","setGlobalStyle","grabbing","triggerUp","triggerUpReal","requestFrame","updatePoint","upPoint","_upPointOrig","_downPointOrig","getHitOption","updateSelection","xPosition","yPosition","cancelable","shouldPreventGestures","preventDefault","lockElement","RadarCursor","truePixelRadius","cursorTooltipEnabled","updateLineX","updateLineY","lineX","fullWidthLineX","currentItemStartPoint","currentItemEndPoint","fillStartAngle","fillEndAngle","lineY","fullWidthLineY","_usesSelection","downAngle","downRadius","currentRadius","_prevAngle","downSin","downCos","behavior","selection","handleXTooltipPosition","handleYTooltipPosition","updateLinePositions","getRanges","upAngle","upRadius","startX","endX","startY","endY","xRange","yRange","updateSize","fixPoint","XYCursor","_lineX","_lineY","_xAxis","_yAxis","_snapToDisposers","maxPanOut","interfaceColors","createChild","fillOpacity","getFor","stroke","strokeDasharray","hideSeriesTooltipsOnSelection","_positionPrecision","validatePosition","allHidden_1","s","getPanningRanges","parent","selectionX","selectionY","hasMoved","distance","currentX","currentY","deltaX","deltaY","preventShow","setElement","reset","_selection","processingErrors","snapTo_1","snapError_1","snap","disposer","handleSnap","getTooltipX","getTooltipY","xx","yy","animationDuration","easing","animationEasing","Candlestick","createAssets","lowLine","highLine","ChordLink","middleLine","isTemplate","fromNode","toNode","fromX","fromY","toX","toY","x1","y1","x2","y2","cp","link","maskBullets","bulletsMask","bulletsContainer","mAngle1","mAngle2","cpx","cpy","positionBullets","ChordNode","updateRotation","slice","hiddenState","opacity","setStateOnChildren","tooltipX","ix","tooltipY","iy","invalidateLinks","total","arc_1","sliceStartAngle_1","children","child","locationX","locationY","childAngle","childRadius","labelAngle","adjustedTotal","nextAngle","_outgoingSorted","linksContainer","getWorkingValue","nonRibbon","percentWidth","valueAngle","_incomingSorted","mAngle","trueStartAngle","tx","ty","CircleBullet","circle","ClockHand","_axis","pin","startWidth","endWidth","hand","leftSide","rightSide","x0","_pin","removeDispose","_hand","showValue","_value","newAngle","currentAngle","rotationDirection","updateValue","Column","disableType","applyOnClones","handleKidAdded","column","maxWidth","maxHeight","definedBBox","Column3D","column3D","setFill","ConeColumn","coneColumn","CurvedColumn","curvedColumn","realWidth","realHeight","realX","realY","points","tensionX","tensionY","orientation","tension","smooth","ErrorBullet","errorLine","isDynamic","FlowDiagramLink","colorMode","bullets","positionBullet","_bulletsContainer","_bulletsMask","rotationField","color","gradient","stops","addColor","_gradient","measureElement","_bullets","newValue","FlowDiagramNode","legendSettings","draggable","inert","handleHit","outgoingDataItems","setWorkingValue","incomingDataItems","isDisposed","stop_1","stop_2","_incomingDataItems","sortBy","fromName","_outgoingDataItems","setColorProperty","_background","createLegendMarker","marker","removeChildren","legendDataItem","colorOrig","_legendDataItem","itemContainer","deepInvalidate","FunnelSlice","bottomWidth","topWidth","expandDistance","pt","pb","pr","pl","ed","tw","bw","tl","tr","br","bl","cpr","cpl","qp1","qp2","tickPoint","tt","tb","bt","bb","getPoint","mlx","mrx","mty","mby","FunnelTick","_label","_slice","p0","p1","p2","labelsOpposite","maxRight","maxBottom","LabelBullet","truncate","hideOversized","handleMaxSize","NavigationBarDataItem","NavigationBar","textLink","paddingTop","paddingBottom","links","_linksIterator","createNewItems","triangle","direction","marginLeft","marginRight","separators","activeLink","fontWeight","name","validateDataElements","getLast","separator","OHLC","openLine","highLowLine","closeLine","PieTick","scale","y0","radiusY","alignLabels","r","RadarColumn","radarColumn","SankeyLink","controlPointDistance","linkWidth","xt0","yt0","xt1","yt1","xb0","xb1","yb0","yb1","xm0","xm1","ym0","ym1","minX","minY","maxX","maxY","_bbox","cpd","kxt0","kyt0","kxt1","kyt1","kxm0","kym0","kxm1","kym1","kxb0","kyb0","kxb1","kyb1","segments","SankeyNode","nextInCoord","nextOutCoord","nameLabel","valueLabel","background","orientation_1","valueHeight","XYChartScrollbar","scrollbarChart","margin","_scrollbarChart","filter","filterUnits","filters","minHeight","minWidth","unselectedOverlay","toBack","_unselectedOverlay","thumbBackground","thumb","hoverState","states","downState","handleSeriesAdded","handleSeriesRemoved","sourceSeries","zoomOutButton","locale","addXAxis","addYAxis","yAxes","removeValue","scrollbarSeries","axisFills","labelsTemplate","maxZoomCount","minZoomCount","vAxis_1","sourceAxis","clonedFrom","minDefined","maxDefined","vAxis_2","vAxis_3","vAxis_4","interpolationDuration","defaultState","transitionDuration","showOnInit","zoomOutAxes","data","updateByOrientation","oldValue","off","err","handleDataChanged","dataProvider","invalidateRawData","updateThumb","Error","CandlestickSeriesDataItem","lowValueX","lowValueY","highValueX","highValueY","valueX","valueY","CandlestickSeries","positiveColor","negativeColor","dropFromOpenState","riseFromOpenState","readerTitle","validateDataElementReal","validateCandlestick","lowLine_1","highLine_1","open_1","yOpenField","close_1","yField","yOpen","yClose","yLow","yLowField","yHigh","yHighField","open_2","xOpenField","close_2","xField","xOpen","xClose","xLow","xLowField","xHigh","xHighField","axisRanges","axisRange","rangeColumn","rangesColumns","rangeLowLine","rangehighLine","_xLowField","_yLowField","_xHighField","_yHighField","defineFields","yAxisFieldName","xAxisFieldName","addValueField","_xValueFields","_yValueFields","columns","cw","ch","createColumnTemplate","ColumnSeriesDataItem","_column","setColumn","sprites","prevDataItem","addSprite","_rangesColumns","ColumnSeries","_startLocation","_endLocation","clustered","columnsContainer","mainContainer","_columnsContainer","tooltipColorSource","group","node","removeAttribute","baseAxisSeries","clusterCount_1","sortedByAxis_1","index_2","sort","a","prevAxisIndex_1","sortedItem","stacked","cellStartLocation","sortCategoryAxis","disableUnusedColumns","_propertiesChanged","currentPosition","deltaAnimation","animationOptions","stop","interpolationEasing","getStartLocation","getEndLocation","l","t","percentHeight","paddingLeft","paddingRight","outOfBounds","diw","hasValue","offset","fixHorizontalCoordinate","fixVerticalCoordinate","bottomLocation","topLocation","axisLenght","rightLocation","leftLocation","column_1","itemsFocusable","role","focusable","ev","populateString","itemReaderText","hoverable","virtualParent","setColumnStates","contents","itemWidth","itemHeight","sprite","_dropFromOpenState","_dropFromPreviousState","_riseFromOpenState","_riseFromPreviousState","change","droppedFromOpen","setState","droppedFromPrevious","_columns","updateLegendValue","notRange","fromOpenState_1","fromPreviousState_1","getBulletLocationX","bulletLocationX","getBulletLocationY","bulletLocationY","getAdjustedXLocation","getAdjustedYLocation","ColumnSeries3DDataItem","ColumnSeries3D","leftAxesContainer","rightAxesContainer","bottomAxesContainer","topAxesContainer","depth","ConeSeriesDataItem","ConeSeries","getMaskPath","CurvedColumnSeriesDataItem","CurvedColumnSeries","FunnelSeriesDataItem","_sliceLink","sliceLink_1","sliceLinks","slicesContainer","FunnelSeries","_nextY","labelsContainer","bottomRatio","createSlice","createTick","initSlice","observe","handleSliceScale","handleSliceMove","initLabel","labelTemplate","dItem","ignoreZeroValues","_total","_count","arrangeLabels","getNextValue","nextValue","nextItem","formDataElement","sliceLink","decorateSlice","d","linkHeight","getLastLabel","lastLabel","lastY","lastX","_sliceLinks","animationsEnabled","delay","sequencedInterpolation","sequencedInterpolationDelay","fields","isFinished","setAlignLabels","labelAlign","labelValign","toFront","align","validateLayout","LineSeriesDataItem","LineSeries","minDistance","createSegment","_segmentsIterator","segmentsContainer","setInitialWorkingValues","appeared","initialY","initialX","segment","openSegmentWrapper","_adjustedStartIndex","sliceData","findAdjustedIndex","_workingStartIndex","_workingEndIndex","adjustedIndex","openIndex","params","openSegment","getSegment","getFirst","addToClose","closeIndex","propertiesChanged","valuesFound","updateSegmentProperties","addPoints","closeSegment","backwards","closePoints","_xOpenField","_yOpenField","drawSegment","itemProperties","checkOnly","changed","propertyName","currentValue","currentValueStr","disposeChildren","copyToLegendMarker","hasLabels","LineSeriesSegment","fillSprite","strokeSprite","smoothnessX","smoothnessY","lineElement","fillElement","OHLCSeriesDataItem","OHLCSeries","openLine_1","highLowLine_1","closeLine_1","rangeOpenLine","rangeCloseLine","rangeHighLowLine","PercentSeriesDataItem","uidAttr","toValue","setVisibility","noChangeValues","_tick","tick_1","ticksContainer","label_1","component_1","slice_1","slices","hiddenInLegend","PercentSeries","_addAllDataItems","colors","calculatePercent","skipFocusThreshold","transitionEasing","_slices","_ticks","initTick","_labels","patterns","backgroundOpacity","currentStep","feedLegend","lh","nextLabel","getNextLabel","bottom","arrangeLabels2","previousTop","nextDataItem","addDisposer","isActive","labelText","itemLabelText","valueText","itemValueText","relevant","maybeXS","state","stateId","labelState","tickState","PictorialStackedSeriesDataItem","PictorialStackedSeries","valueIs","_maskSprite","maskSprite","pictureWidth","pictureHeight","newWidth","newHeight","pyramidHeight","hs","PieSeriesDataItem","radiusValue","PieSeries","shiftRadius","togglable","activeState","_leftItems","_rightItems","_currentStartAngle","_arcRect","_maxRadiusPercent","radiusValuePercent","percent","reverse","aAngle","middleAngle","bAngle","normalizedMiddleAngle","arcRect","_pixelRadius","_pixelInnerRadius","_startAngleInternal","_endAngleInternal","PieSeries3DDataItem","depthValue","PieSeries3D","depthPercent","PyramidSeriesDataItem","PyramidSeries","_nextWidth","relValue","_pyramidHeight","_pyramidWidth","absoluteSum","pyramidWidth","sliceTopWidth","c","tan","sliceHeight","sliceBottomWidth","totalSquare","square","sqrt","sliceWidth","RadarColumnSeriesDataItem","RadarColumnSeries","lAngle","rAngle","tRadius","bRadius","cellAngle","temp","xKey","yKey","stackKeyX","stackKeyY","positionBulletReal","positionX","positionY","setXAxis","updateRendererRefs","setYAxis","rendererX","rendererY","RadarSeriesDataItem","setLocation","RadarSeries","connectEnds","unshift","StepLineSeriesDataItem","StepLineSeries","startLocationX","endLocationX","startLocationY","endLocationY","noRisers","prevPoint","point0","point1","vertical","StepLineSeriesSegment","TreeMapSeriesDataItem","treeMapDataItem","_dataContext","TreeMapSeries","minBulletDistance","configField","openValueX","openValueY","showReal","processValues","dataChangeUpdate","XYSeriesDataItem","customValue","setCategory","openCategoryX","openCategoryY","getMin","working","stackValue","getMax","XYSeries","usesShowFields","_dataSetChanged","_maxxX","_maxxY","cursorHoverEnabled","excludeFromTotal","_showBullets","pointerOrientation","hideTooltipWhileZooming","returnBulletDefaultState","childrenCreated","legend","resetExtremes","_tmin","_tmax","_smin","_smax","valueYShow","openValueXShow","openValueYShow","updateItemReaderText","_xField","_yField","e","raiseCriticalError","updateDataItem","dataItemsX","clearCatAxis","dataItemsY","setCategoryAxisField","setDateAxisField","afterDraw","createMask","path_1","gridContainer","oldAxis","removeKey","registerSeries","handleYAxisSet","_baseAxis","addData","rawDataItem","removeCount","skipRaw","setData","_prevStartIndex","_prevEndIndex","workingStartIndex","workingEndIndex","getStackValue","stackX","stackY","processSeriesDataItems","xAxisId","yAxisId","stackedSeries","tmin","tmax","_prevTooltipDataItem","isShowing","tooltipXField","tooltipYField","tooltipPoint","type","_b","_c","isRealHover","isHover","showTooltip","e_2","fireEvent","e_2_1","shouldCreateBullet","bulletTemplate","disabledField","openValue","closeValue","middleValue","openPositionX","openPositionY","bulletLocation","updateStacking","invalidateProcessedData","anim","realDuration","disable","enable","hidden","handleDataItemWorkingValueChange","axisSeries","field_2","prevSeries","prevValue","prevRealValue","_tooltipXField","_tooltipYField","selectionMin","selectionMax","_itemReaderTextChanged","val","axisBulletsContainer","ChordDiagramDataItem","ChordDiagram","nodePadding","chordContainer","chartContainer","nodesContainer","rect","innerRect","maxRadius","newTotal","_sorted","strNode","getNodeValue","minNodeSize","createNode","createLink","FlowDiagramDataItem","toName","_link","link_1","FlowDiagram","_parseDataFrom","nodes","sortNodes","strokeModifier","opacities","fillModifier","sortedIterator","incomingTotal","outgoingTotal","totalIncoming","totalOutgoing","changeSorting","_nodes","_links","legendData_1","GaugeChartDataItem","GaugeChart","hands","processHand","configOrder","PercentChartDataItem","PercentChart","createSeries","setLegend","valueLabels","itemContainers","percentSeriesDataItem","PieChartDataItem","PieChart","seriesContainer","updateRadius","_chartPixelRadius","updateSeriesAngles","chartCont","chartRadius","chartPixelInnerRadius","seriesRadius","_chartPixelInnerRadius","PieChart3DDataItem","PieChart3D","invalidateDataUsers","RadarChartDataItem","RadarChart","_axisRendererX","_axisRendererY","radarContainer","_cursorContainer","_bulletMask","processAxis","breakContainer","handleXAxisRangeChange","handleYAxisRangeChange","beforeDraw","wr","hr","diameter","updateXAxis","processRenderer","updateYAxis","SankeyDiagramDataItem","SankeyDiagram","nodeAlign","_levelCount","level","getNodeLevel","levels","calculateValueHeight","_levelSum","_levelNodesCount","maxSum","availableHeight","maxSumLevel","realValue","levelNodeCount","_maxSumLevel","maxSumLevelNodeCount","finalHeight","_heightAnimation","container","nextCoordinate","levelCoordinate","nodeCount","delta","container_1","nodeHeight","_valueHeight","SlicedChartDataItem","SlicedChart","TreeMapDataItem","rows","hasChildren","getDuration","childValue","TreeMap","layoutAlgorithm","squarify","zoomable","_usesData","maxLevels","currentLevel","hideParentColumns","sorting","strictMinMax","xRenderer","yRenderer","seriesTemplates","zoomToChartDataItem","_homeDataItem","_navigationBar","navigationBar","createTreeSeries","_tempSeries","homeDataItem","_homeText","getMinMax","layoutItems","_updateDataItemIndexes","navigationData","parentDataItem","initSeries","createTreeSeriesReal","currentlyZoomed","seriesAppeared","dataUsers","cursorOverStyle","zoomToSeriesDataItem","toggleBullets","rangeChangeAnimation","_dataDisposers","once","binaryTree","dice","sliceDice","validateRawData","n","sums","Array","partition","j","valueOffset","valueTarget","k","hi","mid","valueLeft","valueRight","xk","yk","ratio","nodeValue","i0","i1","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","row","handleSeriesAdded2","handleDataItemValueChange","getLegendLevel","legendParent","getExporting","exporting","info","XYChartDataItem","XYChart","arrangeTooltips","topAxesCont","yAxesAndPlotCont","yAxesAndPlotContainer","bottomAxesCont","leftAxesCont","contentAlign","updateXAxesMargins","plotCont","mouseWheelBehavior","rightAxesCont","MAX_SAFE_INTEGER","marginTop","exportable","updateSeriesLegend","updatePlotElements","leftAxesWidth","rightAxesWidth","reinit","handleXAxisChange","handleYAxisChange","processXAxis","processYAxis","getCommonAxisRange","scrollbarX","zoomAxes","toggleZoomOutButton","updateScrollbar","show_1","minZoomFactor","scrollbarY","scrollbar","skipRangeEvents","axes","syncWithAxis","axisStart","axisEnd","_dataUsers","updateSeriesMasks","_xAxes","handleAxisRemoval","autoDispose","_yAxes","removeFromInvalidComponents","dataInvalid","_cursor","handleCursorPositionChange","handleCursorZoomStart","handleCursorZoomEnd","handleCursorPanStart","handleCursorPanning","handleCursorPanEnd","handleCursorCanceled","handleHideCursor","tapToActivate","setTapToActivate","xPosition_1","yPosition_1","showSeriesTooltip","exceptAxes_1","dataItems_1","snpSeries","closestDataItem_1","getClosest","closestSeries","_cursorXPosition","showAxisTooltip","_cursorYPosition","sortSeriesTooltips","closestDataItem","xPos","toGlobalPosition","yPos","dxPosition","dyPosition","hideObjectTooltip","seriesPoints","setBounds","cursor_1","maxTooltipDistance","cursorPoint_1","nearestSeries_1","nearestPoint_1","smallestDistance_1","seriesPoint","fixedPoint","newSeriesPoints_1","handleOutReal","np","topLeft_1","bottomRight_1","sum_1","filteredSeriesPoints_1","firstSeries","averageY","svgContainer","SVGContainer","top_1","dropped","nextHeight","pointY","pixelMarginTop","nextY","pixelMarginBottom","except","getUpdatedRange","priority","_panStartXRange","_panStartYRange","_panEndXRange","panEndRange","_panEndYRange","panStartRange","newStart","newEnd","newRange","_scrollbarX","startGrip","endGrip","handleXScrollbarChange","arg","_scrollbarY","handleYScrollbarChange","fixRange","declination","realRange","cellWidth","handleWheel","svgPoint","htmlContainer","cssScale","plotPoint","shift","handleWheelReal","handleHorizontalWheel","horizontalMouseWheelBehavior","rangeX","rangeY","shiftStep","differenceX","newStartX","newEndX","differenceY","newStartY","newEndY","location2X","location2Y","_mouseWheelDisposer","wheelable","_mouseWheelDisposer2","dataSourceDateFields","populateDataSourceFields","dataSourceNumberFields","len_1","len_2","_zoomOutButton","button","addScrollbarData","removeScrollbarData","dataUser","removeData","handleTapToActivate","handleTapToActivateDeactivation","sbstate","XYChart3DDataItem","XYChart3D","fixLayout","fixColumns","depthIndex","inversed_1","maskColumns","QuadraticCurve","point2","ChartAmComponent","zone","chart1","list","country","visits","categoryAxis","valueAxis","columnTemplate","strokeWidth","chart2","numberFormatter","numberFormat","year2004","year2005","series2","chart3","year","income","expenses","lineSeries","circleBullet","chart4","generateChartData","dateAxis","chartData","firstDate","random","chart5","litres","chart6","range2","range3","chart7","menu","lineDash","columnDash","additional","columnSeries","chart8","europe","namerica","asia","lamerica","meast","labelBullet","chart9","inputDateFormat","textValign","bullethover","keepSelection","chart10","chart11","units","series1","series3","chart12","runOutsideAngular","selector","ChartApexComponent","line1","enabled","dataLabels","curve","xaxis","column1","plotOptions","bar","horizontal","columnWidth","endingShape","yaxis","formatter","mixed1","inverseColors","shade","opacityFrom","opacityTo","markers","size","shared","intersect","toFixed","useSeriesColors","customHTML","generateData","baseval","yrange","z","bubble1","tickAmount","rotate","theme","palette","responsive","breakpoint","options","area1","bar2","candle1","scatter","parseFloat","radial","radialBar","fontSize","ChartHighComponent","subtitle","verticalAlign","connectorAllowed","pointStart","rules","condition","chartOptions","overflow","valueSuffix","floating","borderWidth","backgroundColor","shadow","credits","plotBackgroundColor","plotBorderWidth","plotShadow","colorAxis","pointFormat","pie","allowPointSelect","colorByPoint","sliced","selected","load","setInterval","addPoint","useUTC","accessibility","announceNewData","minAnnounceInterval","announcementFormatter","allSeries","newSeries","newPoint","tickPixelInterval","plotLines","headerFormat","plotBackgroundImage","pane","linearGradient","outerRadius","minorTickInterval","minorTickWidth","minorTickLength","minorTickPosition","minorTickColor","tickWidth","tickPosition","tickColor","plotBands","description","allowDecimals","rangeDescription","area","symbol","hover","zoomType","startOnTick","endOnTick","showLastLabel","lineColor","crosshair","style","renderTo","options3d","viewDistance","descriptionFormatter","reversed","linkedTo","stacking","routes","ChartsRoutingModule","imports","forChild","exports","ChartsModule","declarations","MorrisChartComponent"],"mappings":"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A;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AA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","file":"views-charts-charts-module-es5.js","sourcesContent":["import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { AxisFill } from \"./AxisFill\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Provides fill element functionality for circular Axes.\r\n *\r\n * @see {@link IAxisFillCircularEvents} for a list of available events\r\n * @see {@link IAxisFillCircularAdapters} for a list of available Adapters\r\n * @todo Needs description\r\n */\r\nvar AxisFillCircular = /** @class */ (function (_super) {\r\n    __extends(AxisFillCircular, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param axis Axis\r\n     */\r\n    function AxisFillCircular(axis) {\r\n        var _this = _super.call(this, axis) || this;\r\n        _this.className = \"AxisFillCircular\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.radius = percent(100);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the fill element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    AxisFillCircular.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        if (this.__disabled || this.disabled) {\r\n            return;\r\n        }\r\n        if (this.axis) {\r\n            var renderer = this.axis.renderer;\r\n            this.fillPath = renderer.getPositionRangePath(this.startPosition, this.endPosition, this.radius, $type.hasValue(this.innerRadius) ? this.innerRadius : renderer.innerRadius, this.cornerRadius);\r\n            this.path = this.fillPath;\r\n        }\r\n    };\r\n    Object.defineProperty(AxisFillCircular.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Inner radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Inner radius of the fill. Relative ([[Percent]]) or absolute (pixels).\r\n         *\r\n         * @param value  Inner radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisFillCircular.prototype, \"radius\", {\r\n        /**\r\n         * @return Outer radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Outer radius of the fill. Relative ([[Percent]]) or absolute (pixels).\r\n         *\r\n         * @param value  Outer radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"radius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisFillCircular.prototype, \"cornerRadius\", {\r\n        /**\r\n         * @return Corner radius (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cornerRadius\");\r\n        },\r\n        /**\r\n         * Corner radius for the fill. In pixels.\r\n         *\r\n         * @param value  Corner radius (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"cornerRadius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return AxisFillCircular;\r\n}(AxisFill));\r\nexport { AxisFillCircular };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"AxisFillCircular\"] = AxisFillCircular;\r\n//# sourceMappingURL=AxisFillCircular.js.map","/**\r\n * Axis Label module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { AxisLabel } from \"./AxisLabel\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport { Percent } from \"../../core/utils/Percent\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Use to create labels on circular axis.\r\n *\r\n * @see {@link IAxisLabelCircularEvents} for a list of available events\r\n * @see {@link IAxisLabelCircularAdapters} for a list of available Adapters\r\n */\r\nvar AxisLabelCircular = /** @class */ (function (_super) {\r\n    __extends(AxisLabelCircular, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function AxisLabelCircular() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         *\r\n         * @ignore\r\n         */\r\n        _this.fdx = 0;\r\n        /**\r\n         *\r\n         * @ignore\r\n         */\r\n        _this.fdy = 0;\r\n        _this.className = \"AxisLabelCircular\";\r\n        _this.padding(0, 0, 0, 0);\r\n        _this.location = 0.5;\r\n        _this.locationOnPath = 0.5;\r\n        _this.radius = 0;\r\n        _this.isMeasured = false;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AxisLabelCircular.prototype, \"relativeRotation\", {\r\n        /**\r\n         * @return Rotation angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"relativeRotation\");\r\n        },\r\n        /**\r\n         * Relative rotation of the label.\r\n         *\r\n         * It is an angle to circle. In case 90, labels will be positioned like rays\r\n         * of light, if 0 - positioned along the circle.\r\n         *\r\n         * @param value Rotation angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"relativeRotation\", value, true);\r\n            if (!$type.hasValue(value)) {\r\n                this.rotation = undefined;\r\n                var dataItem = this.dataItem;\r\n                if (dataItem && dataItem.component) {\r\n                    dataItem.component.invalidateDataItems();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisLabelCircular.prototype, \"radius\", {\r\n        /**\r\n         * @return Distance (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Distance from axis circle to label in pixels or percent.\r\n         *\r\n         * @param value Distance (px or percent)\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"radius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisLabelCircular.prototype, \"bent\", {\r\n        /**\r\n         * @return Bent?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"bent\");\r\n        },\r\n        /**\r\n         * Specifies if label should be bent along the circle.\r\n         *\r\n         * IMPORTANT: Use this with caution, since it is quite CPU-greedy.\r\n         *\r\n         * @since 4.1.2\r\n         * @default false\r\n         * @param  value  Bent?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"bent\", value, true);\r\n            this.setPropertyValue(\"wrap\", false);\r\n            this.setPropertyValue(\"horizontalCenter\", \"none\");\r\n            this.setPropertyValue(\"verticalCenter\", \"none\");\r\n            if (value) {\r\n                this.setPropertyValue(\"dx\", 0);\r\n                this.setPropertyValue(\"dy\", 0);\r\n                this.setPropertyValue(\"x\", 0);\r\n                this.setPropertyValue(\"y\", 0);\r\n                this.setPropertyValue(\"rotation\", 0);\r\n                //this.setPropertyValue(\"relativeRotation\", undefined);\r\n                this.fdx = 0;\r\n                this.fdy = 0;\r\n                this.textAlign = \"middle\";\r\n            }\r\n            else {\r\n                if (this.textPathElement) {\r\n                    this.textPathElement.dispose();\r\n                    this.textPathElement = undefined;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns label radius in pixels.\r\n     *\r\n     * @param   axisRadius  Radius\r\n     * @return              Pixel radius\r\n     */\r\n    AxisLabelCircular.prototype.pixelRadius = function (axisRadius) {\r\n        var sign = 1;\r\n        if (this.inside) {\r\n            sign = -1;\r\n        }\r\n        return $utils.relativeToValue(this.radius, axisRadius) * sign;\r\n    };\r\n    /**\r\n     * Returns label horizontal radius in pixels.\r\n     *\r\n     * @param   axisRadius   Radius\r\n     * @param   axisRadiusY  Vertical radius\r\n     * @return               Radius\r\n     */\r\n    AxisLabelCircular.prototype.pixelRadiusY = function (axisRadius, axisRadiusY) {\r\n        var sign = 1;\r\n        if (this.inside) {\r\n            sign = -1;\r\n        }\r\n        var radius = this.radius;\r\n        if ($type.isNumber(radius)) {\r\n            radius *= axisRadiusY / axisRadius;\r\n            return $utils.relativeToValue(radius, axisRadius) * sign;\r\n        }\r\n        else {\r\n            return $utils.relativeToValue(radius, axisRadiusY) * sign;\r\n        }\r\n    };\r\n    /**\r\n     * [fixPosition description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param point       Label affixation point\r\n     * @param axisRadius  Distance from point (px)\r\n     */\r\n    AxisLabelCircular.prototype.fixPosition = function (angle, axisRadius, axisRadiusY, dx, dy) {\r\n        if (!$type.isNumber(axisRadiusY)) {\r\n            axisRadiusY = axisRadius;\r\n        }\r\n        if (!$type.isNumber(dx)) {\r\n            dx = 0;\r\n        }\r\n        if (!$type.isNumber(dy)) {\r\n            dy = 0;\r\n        }\r\n        var point = { x: axisRadius * $math.cos(angle), y: axisRadiusY * $math.sin(angle) };\r\n        if (this.invalid) {\r\n            this.validate(); //@todo\" check if we need this\r\n        }\r\n        var isNegative = false;\r\n        var realRadius = this.radius;\r\n        if (realRadius instanceof Percent && realRadius.value < 0) {\r\n            isNegative = true;\r\n        }\r\n        else if (realRadius < 0) {\r\n            isNegative = true;\r\n        }\r\n        var relativeRotation = this.relativeRotation;\r\n        var labelRadius = this.pixelRadius(axisRadius);\r\n        if (this.bent) {\r\n            var point_1 = { x: (axisRadius + labelRadius) * $math.cos(angle + 180), y: (axisRadiusY + labelRadius * axisRadiusY / axisRadius) * $math.sin(angle + 180) };\r\n            this.path = $path.moveTo(point_1) + $path.arcTo(angle + 180, 360, axisRadius + labelRadius, axisRadiusY + labelRadius * axisRadiusY / axisRadius);\r\n            if (this.textPathElement) {\r\n                this.textPathElement.attr({ \"startOffset\": (this.locationOnPath * 100) + \"%\" });\r\n            }\r\n            return;\r\n        }\r\n        // WHEN ROTATED\r\n        if ($type.isNumber(relativeRotation)) {\r\n            this.horizontalCenter = \"none\";\r\n            this.verticalCenter = \"none\";\r\n            angle = $math.fitAngleToRange(angle, -180, 180);\r\n            var pixelWidth = this.bbox.width;\r\n            var pixelHeight = this.bbox.height;\r\n            var pixelPaddingBottom = this.pixelPaddingBottom;\r\n            var pixelPaddingTop = this.pixelPaddingTop;\r\n            var pixelPaddingLeft = this.pixelPaddingLeft;\r\n            var pixelPaddingRight = this.pixelPaddingRight;\r\n            if (angle > 90 || angle < -90) {\r\n                if (relativeRotation == -90) {\r\n                    relativeRotation = 90;\r\n                    pixelWidth = 0;\r\n                }\r\n            }\r\n            else {\r\n                if (relativeRotation == -90) {\r\n                    pixelHeight = -pixelHeight;\r\n                }\r\n                if (relativeRotation == 90) {\r\n                    relativeRotation = -90;\r\n                    pixelWidth = -pixelPaddingLeft - pixelPaddingRight;\r\n                    pixelHeight = -pixelHeight - pixelPaddingTop - pixelPaddingBottom;\r\n                }\r\n            }\r\n            this.rotation = relativeRotation + angle + 90;\r\n            var dH = $math.sin(relativeRotation) / 2;\r\n            var dW = $math.cos(relativeRotation) / 2;\r\n            var rotation = this.rotation;\r\n            this.dx = pixelHeight * dH * $math.sin(rotation) - pixelWidth * dW * $math.cos(rotation);\r\n            this.dy = -pixelHeight * dH * $math.cos(rotation) - pixelWidth * dW * $math.sin(rotation);\r\n            if (!this.inside) {\r\n                labelRadius += (pixelHeight + pixelPaddingBottom + pixelPaddingTop) * $math.cos(relativeRotation) + (pixelWidth + pixelPaddingLeft + pixelPaddingRight) * $math.sin(relativeRotation);\r\n            }\r\n            else {\r\n                if (angle > 90 || angle < -90) {\r\n                    labelRadius -= (pixelPaddingBottom + pixelPaddingTop) * $math.cos(relativeRotation) + (pixelPaddingLeft + pixelPaddingRight) * $math.sin(relativeRotation);\r\n                }\r\n                else {\r\n                    labelRadius += (pixelPaddingBottom + this.bbox.height + pixelPaddingTop) * $math.cos(relativeRotation) + (pixelPaddingLeft + pixelPaddingRight + this.bbox.width) * $math.sin(relativeRotation);\r\n                }\r\n            }\r\n            point.x += $math.cos(angle) * labelRadius;\r\n            point.y += $math.sin(angle) * labelRadius * axisRadiusY / axisRadius;\r\n        }\r\n        else {\r\n            // END OF ROTATED\r\n            this.horizontalCenter = \"middle\";\r\n            this.verticalCenter = \"middle\";\r\n            if (isNegative) {\r\n                this.dx = 0;\r\n                this.dy = 0;\r\n                point.x = (axisRadius + labelRadius) * $math.cos(angle);\r\n                point.y = (axisRadiusY + labelRadius * axisRadiusY / axisRadius) * $math.sin(angle);\r\n            }\r\n            else {\r\n                // we don't use valign for labels because then they would jump while animating. instead we modify dy depending on a y position\r\n                // this math makes dy to be 1 at the top of the circle, 0.5 at the middle and 1 at the bottom\r\n                // @todo with this math doesn't work well with inside = true\r\n                this.dy = this._measuredHeight / 2 * $math.sin(angle); //(1 - (point.y + axisRadiusY) / (2 * axisRadiusY));\r\n                // simmilar with dx\r\n                this.dx = this._measuredWidth / 2 * $math.cos(angle); //(1 - (point.x + axisRadius) / (2 * axisRadius));\r\n                point.x += $math.cos(angle) * labelRadius;\r\n                point.y += $math.sin(angle) * labelRadius * axisRadiusY / axisRadius;\r\n            }\r\n        }\r\n        point.x += dx;\r\n        point.y += dy;\r\n        this.fdx = this.dx;\r\n        this.fdy = this.dy;\r\n        this.moveTo(point);\r\n    };\r\n    return AxisLabelCircular;\r\n}(AxisLabel));\r\nexport { AxisLabelCircular };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"AxisLabelCircular\"] = AxisLabelCircular;\r\n//# sourceMappingURL=AxisLabelCircular.js.map","/**\r\n * Module, defining Axis Renderer for circular axes.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { AxisRenderer } from \"./AxisRenderer\";\r\nimport { AxisFillCircular } from \"./AxisFillCircular\";\r\nimport { GridCircular } from \"./GridCircular\";\r\nimport { AxisLabelCircular } from \"./AxisLabelCircular\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { percent, Percent } from \"../../core/utils/Percent\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { AxisBullet } from \"./AxisBullet\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A renderer for circular axis.\r\n */\r\nvar AxisRendererCircular = /** @class */ (function (_super) {\r\n    __extends(AxisRendererCircular, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param axis Related axis\r\n     */\r\n    function AxisRendererCircular() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.pixelRadiusReal = 0;\r\n        // axis.layout = \"none\"; // does not trigger redraw when size changes\r\n        _this.layout = \"none\";\r\n        _this.className = \"AxisRendererCircular\";\r\n        _this.isMeasured = false;\r\n        _this.startAngle = -90;\r\n        _this.endAngle = 270;\r\n        _this.useChartAngles = true;\r\n        _this.radius = percent(100);\r\n        _this.isMeasured = false;\r\n        _this.grid.template.location = 0;\r\n        _this.labels.template.location = 0;\r\n        _this.labels.template.radius = 15;\r\n        _this.ticks.template.location = 0;\r\n        _this.ticks.template.pixelPerfect = false;\r\n        _this.tooltipLocation = 0;\r\n        _this.line.strokeOpacity = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n    * @ignore\r\n    */\r\n    AxisRendererCircular.prototype.setAxis = function (axis) {\r\n        var _this = this;\r\n        _super.prototype.setAxis.call(this, axis);\r\n        axis.isMeasured = false;\r\n        // modify x and y so that tooltip would always be on circle\r\n        var tooltip = axis.tooltip;\r\n        tooltip.adapter.add(\"dx\", function (x, target) {\r\n            var point = $utils.svgPointToSprite({ x: target.pixelX, y: target.pixelY }, _this);\r\n            return _this.pixelRadius * Math.cos(Math.atan2(point.y, point.x)) - point.x;\r\n        });\r\n        tooltip.adapter.add(\"dy\", function (y, target) {\r\n            var point = $utils.svgPointToSprite({ x: target.pixelX, y: target.pixelY }, _this);\r\n            return _this.pixelRadius * Math.sin(Math.atan2(point.y, point.x)) - point.y;\r\n        });\r\n    };\r\n    /**\r\n     * Validates Axis renderer.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    AxisRendererCircular.prototype.validate = function () {\r\n        // so that radius would be updated\r\n        if (this.chart && this.chart.invalid) {\r\n            this.chart.validate();\r\n        }\r\n        _super.prototype.validate.call(this);\r\n    };\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"axisLength\", {\r\n        /**\r\n         * Returns actual length of the Axis, in pixels.\r\n         *\r\n         * @return Length (px)\r\n         */\r\n        get: function () {\r\n            return 2 * Math.PI * this.pixelRadius;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"radius\", {\r\n        /**\r\n         * @return Outer radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Outer radius of the axis.\r\n         *\r\n         * Can be absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Outer radius\r\n         */\r\n        set: function (value) {\r\n            if (this.setPercentProperty(\"radius\", value, false, false, 10, false)) {\r\n                if (this.axis) {\r\n                    this.axis.invalidate();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"pixelRadius\", {\r\n        /**\r\n         * Outer radius in pixels.\r\n         *\r\n         * @return Outer radius (px)\r\n         */\r\n        get: function () {\r\n            return $utils.relativeRadiusToValue(this.radius, this.pixelRadiusReal) || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Inner radius\r\n         */\r\n        get: function () {\r\n            var chart = this.chart;\r\n            var innerRadius = this.getPropertyValue(\"innerRadius\");\r\n            if (chart) {\r\n                if (!$type.hasValue(innerRadius)) {\r\n                    innerRadius = chart.innerRadius;\r\n                    if (innerRadius instanceof Percent && chart) {\r\n                        innerRadius = percent(innerRadius.value * chart.innerRadiusModifyer * 100);\r\n                    }\r\n                }\r\n                else {\r\n                    if (innerRadius instanceof Percent && chart) {\r\n                        var mr = chart.mr;\r\n                        var value = innerRadius.value;\r\n                        value = Math.max(mr * value, mr - Math.min(chart.plotContainer.innerHeight, chart.plotContainer.innerWidth)) / mr;\r\n                        innerRadius = percent(value * 100);\r\n                    }\r\n                }\r\n                return innerRadius;\r\n            }\r\n        },\r\n        /**\r\n         * Inner radius of the axis.\r\n         *\r\n         * Can be absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Inner radius\r\n         */\r\n        set: function (value) {\r\n            if (this.setPercentProperty(\"innerRadius\", value, false, false, 10, false)) {\r\n                if (this.axis) {\r\n                    this.axis.invalidate();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"useChartAngles\", {\r\n        /**\r\n         * @return Use chart angles\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"useChartAngles\");\r\n        },\r\n        /**\r\n         * Specifies if axis should use its own `startAngle` and `endAngle` or\r\n         * inherit them from relative properties from chart.\r\n         *\r\n         * @default false\r\n         * @param value  Use chart's angles\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"useChartAngles\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"pixelInnerRadius\", {\r\n        /**\r\n         * Inner radius in pixels.\r\n         *\r\n         * @return Inner radius (px)\r\n         */\r\n        get: function () {\r\n            return $utils.relativeRadiusToValue(this.innerRadius, this.pixelRadiusReal) || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts relative position on axis to point coordinates.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @param position2  Position (0-1) Position on the second axis\r\n     * @return Point\r\n     */\r\n    AxisRendererCircular.prototype.positionToPoint = function (position, position2) {\r\n        if (!$type.isNumber(position2)) {\r\n            position2 = 1;\r\n        }\r\n        var coordinate = this.positionToCoordinate(position);\r\n        var angle = this.startAngle + (this.endAngle - this.startAngle) * coordinate / this.axisLength;\r\n        var radius = this.pixelRadius;\r\n        var innerRadius = this.pixelInnerRadius;\r\n        if (this.axisRendererY) {\r\n            var realRadius = $math.fitToRange(this.axisRendererY.positionToCoordinate(position2), 0, Infinity);\r\n            var point = { x: realRadius * $math.cos(angle), y: realRadius * $math.sin(angle) };\r\n            return point;\r\n        }\r\n        return { x: $math.cos(angle) * innerRadius + (radius - innerRadius) * $math.cos(angle) * position2, y: $math.sin(angle) * innerRadius + (radius - innerRadius) * $math.sin(angle) * position2 };\r\n    };\r\n    /**\r\n     * Converts relative position (0-1) on axis to angle in degrees (0-360).\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Angle (0-360)\r\n     */\r\n    AxisRendererCircular.prototype.positionToAngle = function (position) {\r\n        var axis = this.axis;\r\n        var arc = (this.endAngle - this.startAngle) / (axis.end - axis.start);\r\n        var angle;\r\n        if (axis.renderer.inversed) {\r\n            angle = this.startAngle + (axis.end - position) * arc;\r\n        }\r\n        else {\r\n            angle = this.startAngle + (position - axis.start) * arc;\r\n        }\r\n        return $math.round(angle, 3);\r\n    };\r\n    /**\r\n     * Converts angle on axis to relative position(0-1).\r\n     *\r\n     * @param angle Angle in degrees\r\n     * @return Position (0-1)\r\n     */\r\n    AxisRendererCircular.prototype.angleToPosition = function (angle) {\r\n        var axis = this.axis;\r\n        var arc = (this.endAngle - this.startAngle) / (axis.end - axis.start);\r\n        var position;\r\n        if (axis.renderer.inversed) {\r\n            position = axis.end - (angle - this.startAngle) / arc;\r\n        }\r\n        else {\r\n            position = (angle - this.startAngle) / arc + axis.start;\r\n        }\r\n        return $math.round(position, 5);\r\n    };\r\n    /**\r\n     * Updates and positions the axis line element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    AxisRendererCircular.prototype.updateAxisLine = function () {\r\n        var radius = this.pixelRadius;\r\n        var startAngle = this.startAngle;\r\n        var endAngle = this.endAngle;\r\n        var arc = endAngle - startAngle;\r\n        this.line.path = $path.moveTo({ x: radius * $math.cos(startAngle), y: radius * $math.sin(startAngle) }) + $path.arcTo(startAngle, arc, radius, radius);\r\n    };\r\n    /**\r\n     * Updates and positions a grid element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param grid         Grid element\r\n     * @param position     Starting position\r\n     * @param endPosition  End position\r\n     */\r\n    AxisRendererCircular.prototype.updateGridElement = function (grid, position, endPosition) {\r\n        position = position + (endPosition - position) * grid.location;\r\n        var point = this.positionToPoint(position);\r\n        if ($type.isNumber(point.x) && $type.isNumber(point.y) && grid.element) {\r\n            var angle = $math.DEGREES * Math.atan2(point.y, point.x);\r\n            var radius = $utils.relativeRadiusToValue($type.hasValue(grid.radius) ? grid.radius : percent(100), this.pixelRadius);\r\n            var gridInnerRadius = $utils.relativeRadiusToValue(grid.innerRadius, this.pixelRadius);\r\n            grid.zIndex = 0;\r\n            var innerRadius = $utils.relativeRadiusToValue($type.isNumber(gridInnerRadius) ? gridInnerRadius : this.innerRadius, this.pixelRadiusReal, true);\r\n            grid.path = $path.moveTo({ x: innerRadius * $math.cos(angle), y: innerRadius * $math.sin(angle) }) + $path.lineTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n        }\r\n        this.toggleVisibility(grid, position, 0, 1);\r\n    };\r\n    /**\r\n     * Updates and positions a tick element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param tick         Tick element\r\n     * @param position     Starting position\r\n     * @param endPosition  End position\r\n     */\r\n    AxisRendererCircular.prototype.updateTickElement = function (tick, position, endPosition) {\r\n        position = position + (endPosition - position) * tick.location;\r\n        var point = this.positionToPoint(position);\r\n        if (tick.element) {\r\n            var radius = this.pixelRadius;\r\n            var angle = $math.DEGREES * Math.atan2(point.y, point.x);\r\n            var tickLength = tick.length;\r\n            if (tick.inside) {\r\n                tickLength = -tickLength;\r\n            }\r\n            tick.zIndex = 1;\r\n            tick.path = $path.moveTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) }) + $path.lineTo({ x: (radius + tickLength) * $math.cos(angle), y: (radius + tickLength) * $math.sin(angle) });\r\n        }\r\n        this.toggleVisibility(tick, position, 0, 1);\r\n    };\r\n    /**\r\n     * Updates and positions axis bullet.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param bullet       AxisBullet element\r\n     * @param position     Starting position\r\n     * @param endPosition  End position\r\n     */\r\n    AxisRendererCircular.prototype.updateBullet = function (bullet, position, endPosition) {\r\n        var location = 0.5;\r\n        if (bullet instanceof AxisBullet) {\r\n            location = bullet.location;\r\n        }\r\n        position = position + (endPosition - position) * location;\r\n        var point = this.positionToPoint(position);\r\n        var radius = this.pixelRadius;\r\n        var angle = $math.DEGREES * Math.atan2(point.y, point.x);\r\n        point = { x: radius * $math.cos(angle), y: radius * $math.sin(angle) };\r\n        this.positionItem(bullet, point);\r\n        this.toggleVisibility(bullet, position, 0, 1);\r\n    };\r\n    /**\r\n     * Updates and positions a label element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param label        Label element\r\n     * @param position     Starting position\r\n     * @param endPosition  Ending position\r\n     */\r\n    AxisRendererCircular.prototype.updateLabelElement = function (label, position, endPosition, location) {\r\n        if (!$type.hasValue(location)) {\r\n            location = label.location;\r\n        }\r\n        position = position + (endPosition - position) * location;\r\n        label.fixPosition(this.positionToAngle(position), this.pixelRadius);\r\n        label.zIndex = 2;\r\n        this.toggleVisibility(label, position, this.minLabelPosition, this.maxLabelPosition);\r\n    };\r\n    /**\r\n     * Checks if point is within bounds of a container.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param point Point coordinates\r\n     * @return Fits?\r\n     */\r\n    AxisRendererCircular.prototype.fitsToBounds = function (point) {\r\n        return true;\r\n    };\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Start angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startAngle\");\r\n        },\r\n        /**\r\n         * Start angle of the axis in degrees (0-360).\r\n         *\r\n         * @param value  Start angle\r\n         */\r\n        set: function (value) {\r\n            // do not normalize angel here!\r\n            if (this.setPropertyValue(\"startAngle\", value)) {\r\n                this.invalidateAxisItems();\r\n                if (this.axis) {\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererCircular.prototype, \"endAngle\", {\r\n        /**\r\n         * @return End angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endAngle\");\r\n        },\r\n        /**\r\n         * End angle of the axis in degrees (0-360).\r\n         *\r\n         * @param value  End angle\r\n         */\r\n        set: function (value) {\r\n            // do not normalize angel here!\r\n            if (this.setPropertyValue(\"endAngle\", value)) {\r\n                this.invalidateAxisItems();\r\n                if (this.axis) {\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * [getPositionRangePath description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param startPosition  Starting position\r\n     * @param endPosition    End position\r\n     * @return SVG path\r\n     */\r\n    AxisRendererCircular.prototype.getPositionRangePath = function (startPosition, endPosition, radius, innerRadius, cornerRadius) {\r\n        var path = \"\";\r\n        if ($type.isNumber(startPosition) && $type.isNumber(endPosition)) {\r\n            if (!$type.hasValue(radius)) {\r\n                radius = this.radius;\r\n            }\r\n            startPosition = $math.max(startPosition, this.axis.start);\r\n            endPosition = $math.min(endPosition, this.axis.end);\r\n            if (endPosition < startPosition) {\r\n                endPosition = startPosition;\r\n            }\r\n            var pixelRadius = $utils.relativeRadiusToValue(radius, this.pixelRadius);\r\n            var pixelInnerRadius = $utils.relativeRadiusToValue(innerRadius, this.pixelRadius, true);\r\n            var startAngle = this.positionToAngle(startPosition);\r\n            var endAngle = this.positionToAngle(endPosition);\r\n            var arc = endAngle - startAngle;\r\n            path = $path.arc(startAngle, arc, pixelRadius, pixelInnerRadius, pixelRadius, cornerRadius);\r\n        }\r\n        return path;\r\n    };\r\n    /**\r\n     * Returns a new grid element, suitable for this Axis Renderer type.\r\n     *\r\n     * @return Grid element\r\n     */\r\n    AxisRendererCircular.prototype.createGrid = function () {\r\n        return new GridCircular();\r\n    };\r\n    /**\r\n     * Returns a new fill element, suitable for this Axis Renderer type.\r\n     *\r\n     * @return Fill element\r\n     */\r\n    AxisRendererCircular.prototype.createFill = function (axis) {\r\n        return new AxisFillCircular(axis);\r\n    };\r\n    /**\r\n     * Returns a new label element, suitable for this Axis Renderer type.\r\n     *\r\n     * @return Label element\r\n     */\r\n    AxisRendererCircular.prototype.createLabel = function () {\r\n        return new AxisLabelCircular();\r\n    };\r\n    /**\r\n     * Converts a point at specific coordinates to a relative position (0-1)\r\n     * on the axis.\r\n     *\r\n     * @param point  Point\r\n     * @return Position (0-1)\r\n     */\r\n    AxisRendererCircular.prototype.pointToPosition = function (point) {\r\n        var angle = $math.fitAngleToRange($math.getAngle(point), this.startAngle, this.endAngle);\r\n        return this.coordinateToPosition((angle - this.startAngle) / 360 * this.axisLength);\r\n    };\r\n    return AxisRendererCircular;\r\n}(AxisRenderer));\r\nexport { AxisRendererCircular };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"AxisRendererCircular\"] = AxisRendererCircular;\r\n//# sourceMappingURL=AxisRendererCircular.js.map","/**\r\n * Module, defining Axis Renderer for radial axes.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { AxisRendererY } from \"./AxisRendererY\";\r\nimport { CategoryAxis } from \"./CategoryAxis\";\r\nimport { WavedCircle } from \"../../core/elements/WavedCircle\";\r\nimport { MutableValueDisposer } from \"../../core/utils/Disposer\";\r\nimport { Percent, percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { AxisBullet } from \"./AxisBullet\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A renderer for radial axis.\r\n */\r\nvar AxisRendererRadial = /** @class */ (function (_super) {\r\n    __extends(AxisRendererRadial, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param axis Related axis\r\n     */\r\n    function AxisRendererRadial() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * A related chart.\r\n         */\r\n        _this._chart = new MutableValueDisposer();\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.pixelRadiusReal = 0;\r\n        _this.className = \"AxisRendererRadial\";\r\n        _this.isMeasured = false;\r\n        _this.startAngle = -90;\r\n        _this.endAngle = 270;\r\n        _this.minGridDistance = 30;\r\n        _this.gridType = \"circles\";\r\n        _this.axisAngle = -90;\r\n        _this.isMeasured = false;\r\n        _this.layout = \"none\";\r\n        _this.radius = percent(100);\r\n        _this.line.strokeOpacity = 0;\r\n        _this.labels.template.horizontalCenter = \"middle\";\r\n        _this._disposers.push(_this._chart);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Validates Axis renderer.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    AxisRendererRadial.prototype.validate = function () {\r\n        // so that radius would be updated\r\n        if (this.chart && this.chart.invalid) {\r\n            this.chart.validate();\r\n        }\r\n        _super.prototype.validate.call(this);\r\n    };\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"axisLength\", {\r\n        /**\r\n         * Returns actual length of the Axis, in pixels.\r\n         *\r\n         * @return Length (px)\r\n         */\r\n        get: function () {\r\n            return this.pixelRadius - this.pixelInnerRadius;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"radius\", {\r\n        /**\r\n         * @return Outer radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Outer radius of the axis.\r\n         *\r\n         * Can be absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Outer radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"radius\", value, false, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"pixelRadius\", {\r\n        /**\r\n         * Outer radius in pixels.\r\n         *\r\n         * @return Outer radius (px)\r\n         */\r\n        get: function () {\r\n            return $utils.relativeRadiusToValue(this.radius, this.pixelRadiusReal) || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Inner radius\r\n         */\r\n        get: function () {\r\n            var chart = this.chart;\r\n            var innerRadius = this.getPropertyValue(\"innerRadius\");\r\n            if (chart) {\r\n                if (!$type.hasValue(innerRadius)) {\r\n                    innerRadius = chart.innerRadius;\r\n                    if (innerRadius instanceof Percent && chart) {\r\n                        innerRadius = percent(innerRadius.value * chart.innerRadiusModifyer * 100);\r\n                    }\r\n                }\r\n                else {\r\n                    if (innerRadius instanceof Percent && chart) {\r\n                        var mr = chart.mr;\r\n                        var value = innerRadius.value;\r\n                        value = Math.max(mr * value, mr - Math.min(chart.plotContainer.innerHeight, chart.plotContainer.innerWidth)) / mr;\r\n                        innerRadius = percent(value * 100);\r\n                    }\r\n                }\r\n            }\r\n            return innerRadius;\r\n        },\r\n        /**\r\n         * Inner radius of the axis.\r\n         *\r\n         * Can be absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Outer radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, false, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"pixelInnerRadius\", {\r\n        /**\r\n         * Inner radius in pixels.\r\n         *\r\n         * @return Inner radius (px)\r\n         */\r\n        get: function () {\r\n            return $utils.relativeRadiusToValue(this.innerRadius, this.pixelRadiusReal) || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts relative position on axis to point coordinates.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @param position2  Position (0-1) Position on the second axis\r\n     * @return Point\r\n     */\r\n    AxisRendererRadial.prototype.positionToPoint = function (position, position2) {\r\n        var radius = $math.fitToRange(this.positionToCoordinate(position), 0, Infinity);\r\n        return { x: radius * $math.cos(this.axisAngle), y: radius * $math.sin(this.axisAngle) };\r\n    };\r\n    /**\r\n     * Updates and positions the axis line element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    AxisRendererRadial.prototype.updateAxisLine = function () {\r\n        this.line.path = $path.moveTo({ x: this.pixelInnerRadius * $math.cos(this.axisAngle), y: this.pixelInnerRadius * $math.sin(this.axisAngle) }) + $path.lineTo({ x: this.pixelRadius * $math.cos(this.axisAngle), y: this.pixelRadius * $math.sin(this.axisAngle) });\r\n        var title = this.axis.title;\r\n        title.valign = \"none\";\r\n        title.horizontalCenter = \"middle\";\r\n        title.verticalCenter = \"bottom\";\r\n        title.y = -this.axisLength / 2;\r\n        var rotation = 90;\r\n        if (this.opposite) {\r\n            if (!this.inside) {\r\n                rotation = -90;\r\n            }\r\n        }\r\n        else {\r\n            if (this.inside) {\r\n                rotation = -90;\r\n            }\r\n        }\r\n        title.rotation = rotation;\r\n    };\r\n    /**\r\n     * Updates and positions a grid element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param grid         Grid element\r\n     * @param position     Starting position\r\n     * @param endPosition  End position\r\n     */\r\n    AxisRendererRadial.prototype.updateGridElement = function (grid, position, endPosition) {\r\n        position = position + (endPosition - position) * grid.location;\r\n        var point = this.positionToPoint(position);\r\n        var path;\r\n        var radius = $math.getDistance(point);\r\n        var startAngle = this.startAngle;\r\n        var endAngle = this.endAngle;\r\n        if ($type.isNumber(radius) && grid.element) {\r\n            var chart = this.chart;\r\n            var xAxis = chart.xAxes.getIndex(0);\r\n            var count = 0;\r\n            var series = chart.series.getIndex(0);\r\n            if (series) {\r\n                count = series.dataItems.length;\r\n            }\r\n            // polygons are only possible if x axis is present\r\n            // @todo: review this\r\n            if (this.gridType == \"polygons\" && count > 0 && series && xAxis && xAxis instanceof CategoryAxis) {\r\n                var gridLocation = xAxis.renderer.grid.template.location;\r\n                var angle = xAxis.getAngle(series.dataItems.getIndex(0), \"categoryX\", gridLocation);\r\n                path = $path.moveTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n                for (var i = 1; i < count; i++) {\r\n                    angle = xAxis.getAngle(series.dataItems.getIndex(i), \"categoryX\", gridLocation);\r\n                    path += $path.lineTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n                }\r\n                angle = xAxis.getAngle(series.dataItems.getIndex(count - 1), \"categoryX\", xAxis.renderer.cellEndLocation);\r\n                path += $path.lineTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n            }\r\n            else {\r\n                path = $path.moveTo({ x: radius * $math.cos(startAngle), y: radius * $math.sin(startAngle) }) + $path.arcTo(startAngle, endAngle - startAngle, radius, radius);\r\n            }\r\n            grid.path = path;\r\n        }\r\n        this.toggleVisibility(grid, position, 0, 1);\r\n    };\r\n    /**\r\n     * Updates and positions a label element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param label        Label element\r\n     * @param position     Starting position\r\n     * @param endPosition  Ending position\r\n     */\r\n    AxisRendererRadial.prototype.updateLabelElement = function (label, position, endPosition, location) {\r\n        if (!$type.hasValue(location)) {\r\n            location = label.location;\r\n        }\r\n        position = position + (endPosition - position) * location;\r\n        var point = this.positionToPoint(position);\r\n        this.positionItem(label, point);\r\n        this.toggleVisibility(label, position, this.minLabelPosition, this.maxLabelPosition);\r\n    };\r\n    /**\r\n     * Updates and positions the base grid element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    AxisRendererRadial.prototype.updateBaseGridElement = function () {\r\n        // @todo? zero grid for radar chart, is it needed?\r\n    };\r\n    /**\r\n     * Checks if point is within bounds of a container.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param point Point coordinates\r\n     * @return Fits?\r\n     */\r\n    AxisRendererRadial.prototype.fitsToBounds = function (point) {\r\n        return true;\r\n    };\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Start angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startAngle\");\r\n        },\r\n        /**\r\n         * Start angle of the axis in degrees. (0-360)\r\n         *\r\n         * @param value  Start angle\r\n         */\r\n        set: function (value) {\r\n            // do not normalize angle here!\r\n            if (this.setPropertyValue(\"startAngle\", value)) {\r\n                this.invalidateAxisItems();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"endAngle\", {\r\n        /**\r\n         * @return End angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endAngle\");\r\n        },\r\n        /**\r\n         * End angle of the axis in degrees. (0-360)\r\n         *\r\n         * @param value  End angle\r\n         */\r\n        set: function (value) {\r\n            // do not normalize angel here!\r\n            if (this.setPropertyValue(\"endAngle\", value)) {\r\n                this.invalidateAxisItems();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"axisAngle\", {\r\n        /**\r\n         * @return Axis angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"axisAngle\");\r\n            //return $math.fitToRange(this.getPropertyValue(\"axisAngle\"), this.startAngle, this.endAngle); // no good, as less flexible\r\n        },\r\n        /**\r\n         * Angle of the radial axis in degrees. (0-360)\r\n         *\r\n         * @param value  Axis angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"axisAngle\", $math.normalizeAngle(value));\r\n            this.invalidateAxisItems();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"gridType\", {\r\n        /**\r\n         * Grid type\r\n         */\r\n        get: function () {\r\n            var axis = this.chart.xAxes.getIndex(0);\r\n            if (axis instanceof CategoryAxis) {\r\n                return this.getPropertyValue(\"gridType\");\r\n            }\r\n            else {\r\n                return \"circles\";\r\n            }\r\n        },\r\n        // polygons grid type is only possible under these conditions: xAxis is available and it is CategoryAxis, also at least one series should be added to a chart\r\n        /**\r\n         * Grid type for radial axis.\r\n         *\r\n         * A grid on radia axis can either be perfect circles (\"circles\"), or\r\n         * straight lines (\"polygons\").\r\n         *\r\n         * @default \"circles\"\r\n         * @param value  Grid type\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"gridType\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * [getPositionRangePath description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param startPosition  Starting position\r\n     * @param endPosition    End position\r\n     * @return SVG path\r\n     */\r\n    AxisRendererRadial.prototype.getPositionRangePath = function (startPosition, endPosition) {\r\n        var pixelInnerRadius = this.pixelInnerRadius;\r\n        var pixelRadius = this.axisLength + pixelInnerRadius;\r\n        var innerRadius = $math.fitToRange(this.positionToCoordinate(startPosition), pixelInnerRadius, pixelRadius);\r\n        var radius = $math.fitToRange(this.positionToCoordinate(endPosition), pixelInnerRadius, pixelRadius);\r\n        //let angleCount: number = this.angleCount;\r\n        var startAngle = this.startAngle;\r\n        var endAngle = this.endAngle;\r\n        var arc = endAngle - startAngle;\r\n        var path;\r\n        var chart = this.chart;\r\n        var xAxis = chart.xAxes.getIndex(0);\r\n        var series = chart.series.getIndex(0);\r\n        var count = 0;\r\n        if (series) {\r\n            count = series.dataItems.length;\r\n        }\r\n        // polygons are only possible if x axis is present\r\n        // @todo: review this\r\n        if (this.gridType == \"polygons\" && count > 0 && series && xAxis && xAxis instanceof CategoryAxis) {\r\n            var gridLocation = xAxis.renderer.grid.template.location;\r\n            var angle = xAxis.getAngle(series.dataItems.getIndex(0), \"categoryX\", gridLocation);\r\n            path = $path.moveTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n            for (var i = 1; i < count; i++) {\r\n                angle = xAxis.getAngle(series.dataItems.getIndex(i), \"categoryX\", gridLocation);\r\n                path += $path.lineTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n            }\r\n            angle = xAxis.getAngle(series.dataItems.getIndex(count - 1), \"categoryX\", xAxis.renderer.cellEndLocation);\r\n            path += $path.lineTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n            path += $path.moveTo({ x: innerRadius * $math.cos(angle), y: innerRadius * $math.sin(angle) });\r\n            for (var i = count - 1; i >= 0; i--) {\r\n                angle = xAxis.getAngle(series.dataItems.getIndex(i), \"categoryX\", gridLocation);\r\n                path += $path.lineTo({ x: innerRadius * $math.cos(angle), y: innerRadius * $math.sin(angle) });\r\n            }\r\n        }\r\n        else {\r\n            path = $path.arc(startAngle, arc, radius, innerRadius);\r\n        }\r\n        return path;\r\n    };\r\n    /**\r\n     * Updates and positions an axis break element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axisBreak Break element\r\n     */\r\n    AxisRendererRadial.prototype.updateBreakElement = function (axisBreak) {\r\n        // @todo: someday we might need axis break when gridType is polygons\r\n        var startLine = axisBreak.startLine;\r\n        var endLine = axisBreak.endLine;\r\n        var fillShape = axisBreak.fillShape;\r\n        var startPoint = axisBreak.startPoint;\r\n        var endPoint = axisBreak.endPoint;\r\n        startLine.radius = Math.abs(startPoint.y);\r\n        endLine.radius = Math.abs(endPoint.y);\r\n        fillShape.radius = Math.abs(endPoint.y);\r\n        fillShape.innerRadius = Math.abs(startPoint.y);\r\n    };\r\n    /**\r\n     * Creates visual elements for and axis break.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axisBreak Axis break\r\n     */\r\n    AxisRendererRadial.prototype.createBreakSprites = function (axisBreak) {\r\n        axisBreak.startLine = new WavedCircle();\r\n        axisBreak.endLine = new WavedCircle();\r\n        axisBreak.fillShape = new WavedCircle();\r\n    };\r\n    /**\r\n     * Updates some of the Axis tooltip's visual properties, related to\r\n     * rendering of the Axis.\r\n     *\r\n     * @todo Description (review)\r\n     * @ignore Exclude from docs\r\n     */\r\n    AxisRendererRadial.prototype.updateTooltip = function () {\r\n        var axis = this.axis;\r\n        if (axis) {\r\n            var bigNum = 4000;\r\n            var bbx = -4000;\r\n            var bby = -4000;\r\n            var bbw = bigNum * 2;\r\n            var bbh = bigNum * 2;\r\n            var axisAngle = this.axisAngle;\r\n            if (axisAngle < 0) {\r\n                axisAngle += 360;\r\n            }\r\n            var tooltipOrientation = \"vertical\";\r\n            if ((axisAngle > 45 && axisAngle < 135) || (axisAngle > 225 && axisAngle < 315)) {\r\n                tooltipOrientation = \"horizontal\";\r\n            }\r\n            this.axis.updateTooltip(tooltipOrientation, { x: bbx, y: bby, width: bbw, height: bbh });\r\n        }\r\n    };\r\n    /**\r\n     * Updates and positions a tick element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param tick      Tick element\r\n     * @param position  Position\r\n     */\r\n    AxisRendererRadial.prototype.updateTickElement = function (tick, position, endPosition) {\r\n        position = position + (endPosition - position) * tick.location;\r\n        var point = this.positionToPoint(position);\r\n        if (tick.element) {\r\n            var angle = $math.normalizeAngle(this.axisAngle + 90);\r\n            if (angle / 90 != Math.round(angle / 90)) {\r\n                tick.pixelPerfect = false;\r\n            }\r\n            else {\r\n                tick.pixelPerfect = true;\r\n            }\r\n            var tickLength = -tick.length;\r\n            if (tick.inside) {\r\n                tickLength *= -1;\r\n            }\r\n            tick.path = $path.moveTo({ x: 0, y: 0 }) + $path.lineTo({ x: tickLength * $math.cos(angle), y: tickLength * $math.sin(angle) });\r\n        }\r\n        this.positionItem(tick, point);\r\n        this.toggleVisibility(tick, position, 0, 1);\r\n    };\r\n    /**\r\n     * Updates and positions axis bullet.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param bullet       AxisBullet element\r\n     * @param position     Starting position\r\n     * @param endPosition  End position\r\n     */\r\n    AxisRendererRadial.prototype.updateBullet = function (bullet, position, endPosition) {\r\n        var location = 0.5;\r\n        if (bullet instanceof AxisBullet) {\r\n            location = bullet.location;\r\n        }\r\n        position = position + (endPosition - position) * location;\r\n        var point = this.positionToPoint(position);\r\n        this.positionItem(bullet, point);\r\n        this.toggleVisibility(bullet, position, 0, 1);\r\n    };\r\n    /**\r\n     * Converts a position on the axis to a coordinate in pixels.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param position  Position (0-1)\r\n     * @return Coordinate (px)\r\n     */\r\n    AxisRendererRadial.prototype.positionToCoordinate = function (position) {\r\n        var coordinate;\r\n        var axis = this.axis;\r\n        var axisFullLength = axis.axisFullLength;\r\n        var innerRadius = this.pixelInnerRadius;\r\n        if (axis.renderer.inversed) {\r\n            coordinate = (axis.end - position) * axisFullLength + innerRadius;\r\n        }\r\n        else {\r\n            coordinate = (position - axis.start) * axisFullLength + innerRadius;\r\n        }\r\n        return $math.round(coordinate, 1);\r\n    };\r\n    /**\r\n     * Converts a point at specific coordinates to a relative position (0-1)\r\n     * on the axis.\r\n     *\r\n     * @param point  Point\r\n     * @return Position (0-1)\r\n     */\r\n    AxisRendererRadial.prototype.pointToPosition = function (point) {\r\n        var coordinate = ($math.getDistance(point) - this.pixelInnerRadius);\r\n        return this.coordinateToPosition(coordinate);\r\n    };\r\n    Object.defineProperty(AxisRendererRadial.prototype, \"chart\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Chart\r\n         */\r\n        get: function () {\r\n            return this._chart.get();\r\n        },\r\n        /**\r\n         * A chart, associated with the Axis.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Chart\r\n         */\r\n        set: function (value) {\r\n            this._chart.set(value, null);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return AxisRendererRadial;\r\n}(AxisRendererY));\r\nexport { AxisRendererRadial };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"AxisRendererRadial\"] = AxisRendererRadial;\r\n//# sourceMappingURL=AxisRendererRadial.js.map","/**\r\n * Module, defining Axis Renderer for horizontal 3D axes.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { AxisRendererX } from \"../axes/AxisRendererX\";\r\nimport { MutableValueDisposer } from \"../../core/utils/Disposer\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Renderer for horizontal 3D axis.\r\n *\r\n * @see {@link IAxisRendererX3DEvents} for a list of available events\r\n * @see {@link IAxisRendererX3DAdapters} for a list of available Adapters\r\n */\r\nvar AxisRendererX3D = /** @class */ (function (_super) {\r\n    __extends(AxisRendererX3D, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param axis Related axis\r\n     */\r\n    function AxisRendererX3D() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A related chart.\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._chart = new MutableValueDisposer();\r\n        _this.className = \"AxisRendererX3D\";\r\n        _this._disposers.push(_this._chart);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Updates and positions a grid element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param grid         Grid element\r\n     * @param position     Starting position\r\n     * @param endPosition  End position\r\n     */\r\n    AxisRendererX3D.prototype.updateGridElement = function (grid, position, endPosition) {\r\n        position = position + (endPosition - position) * grid.location;\r\n        var point = this.positionToPoint(position);\r\n        if (grid.element) {\r\n            var dx = this.chart.dx3D || 0;\r\n            var dy = this.chart.dy3D || 0;\r\n            var h = this.getHeight();\r\n            grid.path = $path.moveTo({ x: dx, y: dy }) + $path.lineTo({ x: dx, y: h + dy }) + $path.lineTo({ x: 0, y: h });\r\n        }\r\n        this.positionItem(grid, point);\r\n        this.toggleVisibility(grid, position, 0, 1);\r\n    };\r\n    /**\r\n     * Updates and positions the base grid element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    AxisRendererX3D.prototype.updateBaseGridElement = function () {\r\n        _super.prototype.updateBaseGridElement.call(this);\r\n        var h = this.getHeight();\r\n        var dx = this.chart.dx3D || 0;\r\n        var dy = this.chart.dy3D || 0;\r\n        this.baseGrid.path = $path.moveTo({ x: dx, y: dy }) + $path.lineTo({ x: 0, y: 0 }) + $path.lineTo({ x: 0, y: h });\r\n    };\r\n    Object.defineProperty(AxisRendererX3D.prototype, \"chart\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Chart\r\n         */\r\n        get: function () {\r\n            return this._chart.get();\r\n        },\r\n        /**\r\n         * Chart, associated with the Axis.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value Chart\r\n         */\r\n        set: function (chart) {\r\n            if (chart) {\r\n                this._chart.set(chart, chart.events.on(\"propertychanged\", this.handle3DChanged, this, false));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Invoked when 3D-related settings change, like depth or angle.\r\n     *\r\n     * @param event Event\r\n     */\r\n    AxisRendererX3D.prototype.handle3DChanged = function (event) {\r\n        if (event.property == \"depth\" || event.property == \"angle\") {\r\n            this.invalidate();\r\n        }\r\n    };\r\n    return AxisRendererX3D;\r\n}(AxisRendererX));\r\nexport { AxisRendererX3D };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"AxisRendererX3D\"] = AxisRendererX3D;\r\n//# sourceMappingURL=AxisRendererX3D.js.map","/**\r\n * Module, defining Axis Renderer for vertical 3D axes.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { AxisRendererY } from \"../axes/AxisRendererY\";\r\nimport { MutableValueDisposer } from \"../../core/utils/Disposer\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Renderer for vertical 3D axis.\r\n *\r\n * @see {@link IAxisRendererY3DEvents} for a list of available events\r\n * @see {@link IAxisRendererY3DAdapters} for a list of available Adapters\r\n */\r\nvar AxisRendererY3D = /** @class */ (function (_super) {\r\n    __extends(AxisRendererY3D, _super);\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param axis Related axis\r\n     */\r\n    function AxisRendererY3D() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A related chart.\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._chart = new MutableValueDisposer();\r\n        _this.className = \"AxisRendererY3D\";\r\n        _this._disposers.push(_this._chart);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Updates and positions a grid element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param grid         Grid element\r\n     * @param position     Starting position\r\n     * @param endPosition  End position\r\n     */\r\n    AxisRendererY3D.prototype.updateGridElement = function (grid, position, endPosition) {\r\n        position = position + (endPosition - position) * grid.location;\r\n        var point = this.positionToPoint(position);\r\n        if (grid.element) {\r\n            var dx = this.chart.dx3D || 0;\r\n            var dy = this.chart.dy3D || 0;\r\n            var w = this.getWidth();\r\n            grid.path = $path.moveTo({ x: 0, y: 0 }) + $path.lineTo({ x: dx, y: dy }) + $path.lineTo({ x: w + dx, y: dy });\r\n        }\r\n        this.positionItem(grid, point);\r\n        this.toggleVisibility(grid, position, 0, 1);\r\n    };\r\n    /**\r\n     * Updates and positions the base grid element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    AxisRendererY3D.prototype.updateBaseGridElement = function () {\r\n        _super.prototype.updateBaseGridElement.call(this);\r\n        var dx = this.chart.dx3D || 0;\r\n        var dy = this.chart.dy3D || 0;\r\n        var w = this.getWidth();\r\n        this.baseGrid.path = $path.moveTo({ x: 0, y: 0 })\r\n            + $path.lineTo({ x: w, y: 0 })\r\n            + $path.lineTo({ x: w + dx, y: dy });\r\n    };\r\n    Object.defineProperty(AxisRendererY3D.prototype, \"chart\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Chart\r\n         */\r\n        get: function () {\r\n            return this._chart.get();\r\n        },\r\n        /**\r\n         * Chart, associated with the Axis.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Chart\r\n         */\r\n        set: function (chart) {\r\n            if (chart) {\r\n                this._chart.set(chart, chart.events.on(\"propertychanged\", this.handle3DChanged, this, false));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Invoked when 3D-related settings change, like depth or angle.\r\n     *\r\n     * @param event Event\r\n     */\r\n    AxisRendererY3D.prototype.handle3DChanged = function (event) {\r\n        if (event.property == \"depth\" || event.property == \"angle\") {\r\n            this.invalidate();\r\n        }\r\n    };\r\n    return AxisRendererY3D;\r\n}(AxisRendererY));\r\nexport { AxisRendererY3D };\r\n//# sourceMappingURL=AxisRendererY3D.js.map","/**\r\n * Category axis module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Axis, AxisDataItem } from \"./Axis\";\r\nimport { AxisRendererX } from \"./AxisRendererX\";\r\nimport { AxisRendererY } from \"./AxisRendererY\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Dictionary } from \"../../core/utils/Dictionary\";\r\nimport { CategoryAxisBreak } from \"./CategoryAxisBreak\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[CategoryAxis]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar CategoryAxisDataItem = /** @class */ (function (_super) {\r\n    __extends(CategoryAxisDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CategoryAxisDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.seriesDataItems = {};\r\n        _this.className = \"CategoryAxisDataItem\";\r\n        _this.text = \"{category}\";\r\n        _this.locations.category = 0;\r\n        _this.locations.endCategory = 1;\r\n        _this.deltaPosition = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CategoryAxisDataItem.prototype, \"category\", {\r\n        /**\r\n         * @return Category\r\n         */\r\n        get: function () {\r\n            if (this._adapterO) {\r\n                if (this._adapterO.isEnabled(\"category\")) {\r\n                    return this._adapterO.apply(\"category\", this.properties.category);\r\n                }\r\n            }\r\n            return this.properties.category;\r\n        },\r\n        /**\r\n         * Category.\r\n         *\r\n         * @param value  Category\r\n         */\r\n        set: function (value) {\r\n            var oldCategory = this.properties.category;\r\n            this.setProperty(\"category\", value);\r\n            if ($type.hasValue(oldCategory) && oldCategory != value) {\r\n                if (this.component) {\r\n                    this.component.validateDataElement(this);\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxisDataItem.prototype, \"endCategory\", {\r\n        /**\r\n         * @return End category\r\n         */\r\n        get: function () {\r\n            return this.properties.endCategory;\r\n        },\r\n        /**\r\n         * End category.\r\n         *\r\n         * Used for items that span several categories, like [[CategoryAxisBreak]].\r\n         *\r\n         * @param value  End category\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"endCategory\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxisDataItem.prototype, \"deltaPosition\", {\r\n        get: function () {\r\n            return this.properties.deltaCoordinate;\r\n        },\r\n        set: function (value) {\r\n            if (value != this.properties.deltaCoordinate) {\r\n                this.setProperty(\"deltaCoordinate\", value);\r\n                if (this.component) {\r\n                    this.component.invalidateDataItems();\r\n                    this.component.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return CategoryAxisDataItem;\r\n}(AxisDataItem));\r\nexport { CategoryAxisDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to create a category-based axis for the chart.\r\n *\r\n * ```TypeScript\r\n * // Create the axis\r\n * let xAxis = chart.xAxes.push(new am4charts.CategoryAxis());\r\n *\r\n * // Set settings\r\n * xAxis.title.text = \"Clients\";\r\n * ```\r\n * ```JavaScript\r\n * // Create the axis\r\n * var valueAxis = chart.xAxes.push(new am4charts.CategoryAxis());\r\n *\r\n * // Set settings\r\n * valueAxis.title.text = \"Clients\";\r\n * ```\r\n * ```JSON\r\n * \"xAxes\": [{\r\n *   \"type\": \"CategoryAxis\",\r\n *   \"title\": {\r\n *     \"text\": \"Clients\"\r\n *   }\r\n * }]\r\n * ```\r\n *\r\n * @see {@link ICategoryAxisEvents} for a list of available Events\r\n * @see {@link ICategoryAxisAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar CategoryAxis = /** @class */ (function (_super) {\r\n    __extends(CategoryAxis, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CategoryAxis() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * A collection that holds Axis' data items sorted by each category.\r\n         */\r\n        _this.dataItemsByCategory = new Dictionary();\r\n        _this.className = \"CategoryAxis\";\r\n        // Set field name\r\n        _this.axisFieldName = \"category\";\r\n        _this._lastDataItem = _this.createDataItem();\r\n        _this._lastDataItem.component = _this;\r\n        _this._disposers.push(_this._lastDataItem);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns a new/empty [[DataItem]] of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    CategoryAxis.prototype.createDataItem = function () {\r\n        return new CategoryAxisDataItem();\r\n    };\r\n    /**\r\n     * Returns a new/empty [[AxisBreak]] of the appropriate type.\r\n     *\r\n     * @return Axis break\r\n     */\r\n    CategoryAxis.prototype.createAxisBreak = function () {\r\n        return new CategoryAxisBreak();\r\n    };\r\n    /**\r\n     * Processes a related series' data item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param dataItem  Data item\r\n     */\r\n    CategoryAxis.prototype.processSeriesDataItem = function (dataItem, axisLetter) {\r\n        _super.prototype.processSeriesDataItem.call(this, dataItem, axisLetter);\r\n        var category = dataItem[\"category\" + this.axisLetter];\r\n        if ($type.hasValue(category)) {\r\n            var categoryAxisDataItem = this.dataItemsByCategory.getKey(category);\r\n            if (categoryAxisDataItem) {\r\n                var seriesId = dataItem.component.uid;\r\n                var seriesDataItems = categoryAxisDataItem.seriesDataItems[seriesId];\r\n                if (!seriesDataItems) {\r\n                    seriesDataItems = [];\r\n                    categoryAxisDataItem.seriesDataItems[seriesId] = seriesDataItems;\r\n                }\r\n                seriesDataItems.push(dataItem);\r\n            }\r\n        }\r\n        else {\r\n            dataItem.component.dataItems.remove(dataItem);\r\n        }\r\n    };\r\n    /**\r\n     * Validates the data range.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     */\r\n    CategoryAxis.prototype.validateDataRange = function () {\r\n        var _this = this;\r\n        _super.prototype.validateDataRange.call(this);\r\n        $iter.each(this._series.iterator(), function (series) {\r\n            if ((series.xAxis instanceof CategoryAxis) && (series.yAxis instanceof CategoryAxis)) {\r\n                series.invalidateDataRange();\r\n            }\r\n            else {\r\n                var startIndex = _this.positionToIndex(_this.start);\r\n                var endIndex = _this.positionToIndex(_this.end);\r\n                if (endIndex >= _this.dataItems.length) {\r\n                    endIndex--;\r\n                }\r\n                var seriesId = series.uid;\r\n                var minIndex = void 0;\r\n                var maxIndex = void 0;\r\n                for (var i = startIndex; i <= endIndex; i++) {\r\n                    var axisDataItem = _this.dataItems.getIndex(i);\r\n                    if (axisDataItem) {\r\n                        var seriesDataItems = axisDataItem.seriesDataItems[seriesId];\r\n                        if (seriesDataItems) {\r\n                            for (var i_1 = 0; i_1 < seriesDataItems.length; i_1++) {\r\n                                var seriesDataItem = seriesDataItems[i_1];\r\n                                if (seriesDataItem) {\r\n                                    var index = seriesDataItem.index;\r\n                                    if (!$type.isNumber(minIndex) || index < minIndex) {\r\n                                        minIndex = index;\r\n                                    }\r\n                                    if (!$type.isNumber(maxIndex) || index > maxIndex) {\r\n                                        maxIndex = index;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if ($type.isNumber(minIndex)) {\r\n                    series.startIndex = minIndex;\r\n                }\r\n                else {\r\n                    series.start = _this.start;\r\n                }\r\n                if ($type.isNumber(maxIndex)) {\r\n                    series.endIndex = maxIndex + 1;\r\n                }\r\n                else {\r\n                    series.end = _this.end;\r\n                }\r\n                // range might not change, but axis breaks might.\r\n                if (_this._axisBreaks && _this._axisBreaks.length > 0) {\r\n                    series.invalidateDataRange();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Validates the whole axis. Causes it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     */\r\n    CategoryAxis.prototype.validate = function () {\r\n        var _this = this;\r\n        _super.prototype.validate.call(this);\r\n        var dataCount = this.dataItems.length;\r\n        var startIndex = $math.fitToRange(Math.floor(this.start * dataCount - 1), 0, dataCount);\r\n        var endIndex = $math.fitToRange(Math.ceil(this.end * dataCount), 0, dataCount);\r\n        if (this.renderer.invalid) {\r\n            this.renderer.validate();\r\n        }\r\n        // find frequency at which we'll show items\r\n        var maxCount = this.renderer.axisLength / this.renderer.minGridDistance;\r\n        var frequency = Math.min(this.dataItems.length, Math.ceil((endIndex - startIndex) / maxCount));\r\n        this._startIndex = Math.floor(startIndex / frequency) * frequency;\r\n        this._endIndex = Math.ceil(this.end * dataCount);\r\n        this.fixAxisBreaks();\r\n        if (this._startIndex == this._endIndex) {\r\n            this._endIndex++;\r\n        }\r\n        this._frequency = frequency;\r\n        if (this.axisLength <= 0) {\r\n            return;\r\n        }\r\n        this.maxZoomFactor = this.dataItems.length;\r\n        if (this.dataItems.length <= 0) {\r\n            this.maxZoomFactor = 1;\r\n        }\r\n        this.resetIterators();\r\n        // it's important to use protected variables here, as getters will return 0 - length\r\n        // TODO use iterator instead\r\n        // @ todo: not solved cat axis item fading\r\n        startIndex = $math.max(0, this._startIndex - this._frequency);\r\n        endIndex = $math.min(this.dataItems.length, this._endIndex + this._frequency);\r\n        var itemIndex = 0;\r\n        for (var i = 0; i < startIndex; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            dataItem.__disabled = true;\r\n        }\r\n        for (var i = endIndex, len = this.dataItems.length; i < len; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            dataItem.__disabled = true;\r\n        }\r\n        for (var i = startIndex; i < endIndex; i++) {\r\n            if (i < this.dataItems.length) {\r\n                var dataItem = this.dataItems.getIndex(i);\r\n                if (i / this._frequency == Math.round(i / this._frequency)) {\r\n                    var axisBreak = this.isInBreak(i);\r\n                    if (!axisBreak) {\r\n                        this.appendDataItem(dataItem);\r\n                        this.validateDataElement(dataItem, itemIndex);\r\n                    }\r\n                    itemIndex++;\r\n                }\r\n                else {\r\n                    //previously we disabled all before, but this is better for cpu\r\n                    //this.validateDataElement(dataItem, itemIndex); // helps to solve shrinking // not good - creates all items\r\n                    dataItem.__disabled = true;\r\n                }\r\n            }\r\n        }\r\n        this.appendDataItem(this._lastDataItem);\r\n        this.validateDataElement(this._lastDataItem, itemIndex + 1, this.dataItems.length);\r\n        if (this._axisBreaks) {\r\n            var axisBreaks = this._axisBreaks;\r\n            axisBreaks.each(function (axisBreak) {\r\n                var adjustedStartValue = axisBreak.adjustedStartValue;\r\n                var adjustedEndValue = axisBreak.adjustedEndValue;\r\n                if ($math.intersect({ start: adjustedStartValue, end: adjustedEndValue }, { start: _this._startIndex, end: _this._endIndex })) {\r\n                    for (var b = adjustedStartValue; b <= adjustedEndValue; b++) {\r\n                        var dataItem = _this.dataItems.getIndex(b);\r\n                        dataItem.__disabled = true;\r\n                    }\r\n                    var frequency_1 = $math.fitToRange(Math.ceil(_this._frequency / axisBreak.breakSize), 1, adjustedEndValue - adjustedStartValue);\r\n                    var itemIndex_1 = 0;\r\n                    if (axisBreak.breakSize > 0) {\r\n                        // TODO use iterator instead\r\n                        for (var b = adjustedStartValue; b <= adjustedEndValue; b = b + frequency_1) {\r\n                            var dataItem = _this.dataItems.getIndex(b);\r\n                            dataItem.__disabled = false;\r\n                            _this.appendDataItem(dataItem);\r\n                            _this.validateDataElement(dataItem, itemIndex_1);\r\n                            itemIndex_1++;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        this.validateBreaks();\r\n        this.validateAxisRanges();\r\n        this.ghostLabel.invalidate(); // solves font issue\r\n        this.renderer.invalidateLayout();\r\n    };\r\n    /**\r\n     * [validateDataElement description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param dataItem   [description]\r\n     * @param itemIndex  [description]\r\n     */\r\n    CategoryAxis.prototype.validateDataElement = function (dataItem, itemIndex, index) {\r\n        _super.prototype.validateDataElement.call(this, dataItem);\r\n        dataItem.itemIndex = this._axisItemCount;\r\n        this._axisItemCount++;\r\n        //dataItem.__disabled = false;\r\n        var renderer = this.renderer;\r\n        if (!$type.isNumber(index)) {\r\n            index = this.categoryToIndex(dataItem.category);\r\n        }\r\n        var endIndex = this.categoryToIndex(dataItem.endCategory);\r\n        if (!$type.isNumber(endIndex)) {\r\n            endIndex = index;\r\n        }\r\n        var position = this.indexToPosition(index, dataItem.locations.category);\r\n        var endPosition = this.indexToPosition(endIndex, dataItem.locations.endCategory);\r\n        dataItem.position = position;\r\n        var fillEndIndex;\r\n        var fillPosition;\r\n        var fillEndPosition;\r\n        if (dataItem.isRange) {\r\n            fillEndIndex = endIndex;\r\n            fillPosition = this.indexToPosition(index, dataItem.locations.category);\r\n            fillEndPosition = this.indexToPosition(fillEndIndex, dataItem.locations.endCategory);\r\n        }\r\n        dataItem.point = renderer.positionToPoint(position);\r\n        var tick = dataItem.tick;\r\n        if (tick && !tick.disabled) {\r\n            renderer.updateTickElement(tick, position, endPosition);\r\n        }\r\n        var grid = dataItem.grid;\r\n        if (grid && !grid.disabled) {\r\n            renderer.updateGridElement(grid, position, endPosition);\r\n        }\r\n        var label = dataItem.label;\r\n        if (label && !label.disabled) {\r\n            // theorethically this might result problems if category text changes, the range text won't change. But otherwise range.label.text = \"custom text\" wont' work, which is not intuitive.\r\n            if (!dataItem.isRange || label.text == undefined) {\r\n                dataItem.text = dataItem.text;\r\n            }\r\n            renderer.updateLabelElement(label, position, endPosition);\r\n            if ((renderer instanceof AxisRendererY && dataItem.label.measuredWidth > this.ghostLabel.measuredWidth) || (renderer instanceof AxisRendererX && dataItem.label.measuredHeight > this.ghostLabel.measuredHeight)) {\r\n                if (dataItem.label.html) {\r\n                    this.ghostLabel.html = dataItem.label.currentText;\r\n                }\r\n                else {\r\n                    this.ghostLabel.text = dataItem.label.currentText;\r\n                }\r\n            }\r\n        }\r\n        var fill = dataItem.axisFill;\r\n        if (fill && !fill.disabled) {\r\n            if (!dataItem.isRange) {\r\n                fillEndIndex = index + this._frequency;\r\n                fillPosition = this.indexToPosition(index, fill.location);\r\n                fillEndPosition = this.indexToPosition(fillEndIndex, fill.location);\r\n            }\r\n            renderer.updateFillElement(fill, fillPosition, fillEndPosition);\r\n            if (!dataItem.isRange) {\r\n                this.fillRule(dataItem, itemIndex);\r\n            }\r\n        }\r\n        if (dataItem.bullet) {\r\n            renderer.updateBullet(dataItem.bullet, position, endPosition);\r\n        }\r\n        var mask = dataItem.mask;\r\n        if (mask) {\r\n            renderer.updateFillElement(mask, fillPosition, fillEndPosition);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    CategoryAxis.prototype.disposeData = function () {\r\n        this.dataItemsByCategory.clear();\r\n        _super.prototype.disposeData.call(this);\r\n    };\r\n    /**\r\n     * Processes the axis data item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem     Data item\r\n     * @param dataContext  The raw data that corresponds to this data item\r\n     */\r\n    CategoryAxis.prototype.processDataItem = function (dataItem, dataContext) {\r\n        if (dataItem) {\r\n            // creat a collection for fast access\r\n            _super.prototype.processDataItem.call(this, dataItem, dataContext);\r\n            // check if such category already exists\r\n            //let existingDataItem: CategoryAxisDataItem = this.dataItemsByCategory.getKey(dataItem.category);\r\n            //if (existingDataItem && existingDataItem != dataItem) {\r\n            //\tthis.dataItems.remove(existingDataItem);\r\n            //}\r\n            if ($type.hasValue(dataItem.category)) {\r\n                this.dataItemsByCategory.setKey(dataItem.category, dataItem);\r\n            }\r\n        }\r\n    };\r\n    CategoryAxis.prototype.getDataItem = function (dataContext) {\r\n        var category = (dataContext[this.dataFields.category]);\r\n        if ($type.hasValue(category)) {\r\n            var dataItem = this.dataItemsByCategory.getKey(category);\r\n            if (dataItem) {\r\n                return dataItem;\r\n            }\r\n            else {\r\n                return this.dataItems.create();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Converts a category index to an actual screen coordinate on the axis.\r\n     *\r\n     * `location` identifies relative location within category. 0 - beginning,\r\n     * 0.5 - middle, 1 - end, and anything inbetween.\r\n     *\r\n     * @param index     Index\r\n     * @param location  Location (0-1)\r\n     * @return Position (px)\r\n     */\r\n    CategoryAxis.prototype.indexToPosition = function (index, location) {\r\n        if (!$type.isNumber(location)) {\r\n            location = 0.5;\r\n        }\r\n        var startIndex = this.startIndex;\r\n        var endIndex = this.endIndex;\r\n        var difference = this.adjustDifference(startIndex, endIndex);\r\n        var startLocation = this.startLocation;\r\n        var endLocation = this.endLocation;\r\n        difference -= startLocation;\r\n        difference -= (1 - endLocation);\r\n        if (this._axisBreaks) {\r\n            var axisBreaks = this._axisBreaks;\r\n            $iter.eachContinue(axisBreaks.iterator(), function (axisBreak) {\r\n                var breakStartIndex = axisBreak.adjustedStartValue;\r\n                var breakEndIndex = axisBreak.adjustedEndValue;\r\n                if (index < startIndex || !$type.isNumber(breakStartIndex) || !$type.isNumber(breakEndIndex)) {\r\n                    return false;\r\n                }\r\n                if ($math.intersect({ start: breakStartIndex, end: breakEndIndex }, { start: startIndex, end: endIndex })) {\r\n                    breakStartIndex = Math.max(startIndex, breakStartIndex);\r\n                    breakEndIndex = Math.min(endIndex, breakEndIndex);\r\n                    var breakSize = axisBreak.breakSize;\r\n                    // value to the right of break end\r\n                    if (index > breakEndIndex) {\r\n                        startIndex += (breakEndIndex - breakStartIndex) * (1 - breakSize);\r\n                    }\r\n                    // value to the left of break start\r\n                    else if (index < breakStartIndex) {\r\n                    }\r\n                    // value within break\r\n                    else {\r\n                        index = breakStartIndex + (index - breakStartIndex) * breakSize;\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n        var deltaPosition = 0;\r\n        var dataItem = this.dataItems.getIndex(index);\r\n        if (dataItem) {\r\n            deltaPosition = dataItem.deltaPosition;\r\n        }\r\n        return $math.round(deltaPosition + (index + location - startLocation - startIndex) / difference, 5);\r\n    };\r\n    /**\r\n     * Converts a string category name to relative position on axis.\r\n     *\r\n     * `location` identifies relative location within category. 0 - beginning,\r\n     * 0.5 - middle, 1 - end, and anything inbetween.\r\n     *\r\n     * @param category  Category name\r\n     * @param location  Location (0-1)\r\n     * @return Position\r\n     */\r\n    CategoryAxis.prototype.categoryToPosition = function (category, location) {\r\n        var index = this.categoryToIndex(category);\r\n        return this.indexToPosition(index, location);\r\n    };\r\n    /**\r\n     * Converts a string category name to a orientation point (x, y, angle) on axis\r\n     *\r\n     * `location` identifies relative location within category. 0 - beginning,\r\n     * 0.5 - middle, 1 - end, and anything inbetween.\r\n     * @param category  Category name\r\n     * @param location  Location (0-1)\r\n     * @return Orientation point\r\n     */\r\n    CategoryAxis.prototype.categoryToPoint = function (category, location) {\r\n        var position = this.categoryToPosition(category, location);\r\n        var point = this.renderer.positionToPoint(position);\r\n        var angle = this.renderer.positionToAngle(position);\r\n        return { x: point.x, y: point.y, angle: angle };\r\n    };\r\n    /**\r\n     * Converts a string category name to a orientation point (x, y, angle) on axis\r\n     *\r\n     * `location` identifies relative location within category. 0 - beginning,\r\n     * 0.5 - middle, 1 - end, and anything inbetween.\r\n     * @param category  Category name\r\n     * @param location  Location (0-1)\r\n     * @return Orientation point\r\n     */\r\n    CategoryAxis.prototype.anyToPoint = function (category, location) {\r\n        return this.categoryToPoint(category, location);\r\n    };\r\n    /**\r\n     * Converts a string category name to relative position on axis.\r\n     *\r\n     * An alias to `categoryToPosition()`.\r\n     *\r\n     * @param category  Category name\r\n     * @param location  Location (0-1)\r\n     * @return Relative position\r\n     */\r\n    CategoryAxis.prototype.anyToPosition = function (category, location) {\r\n        return this.categoryToPosition(category, location);\r\n    };\r\n    /**\r\n     * Converts named category to an index of data item it corresponds to.\r\n     *\r\n     * @param category  Category\r\n     * @return Data item index\r\n     */\r\n    CategoryAxis.prototype.categoryToIndex = function (category) {\r\n        if ($type.hasValue(category)) {\r\n            var dataItem = this.dataItemsByCategory.getKey(category);\r\n            if (dataItem) {\r\n                return dataItem.index;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Zooms the axis to specific named ctaegories.\r\n     *\r\n     * @param startCategory  Start category\r\n     * @param endCategory    End category\r\n     */\r\n    CategoryAxis.prototype.zoomToCategories = function (startCategory, endCategory) {\r\n        this.zoomToIndexes(this.categoryToIndex(startCategory), this.categoryToIndex(endCategory) + 1);\r\n    };\r\n    /**\r\n     * [getAnyRangePath description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param start         [description]\r\n     * @param end           [description]\r\n     * @param startLocation [description]\r\n     * @param endLocation   [description]\r\n     * @return [description]\r\n     */\r\n    CategoryAxis.prototype.getAnyRangePath = function (start, end, startLocation, endLocation) {\r\n        var startPos = this.categoryToPosition(start, startLocation);\r\n        var endPos = this.categoryToPosition(end, endLocation);\r\n        return this.getPositionRangePath(startPos, endPos); // Base class (Axis) gets range shape from AxisRenderer\r\n    };\r\n    /**\r\n     * Takes an absolute position (px) within axis and adjust it to a specific\r\n     * `location` within category it corresponds to.\r\n     *\r\n     * @param position  Source position (px)\r\n     * @param location  Location within category (0-1)\r\n     * @return Adjusted position (px)\r\n     */\r\n    CategoryAxis.prototype.roundPosition = function (position, location) {\r\n        var index = this.positionToIndex(position);\r\n        return this.indexToPosition(index, location);\r\n    };\r\n    /**\r\n     * Finds and returns first series data item with specific category\r\n     * @param series    Target series\r\n     * @param category  Category\r\n     * @return XYSeriesDataItem data item\r\n     */\r\n    CategoryAxis.prototype.getFirstSeriesDataItem = function (series, category) {\r\n        for (var i = 0; i < series.dataItems.length; i++) {\r\n            var dataItem = series.dataItems.getIndex(i);\r\n            if (series.xAxis == this) {\r\n                if (dataItem.categoryX == category) {\r\n                    return dataItem;\r\n                }\r\n            }\r\n            if (series.yAxis == this) {\r\n                if (dataItem.categoryY == category) {\r\n                    return dataItem;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Finds and returns last series data item with specific category.\r\n     * @param series    Target series\r\n     * @param category  Category\r\n     * @return XYSeriesDataItem data item\r\n     */\r\n    CategoryAxis.prototype.getLastSeriesDataItem = function (series, category) {\r\n        for (var i = series.dataItems.length - 1; i >= 0; i--) {\r\n            var dataItem = series.dataItems.getIndex(i);\r\n            if (series.xAxis == this) {\r\n                if (dataItem.categoryX == category) {\r\n                    return dataItem;\r\n                }\r\n            }\r\n            if (series.yAxis == this) {\r\n                if (dataItem.categoryY == category) {\r\n                    return dataItem;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    // todo: optimize\r\n    CategoryAxis.prototype.getSeriesDataItemByCategory = function (category, series) {\r\n        var _this = this;\r\n        var seriesDataItem;\r\n        series.dataItems.each(function (dataItem) {\r\n            if (series.xAxis == _this) {\r\n                if (dataItem.categoryX == category) {\r\n                    seriesDataItem = dataItem;\r\n                }\r\n            }\r\n            else if (series.yAxis == _this) {\r\n                if (dataItem.categoryY == category) {\r\n                    seriesDataItem = dataItem;\r\n                }\r\n            }\r\n        });\r\n        return seriesDataItem;\r\n    };\r\n    /**\r\n     * Returns a data item from Series that corresponds to a specific absolute\r\n     * position on the Axis.\r\n     *\r\n     * @param series    Target series\r\n     * @param position  Position (px)\r\n     * @return XYSeriesDataItem data item\r\n     */\r\n    CategoryAxis.prototype.getSeriesDataItem = function (series, position, findNearest) {\r\n        var _this = this;\r\n        if ($type.isNumber(position)) {\r\n            var index_1 = this.positionToIndex(position);\r\n            if (index_1 >= this.dataItems.length) {\r\n                index_1--;\r\n            }\r\n            var dataItem = this.dataItems.getIndex(index_1);\r\n            if (dataItem) {\r\n                var category_1 = dataItem.category;\r\n                var sdi_1;\r\n                var seriesDataItem = series.dataItems.getIndex(index_1);\r\n                if (seriesDataItem) {\r\n                    if (series.xAxis == this) {\r\n                        if (seriesDataItem.categoryX == category_1) {\r\n                            return seriesDataItem;\r\n                        }\r\n                    }\r\n                    if (series.yAxis == this) {\r\n                        if (seriesDataItem.categoryY == category_1) {\r\n                            return seriesDataItem;\r\n                        }\r\n                    }\r\n                }\r\n                series.dataItems.each(function (dataItem) {\r\n                    if (series.xAxis == _this) {\r\n                        if (dataItem.categoryX == category_1) {\r\n                            if (!sdi_1) {\r\n                                sdi_1 = dataItem;\r\n                            }\r\n                            if (Math.abs(index_1 - sdi_1.index) > Math.abs(index_1 - dataItem.index)) {\r\n                                sdi_1 = dataItem;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (series.yAxis == _this) {\r\n                        if (dataItem.categoryY == category_1) {\r\n                            if (!sdi_1) {\r\n                                sdi_1 = dataItem;\r\n                            }\r\n                            if (Math.abs(index_1 - sdi_1.index) > Math.abs(index_1 - dataItem.index)) {\r\n                                sdi_1 = dataItem;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                //@todo\r\n                if (findNearest) {\r\n                }\r\n                return sdi_1;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns the X coordinate for series' data item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     * @param dataItem  Data item\r\n     * @param key       Category\r\n     * @param location  Location (0-1)\r\n     * @return X coordinate (px)\r\n     */\r\n    CategoryAxis.prototype.getX = function (dataItem, key, location, stackKey, range) {\r\n        var position = this.getPositionX(dataItem, key, location, stackKey, range);\r\n        if ($type.isNaN(position)) {\r\n            return this.basePoint.x;\r\n        }\r\n        else {\r\n            return this.renderer.positionToPoint(position).x;\r\n        }\r\n    };\r\n    /**\r\n     * Returns relative position on axis for series' data item.\r\n     *\r\n     * @since 4.5.14\r\n     * @param  dataItem  Data item\r\n     * @param  key       Category\r\n     * @param  location  Location (0-1)\r\n     * @return           Relative position\r\n     */\r\n    CategoryAxis.prototype.getPositionX = function (dataItem, key, location, stackKey, range) {\r\n        var position;\r\n        if ($type.hasValue(key)) {\r\n            position = this.categoryToPosition(dataItem.categories[key], location);\r\n        }\r\n        if (range) {\r\n            position = $math.fitToRange(position, range.start, range.end);\r\n        }\r\n        return position;\r\n    };\r\n    /**\r\n     * Returns the Y coordinate for series' data item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     * @param dataItem  Data item\r\n     * @param key       Category\r\n     * @param location  Location (0-1)\r\n     * @return Y coordinate (px)\r\n     */\r\n    CategoryAxis.prototype.getY = function (dataItem, key, location, stackKey, range) {\r\n        var position = this.getPositionY(dataItem, key, location, stackKey, range);\r\n        if ($type.isNaN(position)) {\r\n            return this.basePoint.y;\r\n        }\r\n        else {\r\n            return this.renderer.positionToPoint(position).y;\r\n        }\r\n    };\r\n    /**\r\n     * Returns relative position on axis for series' data item.\r\n     *\r\n     * @since 4.5.14\r\n     * @param  dataItem  Data item\r\n     * @param  key       Category\r\n     * @param  location  Location (0-1)\r\n     * @return           Relative position\r\n     */\r\n    CategoryAxis.prototype.getPositionY = function (dataItem, key, location, stackKey, range) {\r\n        var position;\r\n        if ($type.hasValue(key)) {\r\n            position = this.categoryToPosition(dataItem.categories[key], location);\r\n        }\r\n        if (range) {\r\n            position = $math.fitToRange(position, range.start, range.end);\r\n        }\r\n        return position;\r\n    };\r\n    /**\r\n     * Returns an angle for series data item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     * @param dataItem  Data item\r\n     * @param key       Category\r\n     * @param location  Location (0-1)\r\n     * @param stackKey  Stack key (?)\r\n     * @param range Range to fit in\r\n     * @return Angle\r\n     */\r\n    CategoryAxis.prototype.getAngle = function (dataItem, key, location, stackKey, range) {\r\n        var position = this.categoryToPosition(dataItem.categories[key], location);\r\n        if (range) {\r\n            position = $math.fitToRange(position, range.start, range.end);\r\n        }\r\n        return this.positionToAngle(position);\r\n    };\r\n    /**\r\n     * Returns an absolute pixel coordinate of the start of the cell (category),\r\n     * that specific position value falls into.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     * @param position  Position (px)\r\n     * @return Cell start position (px)\r\n     */\r\n    CategoryAxis.prototype.getCellStartPosition = function (position) {\r\n        return this.roundPosition(position, 0);\r\n    };\r\n    /**\r\n     * Returns an absolute pixel coordinate of the end of the cell (category),\r\n     * that specific position value falls into.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     * @param position  Position (px)\r\n     * @return Cell end position (px)\r\n     */\r\n    CategoryAxis.prototype.getCellEndPosition = function (position) {\r\n        return this.roundPosition(position, 1);\r\n    };\r\n    /**\r\n     * Returns text to show in a category tooltip, based on specific position\r\n     * within axis.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param position  Position (px)\r\n     * @return Label (category)\r\n     */\r\n    CategoryAxis.prototype.getTooltipText = function (position) {\r\n        var dataItem = this.dataItems.getIndex(this.positionToIndex(position));\r\n        if (dataItem) {\r\n            this.tooltipDataItem = dataItem;\r\n            this.tooltip.dataItem = dataItem;\r\n            if (this.tooltipText) {\r\n                return this.tooltipText;\r\n            }\r\n            if (!this._adapterO) {\r\n                return dataItem.category;\r\n            }\r\n            else {\r\n                return this._adapterO.apply(\"getTooltipText\", dataItem.category);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns an index of the category that corresponds to specific pixel\r\n     * position within axis.\r\n     *\r\n     * @param position  Position (px)\r\n     * @return Category index\r\n     */\r\n    CategoryAxis.prototype.positionToIndex = function (position) {\r\n        position = $math.round(position, 10);\r\n        if (position < 0) {\r\n            position = 0;\r\n        }\r\n        if (position > 1) {\r\n            position = 1;\r\n        }\r\n        var startIndex = this.startIndex;\r\n        var endIndex = this.endIndex;\r\n        var difference = endIndex - startIndex - this.startLocation - (1 - this.endLocation);\r\n        position += 1 / difference * this.startLocation;\r\n        var index = null;\r\n        if (this._axisBreaks) {\r\n            var axisBreaks = this._axisBreaks;\r\n            // in case we have some axis breaks\r\n            $iter.eachContinue(axisBreaks.iterator(), function (axisBreak) {\r\n                var breakStartPosition = axisBreak.startPosition;\r\n                var breakEndPosition = axisBreak.endPosition;\r\n                var breakStartIndex = axisBreak.adjustedStartValue;\r\n                var breakEndIndex = axisBreak.adjustedEndValue;\r\n                breakStartIndex = $math.max(breakStartIndex, startIndex);\r\n                breakEndIndex = $math.min(breakEndIndex, endIndex);\r\n                var breakSize = axisBreak.breakSize;\r\n                difference -= (breakEndIndex - breakStartIndex) * (1 - breakSize);\r\n                // position to the right of break end\r\n                if (position > breakEndPosition) {\r\n                    startIndex += (breakEndIndex - breakStartIndex) * (1 - breakSize);\r\n                }\r\n                // position to the left of break start\r\n                else if (position < breakStartPosition) {\r\n                }\r\n                // value within break\r\n                else {\r\n                    var breakPosition = (position - breakStartPosition) / (breakEndPosition - breakStartPosition);\r\n                    index = breakStartIndex + Math.round(breakPosition * (breakEndIndex - breakStartIndex));\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n        if (!$type.isNumber(index)) {\r\n            index = Math.floor(position * difference + startIndex);\r\n        }\r\n        if (index >= this.dataItems.length) {\r\n            index = this.dataItems.length - 1;\r\n        }\r\n        // not good, when panning out of bounds, each time one less item gets selected\r\n        //if (index >= endIndex) {\r\n        //\tindex--;\r\n        //}\r\n        return index;\r\n    };\r\n    /**\r\n     * Returns category based on position.\r\n     *\r\n     * Please note that `position` represents position within axis which may be\r\n     * zoomed and not correspond to Cursor's `position`.\r\n     *\r\n     * To convert Cursor's `position` to Axis' `position` use `toAxisPosition()` method.\r\n     *\r\n     * This is a synonim of `getPositionLabel()` implemented here for consistentcy.\r\n     *\r\n     * @since 4.3.8\r\n     * @see {@link https://www.amcharts.com/docs/v4/tutorials/tracking-cursors-position-via-api/#Tracking_Cursor_s_position} For more information about cursor tracking.\r\n     * @param position  Relative position on axis (0-1)\r\n     * @return Position label\r\n     */\r\n    CategoryAxis.prototype.positionToCategory = function (position) {\r\n        return this.getPositionLabel(position);\r\n    };\r\n    /**\r\n     * Returns category based on position.\r\n     *\r\n     * Please note that `position` represents position within axis which may be\r\n     * zoomed and not correspond to Cursor's `position`.\r\n     *\r\n     * To convert Cursor's `position` to Axis' `position` use `toAxisPosition()` method.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v4/tutorials/tracking-cursors-position-via-api/#Tracking_Cursor_s_position} For more information about cursor tracking.\r\n     * @param position  Relative position on axis (0-1)\r\n     * @return Position label\r\n     */\r\n    CategoryAxis.prototype.getPositionLabel = function (position) {\r\n        var dataItem = this.dataItems.getIndex(this.positionToIndex(position));\r\n        if (dataItem) {\r\n            return dataItem.category;\r\n        }\r\n    };\r\n    Object.defineProperty(CategoryAxis.prototype, \"basePoint\", {\r\n        /**\r\n         * Coordinates of the actual axis start.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Base point\r\n         */\r\n        get: function () {\r\n            // This makes base grid to be drawn at the end of the axis and adds extra\r\n            // grid which we need to nicely close the chart.\r\n            return this.renderer.positionToPoint(1);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initializes Axis' renderer.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    CategoryAxis.prototype.initRenderer = function () {\r\n        _super.prototype.initRenderer.call(this);\r\n        var renderer = this.renderer;\r\n        renderer.baseGrid.disabled = true;\r\n    };\r\n    Object.defineProperty(CategoryAxis.prototype, \"frequency\", {\r\n        /**\r\n         * Current frequency of labels of the axis.\r\n         *\r\n         * Normally it would be 1, but when labels start to be hidden due\r\n         * to `minGridDistance` this read-only property will increase.\r\n         *\r\n         * @readonly\r\n         * @since 4.2.0\r\n         * @return Label frequency\r\n         */\r\n        get: function () {\r\n            return this._frequency;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxis.prototype, \"sortBySeries\", {\r\n        /**\r\n         * @return Sort categories?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"sortBySeries\");\r\n        },\r\n        /**\r\n         * If set to a reference of [[ColumnSeries]] the categories will be sorted\r\n         * by actual values.\r\n         *\r\n         * The categories are ordered in descending order (from highest values to\r\n         * lowest). To reverse the order, use axis renderer's `inversed` setting.\r\n         * E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * categoryAxis.sortBySeries = series;\r\n         * categoryAxis.renderer.inversed = true;\r\n         * ```\r\n         * ```JavaScript\r\n         * categoryAxis.sortBySeries = series;\r\n         * categoryAxis.renderer.inversed = true;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"xAxes\": [{\r\n         *     // ...\r\n         *     \"sortBySeries\": \"s1\",\r\n         *     \"renderer\": {\r\n         *       // ...\r\n         *       \"inversed\": true\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @since 4.8.7\r\n         * @param  value  Sort categories?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"sortBySeries\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    CategoryAxis.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            if ($type.hasValue(config.sortBySeries) && $type.isString(config.sortBySeries)) {\r\n                if (this.map.hasKey(config.sortBySeries)) {\r\n                    config.sortBySeries = this.map.getKey(config.sortBySeries);\r\n                }\r\n                else {\r\n                    this.addDelayedMap(\"sortBySeries\", config.sortBySeries);\r\n                    delete config.sortBySeries;\r\n                }\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    return CategoryAxis;\r\n}(Axis));\r\nexport { CategoryAxis };\r\n/**\r\n * Register class, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CategoryAxis\"] = CategoryAxis;\r\nregistry.registeredClasses[\"CategoryAxisDataItem\"] = CategoryAxisDataItem;\r\n//# sourceMappingURL=CategoryAxis.js.map","/**\r\n * A module which defines functionality related to Category Axis Break.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { AxisBreak } from \"./AxisBreak\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Base class to define \"breaks\" in axes\r\n * @see {@link ICategoryAxisBreakEvents} for a list of available events\r\n * @see {@link ICategoryAxisBreakAdapters} for a list of available Adapters\r\n */\r\nvar CategoryAxisBreak = /** @class */ (function (_super) {\r\n    __extends(CategoryAxisBreak, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CategoryAxisBreak() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"CategoryAxisBreak\";\r\n        _this.properties.startLocation = 0.5;\r\n        _this.properties.endLocation = 0.5;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CategoryAxisBreak.prototype, \"startPosition\", {\r\n        /**\r\n         * Pixel position of the break's start.\r\n         *\r\n         * @return Position (px)\r\n         * @readonly\r\n         */\r\n        get: function () {\r\n            if (this.axis) {\r\n                return this.axis.indexToPosition(this.adjustedStartValue, this.startLocation);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxisBreak.prototype, \"endPosition\", {\r\n        /**\r\n         * Pixel position of the break's end.\r\n         *\r\n         * @return Position (px)\r\n         * @readonly\r\n         */\r\n        get: function () {\r\n            if (this.axis) {\r\n                return this.axis.indexToPosition(this.adjustedEndValue, this.endLocation);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxisBreak.prototype, \"startCategory\", {\r\n        /**\r\n         * @return Start category\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startCategory\");\r\n        },\r\n        /**\r\n         * A category break starts on.\r\n         *\r\n         * @param value Start category\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"startCategory\", value)) {\r\n                if (this.axis) {\r\n                    this.axis.invalidateDataItems();\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxisBreak.prototype, \"endCategory\", {\r\n        /**\r\n         * @return End category\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endCategory\");\r\n        },\r\n        /**\r\n         * A category break ends on.\r\n         *\r\n         * @param value  End category\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"endCategory\", value)) {\r\n                if (this.axis) {\r\n                    this.axis.invalidateDataItems();\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxisBreak.prototype, \"startValue\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            var category = this.getPropertyValue(\"startCategory\");\r\n            if (category) {\r\n                return this.axis.categoryToIndex(category);\r\n            }\r\n            else {\r\n                return this.getPropertyValue(\"startValue\");\r\n            }\r\n        },\r\n        /**\r\n         * An index of start category.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"startValue\", value)) {\r\n                if (this.axis) {\r\n                    this.axis.invalidateDataItems();\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxisBreak.prototype, \"endValue\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            var category = this.getPropertyValue(\"endCategory\");\r\n            if (category) {\r\n                return this.axis.categoryToIndex(category);\r\n            }\r\n            else {\r\n                return this.getPropertyValue(\"endValue\");\r\n            }\r\n        },\r\n        /**\r\n         * An index of end category or a end value.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"endValue\", value)) {\r\n                if (this.axis) {\r\n                    this.axis.invalidateDataItems();\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxisBreak.prototype, \"startLocation\", {\r\n        /**\r\n         * @return Break start location\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startLocation\");\r\n        },\r\n        /**\r\n         * Indicates where within starting category break should begin.\r\n         *\r\n         * Values range from `0` (start) to `1` (end), with default being `0.5` (middle).\r\n         *\r\n         * E.g. if you want to a break to fully encompass start and end categories,\r\n         * you should set `startLocation = 0` and `endLocation = 1`.\r\n         *\r\n         * @since 4.9.17\r\n         * @default 0.5\r\n         * @param  value  Break start location\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"startLocation\", value)) {\r\n                if (this.axis) {\r\n                    this.axis.invalidateDataItems();\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CategoryAxisBreak.prototype, \"endLocation\", {\r\n        /**\r\n         * @return Break end location\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endLocation\");\r\n        },\r\n        /**\r\n         * Indicates where within ending category break should end.\r\n         *\r\n         * Values range from `0` (start) to `1` (end), with default being `0.5` (middle).\r\n         *\r\n         * E.g. if you want to a break to fully encompass start and end categories,\r\n         * you should set `startLocation = 0` and `endLocation = 1`.\r\n         *\r\n         * @since 4.9.17\r\n         * @default 0.5\r\n         * @param  value  Break end location\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"endLocation\", value)) {\r\n                if (this.axis) {\r\n                    this.axis.invalidateDataItems();\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return CategoryAxisBreak;\r\n}(AxisBreak));\r\nexport { CategoryAxisBreak };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CategoryAxisBreak\"] = CategoryAxisBreak;\r\n//# sourceMappingURL=CategoryAxisBreak.js.map","/**\r\n * DateAxis module\r\n */\r\nimport { __assign, __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ValueAxis, ValueAxisDataItem } from \"./ValueAxis\";\r\nimport { List } from \"../../core/utils/List\";\r\nimport { Dictionary } from \"../../core/utils/Dictionary\";\r\nimport { DateAxisBreak } from \"./DateAxisBreak\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $time from \"../../core/utils/Time\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport { OrderedListTemplate } from \"../../core/utils/SortedList\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines data item for [[DateAxis]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar DateAxisDataItem = /** @class */ (function (_super) {\r\n    __extends(DateAxisDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DateAxisDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"DateAxisDataItem\";\r\n        _this.applyTheme();\r\n        _this.values.date = {};\r\n        _this.values.endDate = {};\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DateAxisDataItem.prototype, \"date\", {\r\n        /**\r\n         * @return Date\r\n         */\r\n        get: function () {\r\n            return this.dates[\"date\"];\r\n        },\r\n        /**\r\n         * Date position of the data item.\r\n         *\r\n         * @param date  Date\r\n         */\r\n        set: function (date) {\r\n            this.setDate(\"date\", date);\r\n            this.value = date.getTime();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxisDataItem.prototype, \"endDate\", {\r\n        /**\r\n         * @return End date\r\n         */\r\n        get: function () {\r\n            return this.dates[\"endDate\"];\r\n        },\r\n        /**\r\n         * End date for data item.\r\n         *\r\n         * @param date End date\r\n         */\r\n        set: function (date) {\r\n            this.setDate(\"endDate\", date);\r\n            this.endValue = date.getTime();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return DateAxisDataItem;\r\n}(ValueAxisDataItem));\r\nexport { DateAxisDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to create a date/time-based axis for the chart.\r\n *\r\n * ```TypeScript\r\n * // Create the axis\r\n * let xAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n *\r\n * // Set settings\r\n * xAxis.title.text = \"Time\";\r\n * ```\r\n * ```JavaScript\r\n * // Create the axis\r\n * var valueAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n *\r\n * // Set settings\r\n * valueAxis.title.text = \"Time\";\r\n * ```\r\n * ```JSON\r\n * \"xAxes\": [{\r\n *   \"type\": \"DateAxis\",\r\n *   \"title\": {\r\n *     \"text\": \"Time\"\r\n *   }\r\n * }]\r\n * ```\r\n *\r\n * @see {@link IDateAxisEvents} for a list of available Events\r\n * @see {@link IDateAxisAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/axes/date-axis/} got `DateAxis` documention\r\n * @important\r\n */\r\nvar DateAxis = /** @class */ (function (_super) {\r\n    __extends(DateAxis, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DateAxis() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this._gapBreaks = false;\r\n        /**\r\n         * A list of date/time intervals for Date axis.\r\n         *\r\n         * This define various granularities available for the axis. For example\r\n         * if you have an axis spanning an hour, and space for 6 grid lines / labels\r\n         * the axis will choose the granularity of 10 minutes, displaying a label\r\n         * every 10 minutes.\r\n         *\r\n         * Default intervals:\r\n         *\r\n         * ```JSON\r\n         * [\r\n         *  { timeUnit: \"millisecond\", count: 1 },\r\n         *  { timeUnit: \"millisecond\", count: 5 },\r\n         *  { timeUnit: \"millisecond\", count: 10 },\r\n         *  { timeUnit: \"millisecond\", count: 50 },\r\n         *  { timeUnit: \"millisecond\", count: 100 },\r\n         *  { timeUnit: \"millisecond\", count: 500 },\r\n         *  { timeUnit: \"second\", count: 1 },\r\n         *  { timeUnit: \"second\", count: 5 },\r\n         *  { timeUnit: \"second\", count: 10 },\r\n         *  { timeUnit: \"second\", count: 30 },\r\n         *  { timeUnit: \"minute\", count: 1 },\r\n         *  { timeUnit: \"minute\", count: 5 },\r\n         *  { timeUnit: \"minute\", count: 10 },\r\n         *  { timeUnit: \"minute\", count: 30 },\r\n         *  { timeUnit: \"hour\", count: 1 },\r\n         *  { timeUnit: \"hour\", count: 3 },\r\n         *  { timeUnit: \"hour\", count: 6 },\r\n         *  { timeUnit: \"hour\", count: 12 },\r\n         *  { timeUnit: \"day\", count: 1 },\r\n         *  { timeUnit: \"day\", count: 2 },\r\n         *  { timeUnit: \"day\", count: 3 },\r\n         *  { timeUnit: \"day\", count: 4 },\r\n         *  { timeUnit: \"day\", count: 5 },\r\n         *  { timeUnit: \"week\", count: 1 },\r\n         *  { timeUnit: \"month\", count: 1 },\r\n         *  { timeUnit: \"month\", count: 2 },\r\n         *  { timeUnit: \"month\", count: 3 },\r\n         *  { timeUnit: \"month\", count: 6 },\r\n         *  { timeUnit: \"year\", count: 1 },\r\n         *  { timeUnit: \"year\", count: 2 },\r\n         *  { timeUnit: \"year\", count: 5 },\r\n         *  { timeUnit: \"year\", count: 10 },\r\n         *  { timeUnit: \"year\", count: 50 },\r\n         *  { timeUnit: \"year\", count: 100 }\r\n         * ]\r\n         * ```\r\n         */\r\n        _this.gridIntervals = new List();\r\n        /**\r\n         * If data aggregation is enabled by setting Axis' `groupData = true`, the\r\n         * chart will try to aggregate data items into grouped data items.\r\n         *\r\n         * If there are more data items in selected period than `groupCount`, it will\r\n         * group data items into bigger period.\r\n         *\r\n         * For example seconds might be grouped into 10-second aggregate data items.\r\n         *\r\n         * This setting indicates what group intervals can the chart group to.\r\n         *\r\n         * Default intervals:\r\n         *\r\n         * ```JSON\r\n         * [\r\n         *   { timeUnit: \"millisecond\", count: 1},\r\n         *   { timeUnit: \"millisecond\", count: 10 },\r\n         *   { timeUnit: \"millisecond\", count: 100 },\r\n         *   { timeUnit: \"second\", count: 1 },\r\n         *   { timeUnit: \"second\", count: 10 },\r\n         *   { timeUnit: \"minute\", count: 1 },\r\n         *   { timeUnit: \"minute\", count: 10 },\r\n         *   { timeUnit: \"hour\", count: 1 },\r\n         *   { timeUnit: \"day\", count: 1 },\r\n         *   { timeUnit: \"week\", count: 1 },\r\n         *   { timeUnit: \"month\", count: 1 },\r\n         *   { timeUnit: \"year\", count: 1 }\r\n         * ]\r\n         * ```\r\n         * `groupData = true` does not work in combination with `skipEmptyPeriods = true`.\r\n         *\r\n         * @since 4.7.0\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/axes/date-axis/#Dynamic_data_item_grouping} for more information about dynamic data item grouping.\r\n         */\r\n        _this.groupIntervals = new List();\r\n        /**\r\n         * A collection of date formats to use when formatting different time units\r\n         * on Date/time axis.\r\n         *\r\n         * Actual defaults will depend on the language locale set for the chart.\r\n         *\r\n         * To override format for a specific time unit, say days, you need to set\r\n         * the appropriate key to a format string. E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * axis.dateFormats.setKey(\"day\", \"MMMM d, yyyy\");\r\n         * ```\r\n         * ```JavaScript\r\n         * axis.dateFormats.setKey(\"day\", \"MMMM d, yyyy\");\r\n         * ```\r\n         * ```JSON\r\n         * \"xAxes\": [{\r\n         *   \"type\": \"DateAxis\",\r\n         *   \"dateFormats\": {\r\n         *     \"day\": \"MMMM d, yyyy\"\r\n         *   }\r\n         * }]\r\n         * ```\r\n         *\r\n         * @see {@link DateFormatter}\r\n         */\r\n        _this.dateFormats = new Dictionary();\r\n        /**\r\n         * These formats are applied to labels that are first in a larger unit.\r\n         *\r\n         * For example, if we have a DateAxis with days on it, the first day of month\r\n         * indicates a break in month - a start of the bigger period.\r\n         *\r\n         * For those labels, `periodChangeDateFormats` are applied instead of\r\n         * `dateFormats`.\r\n         *\r\n         * This allows us implement convenient structures, like instead of:\r\n         *\r\n         * `Jan 1 - Jan 2 - Jan 3 - ...`\r\n         *\r\n         * We can have:\r\n         *\r\n         * `Jan - 1 - 2 - 3 - ...`\r\n         *\r\n         * This can be disabled by setting `markUnitChange = false`.\r\n         */\r\n        _this.periodChangeDateFormats = new Dictionary();\r\n        /**\r\n         * Actual interval (granularity) derived from the actual data.\r\n         */\r\n        _this._baseIntervalReal = { timeUnit: \"day\", count: 1 };\r\n        /**\r\n         */\r\n        _this._prevSeriesTime = {};\r\n        /**\r\n         * [_minDifference description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._minDifference = {};\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this._firstWeekDay = 1;\r\n        /**\r\n         * A collection of start timestamps to use as axis' min timestamp for\r\n         * particular data item item periods.\r\n         *\r\n         * @since 4.7.0\r\n         * @readonly\r\n         */\r\n        _this.groupMin = {};\r\n        /**\r\n         * A collection of start timestamps to use as axis' max timestamp for\r\n         * particular data item item periods.\r\n         *\r\n         * @since 4.7.0\r\n         * @readonly\r\n         */\r\n        _this.groupMax = {};\r\n        _this.className = \"DateAxis\";\r\n        _this.setPropertyValue(\"markUnitChange\", true);\r\n        _this.snapTooltip = true;\r\n        _this.tooltipPosition = \"pointer\";\r\n        _this.setPropertyValue(\"groupData\", false);\r\n        _this.groupCount = 200;\r\n        _this.events.on(\"parentset\", _this.getDFFormatter, _this, false);\r\n        // Translatable defaults are applied in `applyInternalDefaults()`\r\n        // ...\r\n        // Define default intervals\r\n        _this.gridIntervals.pushAll([\r\n            { timeUnit: \"millisecond\", count: 1 },\r\n            { timeUnit: \"millisecond\", count: 5 },\r\n            { timeUnit: \"millisecond\", count: 10 },\r\n            { timeUnit: \"millisecond\", count: 50 },\r\n            { timeUnit: \"millisecond\", count: 100 },\r\n            { timeUnit: \"millisecond\", count: 500 },\r\n            { timeUnit: \"second\", count: 1 },\r\n            { timeUnit: \"second\", count: 5 },\r\n            { timeUnit: \"second\", count: 10 },\r\n            { timeUnit: \"second\", count: 30 },\r\n            { timeUnit: \"minute\", count: 1 },\r\n            { timeUnit: \"minute\", count: 5 },\r\n            { timeUnit: \"minute\", count: 10 },\r\n            { timeUnit: \"minute\", count: 15 },\r\n            { timeUnit: \"minute\", count: 30 },\r\n            { timeUnit: \"hour\", count: 1 },\r\n            { timeUnit: \"hour\", count: 3 },\r\n            { timeUnit: \"hour\", count: 6 },\r\n            { timeUnit: \"hour\", count: 12 },\r\n            { timeUnit: \"day\", count: 1 },\r\n            { timeUnit: \"day\", count: 2 },\r\n            { timeUnit: \"day\", count: 3 },\r\n            { timeUnit: \"day\", count: 4 },\r\n            { timeUnit: \"day\", count: 5 },\r\n            { timeUnit: \"week\", count: 1 },\r\n            { timeUnit: \"month\", count: 1 },\r\n            { timeUnit: \"month\", count: 2 },\r\n            { timeUnit: \"month\", count: 3 },\r\n            { timeUnit: \"month\", count: 6 },\r\n            { timeUnit: \"year\", count: 1 },\r\n            { timeUnit: \"year\", count: 2 },\r\n            { timeUnit: \"year\", count: 5 },\r\n            { timeUnit: \"year\", count: 10 },\r\n            { timeUnit: \"year\", count: 50 },\r\n            { timeUnit: \"year\", count: 100 },\r\n            { timeUnit: \"year\", count: 200 },\r\n            { timeUnit: \"year\", count: 500 },\r\n            { timeUnit: \"year\", count: 1000 },\r\n            { timeUnit: \"year\", count: 2000 },\r\n            { timeUnit: \"year\", count: 5000 },\r\n            { timeUnit: \"year\", count: 10000 },\r\n            { timeUnit: \"year\", count: 100000 }\r\n        ]);\r\n        _this.groupIntervals.pushAll([\r\n            { timeUnit: \"millisecond\", count: 1 },\r\n            { timeUnit: \"millisecond\", count: 10 },\r\n            { timeUnit: \"millisecond\", count: 100 },\r\n            { timeUnit: \"second\", count: 1 },\r\n            { timeUnit: \"second\", count: 10 },\r\n            { timeUnit: \"minute\", count: 1 },\r\n            { timeUnit: \"minute\", count: 10 },\r\n            { timeUnit: \"hour\", count: 1 },\r\n            { timeUnit: \"day\", count: 1 },\r\n            { timeUnit: \"week\", count: 1 },\r\n            { timeUnit: \"month\", count: 1 },\r\n            { timeUnit: \"year\", count: 1 }\r\n        ]);\r\n        // Set field name\r\n        _this.axisFieldName = \"date\";\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * A function which applies fills to axis cells.\r\n     *\r\n     * Default function fills every second fill. You can set this to a function\r\n     * that follows some other logic.\r\n     *\r\n     * Function should accept a [[DateAxisDataItem]] and modify its `axisFill`\r\n     * property accordingly.\r\n     */\r\n    DateAxis.prototype.fillRule = function (dataItem) {\r\n        var value = dataItem.value;\r\n        var axis = dataItem.component;\r\n        var gridInterval = axis._gridInterval;\r\n        var gridDuration = $time.getDuration(gridInterval.timeUnit, gridInterval.count);\r\n        if (Math.round((value - axis.min) / gridDuration) / 2 == Math.round(Math.round((value - axis.min) / gridDuration) / 2)) {\r\n            dataItem.axisFill.__disabled = true;\r\n        }\r\n        else {\r\n            dataItem.axisFill.__disabled = false;\r\n        }\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    DateAxis.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Set default date formats\r\n        if (!this.dateFormats.hasKey(\"millisecond\")) {\r\n            this.dateFormats.setKey(\"millisecond\", this.language.translate(\"_date_millisecond\"));\r\n        }\r\n        if (!this.dateFormats.hasKey(\"second\")) {\r\n            this.dateFormats.setKey(\"second\", this.language.translate(\"_date_second\"));\r\n        }\r\n        if (!this.dateFormats.hasKey(\"minute\")) {\r\n            this.dateFormats.setKey(\"minute\", this.language.translate(\"_date_minute\"));\r\n        }\r\n        if (!this.dateFormats.hasKey(\"hour\")) {\r\n            this.dateFormats.setKey(\"hour\", this.language.translate(\"_date_hour\"));\r\n        }\r\n        if (!this.dateFormats.hasKey(\"day\")) {\r\n            this.dateFormats.setKey(\"day\", this.language.translate(\"_date_day\"));\r\n        }\r\n        if (!this.dateFormats.hasKey(\"week\")) {\r\n            this.dateFormats.setKey(\"week\", this.language.translate(\"_date_day\")); // not a mistake\r\n        }\r\n        if (!this.dateFormats.hasKey(\"month\")) {\r\n            this.dateFormats.setKey(\"month\", this.language.translate(\"_date_month\"));\r\n        }\r\n        if (!this.dateFormats.hasKey(\"year\")) {\r\n            this.dateFormats.setKey(\"year\", this.language.translate(\"_date_year\"));\r\n        }\r\n        if (!this.periodChangeDateFormats.hasKey(\"millisecond\")) {\r\n            this.periodChangeDateFormats.setKey(\"millisecond\", this.language.translate(\"_date_millisecond\"));\r\n        }\r\n        if (!this.periodChangeDateFormats.hasKey(\"second\")) {\r\n            this.periodChangeDateFormats.setKey(\"second\", this.language.translate(\"_date_second\"));\r\n        }\r\n        if (!this.periodChangeDateFormats.hasKey(\"minute\")) {\r\n            this.periodChangeDateFormats.setKey(\"minute\", this.language.translate(\"_date_minute\"));\r\n        }\r\n        if (!this.periodChangeDateFormats.hasKey(\"hour\")) {\r\n            this.periodChangeDateFormats.setKey(\"hour\", this.language.translate(\"_date_day\"));\r\n        }\r\n        if (!this.periodChangeDateFormats.hasKey(\"day\")) {\r\n            this.periodChangeDateFormats.setKey(\"day\", this.language.translate(\"_date_day\"));\r\n        }\r\n        if (!this.periodChangeDateFormats.hasKey(\"week\")) {\r\n            this.periodChangeDateFormats.setKey(\"week\", this.language.translate(\"_date_day\"));\r\n        }\r\n        if (!this.periodChangeDateFormats.hasKey(\"month\")) {\r\n            this.periodChangeDateFormats.setKey(\"month\", this.language.translate(\"_date_month\") + \" \" + this.language.translate(\"_date_year\"));\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty [[DataItem]] of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    DateAxis.prototype.createDataItem = function () {\r\n        return new DateAxisDataItem();\r\n    };\r\n    /**\r\n     * Returns a new/empty [[AxisBreak]] of the appropriate type.\r\n     *\r\n     * @return Axis break\r\n     */\r\n    DateAxis.prototype.createAxisBreak = function () {\r\n        return new DateAxisBreak();\r\n    };\r\n    /**\r\n     * Validates Axis' data items.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    DateAxis.prototype.validateDataItems = function () {\r\n        // allows to keep selection of the same size\r\n        var start = this.start;\r\n        var end = this.end;\r\n        var baseDuration = this.baseDuration;\r\n        var periodCount = (this.max - this.min) / baseDuration;\r\n        this._firstWeekDay = this.getFirstWeekDay();\r\n        this.getDFFormatter();\r\n        _super.prototype.validateDataItems.call(this);\r\n        var mainBaseDuration = $time.getDuration(this.mainBaseInterval.timeUnit, this.mainBaseInterval.count);\r\n        this.maxZoomFactor = (this.max - this.min) / mainBaseDuration;\r\n        this._deltaMinMax = this.baseDuration / 2;\r\n        // allows to keep selection of the same size\r\n        var newPeriodCount = (this.max - this.min) / baseDuration;\r\n        start = start + (end - start) * (1 - periodCount / newPeriodCount);\r\n        this.zoom({ start: start, end: end }, false, true); // added instantlyto solve zoomout problem when we have axes gaps. @todo: check how this affects maxZoomFactor\r\n    };\r\n    /**\r\n     * Handles process after zoom.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Does nothing?\r\n     */\r\n    DateAxis.prototype.handleSelectionExtremesChange = function () {\r\n    };\r\n    /**\r\n     * Calculates all positions, related to axis as per current zoom.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    DateAxis.prototype.calculateZoom = function () {\r\n        var _this = this;\r\n        _super.prototype.calculateZoom.call(this);\r\n        var difference = this.adjustDifference(this._minZoomed, this._maxZoomed);\r\n        var dataSetChanged = false;\r\n        // if data has to be grouped, choose interval and set dataset\r\n        if (this.groupData && $type.hasValue(difference)) {\r\n            var mainBaseInterval = this.mainBaseInterval;\r\n            var modifiedDifference = difference + this.startLocation + (1 - this.endLocation) * this.baseDuration;\r\n            var groupInterval = void 0;\r\n            if (this.groupInterval) {\r\n                groupInterval = __assign({}, this.groupInterval);\r\n            }\r\n            else {\r\n                groupInterval = this.chooseInterval(0, modifiedDifference, this.groupCount, this.groupIntervals);\r\n                if ($time.getDuration(groupInterval.timeUnit, groupInterval.count) < $time.getDuration(mainBaseInterval.timeUnit, mainBaseInterval.count)) {\r\n                    groupInterval = __assign({}, mainBaseInterval);\r\n                }\r\n            }\r\n            this._groupInterval = groupInterval;\r\n            var newId = groupInterval.timeUnit + groupInterval.count;\r\n            if (this._currentDataSetId != newId) {\r\n                this._currentDataSetId = newId;\r\n                this.dispatch(\"groupperiodchanged\");\r\n            }\r\n            this.series.each(function (series) {\r\n                if (series.baseAxis == _this) {\r\n                    if (series.setDataSet(_this._currentDataSetId)) {\r\n                        dataSetChanged = true;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        var gridInterval = this.chooseInterval(0, difference, this._gridCount);\r\n        if ($time.getDuration(gridInterval.timeUnit, gridInterval.count) < this.baseDuration) {\r\n            gridInterval = __assign({}, this.baseInterval);\r\n        }\r\n        this._gridInterval = gridInterval;\r\n        this._nextGridUnit = $time.getNextUnit(gridInterval.timeUnit);\r\n        // the following is needed to avoid grid flickering while scrolling\r\n        this._intervalDuration = $time.getDuration(gridInterval.timeUnit, gridInterval.count);\r\n        this._gridDate = $time.round(new Date(this.minZoomed - $time.getDuration(gridInterval.timeUnit, gridInterval.count)), gridInterval.timeUnit, gridInterval.count, this._firstWeekDay, this._df.utc, new Date(this.min));\r\n        // tell series start/end\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            if (series.baseAxis == _this) {\r\n                var field_1 = series.getAxisField(_this);\r\n                var minZoomed = $time.round(new Date(_this._minZoomed), _this.baseInterval.timeUnit, _this.baseInterval.count, _this._firstWeekDay, _this._df.utc).getTime();\r\n                var minZoomedStr = minZoomed.toString();\r\n                var startDataItem = series.dataItemsByAxis.getKey(_this.uid).getKey(minZoomedStr + series.currentDataSetId);\r\n                var startIndex = 0;\r\n                if (_this.start != 0) {\r\n                    if (startDataItem) {\r\n                        startDataItem = _this.findFirst(startDataItem, minZoomed, field_1);\r\n                        startIndex = startDataItem.index;\r\n                    }\r\n                    else {\r\n                        startIndex = series.dataItems.findClosestIndex(_this._minZoomed, function (x) { return x[field_1]; }, \"left\");\r\n                    }\r\n                }\r\n                // 1 millisecond is removed so that if only first item is selected, it would not count in the second.\r\n                var baseInterval = _this.baseInterval;\r\n                var maxZoomed = $time.add($time.round(new Date(_this._maxZoomed), baseInterval.timeUnit, baseInterval.count, _this._firstWeekDay, _this._df.utc), baseInterval.timeUnit, baseInterval.count, _this._df.utc).getTime();\r\n                var maxZoomedStr = maxZoomed.toString();\r\n                var endDataItem = series.dataItemsByAxis.getKey(_this.uid).getKey(maxZoomedStr + series.currentDataSetId);\r\n                var endIndex = series.dataItems.length;\r\n                if (_this.end != 1) {\r\n                    if (endDataItem) {\r\n                        endIndex = endDataItem.index;\r\n                    }\r\n                    else {\r\n                        maxZoomed -= 1;\r\n                        endIndex = series.dataItems.findClosestIndex(maxZoomed, function (x) { return x[field_1]; }, \"right\");\r\n                        if (endIndex < series.dataItems.length) {\r\n                            endIndex++;\r\n                        }\r\n                    }\r\n                }\r\n                series.startIndex = startIndex;\r\n                series.endIndex = endIndex;\r\n                if (!dataSetChanged && series.dataRangeInvalid) {\r\n                    series.validateDataRange();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    DateAxis.prototype.findFirst = function (dataItem, time, key) {\r\n        var index = dataItem.index;\r\n        if (index > 0) {\r\n            var series = dataItem.component;\r\n            var previousDataItem = series.dataItems.getIndex(index - 1);\r\n            var previousDate = previousDataItem[key];\r\n            if (!previousDate || previousDate.getTime() < time) {\r\n                return dataItem;\r\n            }\r\n            else {\r\n                return this.findFirst(previousDataItem, time, key);\r\n            }\r\n        }\r\n        else {\r\n            return dataItem;\r\n        }\r\n    };\r\n    /**\r\n     * (Re)validates data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    DateAxis.prototype.validateData = function () {\r\n        _super.prototype.validateData.call(this);\r\n        if (!$type.isNumber(this.baseInterval.count)) {\r\n            this.baseInterval.count = 1;\r\n        }\r\n    };\r\n    Object.defineProperty(DateAxis.prototype, \"minDifference\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            var minDifference = Number.MAX_VALUE;\r\n            this.series.each(function (series) {\r\n                if (minDifference > _this._minDifference[series.uid]) {\r\n                    minDifference = _this._minDifference[series.uid];\r\n                }\r\n            });\r\n            if (minDifference == Number.MAX_VALUE || minDifference == 0) {\r\n                minDifference = $time.getDuration(\"day\");\r\n            }\r\n            return minDifference;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * [dataChangeUpdate description]\r\n     *\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    DateAxis.prototype.seriesDataChangeUpdate = function (series) {\r\n        this._minDifference[series.uid] = Number.MAX_VALUE;\r\n    };\r\n    /**\r\n     * [postProcessSeriesDataItems description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    DateAxis.prototype.postProcessSeriesDataItems = function (series) {\r\n        var _this = this;\r\n        if (series) {\r\n            this.seriesGroupUpdate(series);\r\n        }\r\n        else {\r\n            this.series.each(function (series) {\r\n                _this.seriesGroupUpdate(series);\r\n            });\r\n        }\r\n        this.addEmptyUnitsBreaks();\r\n    };\r\n    DateAxis.prototype.seriesGroupUpdate = function (series) {\r\n        var _this = this;\r\n        if (JSON.stringify(series._baseInterval[this.uid]) != JSON.stringify(this.mainBaseInterval)) {\r\n            series._baseInterval[this.uid] = this.mainBaseInterval;\r\n            series.mainDataSet.each(function (dataItem) {\r\n                _this.postProcessSeriesDataItem(dataItem);\r\n            });\r\n            if (this.groupData) {\r\n                this.groupSeriesData(series);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Calculates series group data.\r\n     *\r\n     * @param  series  Series\r\n     * @ignore\r\n     */\r\n    DateAxis.prototype.groupSeriesData = function (series) {\r\n        var _this = this;\r\n        if (series.baseAxis == this && series.dataItems.length > 0 && !series.dataGrouped) {\r\n            // make array of intervals which will be used;\r\n            var intervals_1 = [];\r\n            var mainBaseInterval = this.mainBaseInterval;\r\n            var mainIntervalDuration_1 = $time.getDuration(mainBaseInterval.timeUnit, mainBaseInterval.count);\r\n            this.groupIntervals.each(function (interval) {\r\n                var intervalDuration = $time.getDuration(interval.timeUnit, interval.count);\r\n                if (intervalDuration > mainIntervalDuration_1 && intervalDuration < (_this.max - _this.min)) {\r\n                    intervals_1.push(interval);\r\n                }\r\n            });\r\n            if (series._dataSets) {\r\n                series._dataSets.each(function (key, dataItems) {\r\n                    dataItems.each(function (dataItem) {\r\n                        dataItem.dispose();\r\n                    });\r\n                    dataItems.clear();\r\n                });\r\n                series._dataSets.clear();\r\n            }\r\n            $array.each(intervals_1, function (interval) {\r\n                //let mainBaseInterval = this._mainBaseInterval;\r\n                var key = \"date\" + _this.axisLetter;\r\n                // create data set\r\n                var dataSetId = interval.timeUnit + interval.count;\r\n                // todo: check where this clone goes\r\n                var dataSet = new OrderedListTemplate(series.mainDataSet.template.clone());\r\n                series.dataSets.setKey(dataSetId, dataSet);\r\n                series.dataGrouped = true;\r\n                var dataItems = series.mainDataSet;\r\n                var previousTime = Number.NEGATIVE_INFINITY;\r\n                var i = 0;\r\n                var newDataItem;\r\n                var dataFields = [];\r\n                $object.each(series.dataFields, function (dfkey, df) {\r\n                    var dfk = dfkey;\r\n                    if (dfk != key && dfk.indexOf(\"Show\") == -1) {\r\n                        dataFields.push(dfk);\r\n                    }\r\n                });\r\n                dataItems.each(function (dataItem) {\r\n                    var date = dataItem.getDate(key);\r\n                    if (date) {\r\n                        var time = date.getTime();\r\n                        var roundedDate = $time.round(new Date(time), interval.timeUnit, interval.count, _this._df.firstDayOfWeek, _this._df.utc);\r\n                        var currentTime = roundedDate.getTime();\r\n                        // changed period\t\t\t\t\t\t\t\t\r\n                        if (previousTime < currentTime) {\r\n                            newDataItem = dataSet.create();\r\n                            newDataItem.dataContext = {};\r\n                            newDataItem.setWorkingLocation(\"dateX\", series.dataItems.template.locations.dateX, 0);\r\n                            newDataItem.setWorkingLocation(\"openDateX\", series.dataItems.template.locations.openDateX, 0);\r\n                            newDataItem.setWorkingLocation(\"dateY\", series.dataItems.template.locations.dateY, 0);\r\n                            newDataItem.setWorkingLocation(\"openDateY\", series.dataItems.template.locations.openDateY, 0);\r\n                            newDataItem.component = series;\r\n                            // other Dates?\r\n                            newDataItem.setDate(key, roundedDate);\r\n                            newDataItem._index = i;\r\n                            i++;\r\n                            $array.each(dataFields, function (vkey) {\r\n                                //let groupFieldName = vkey + \"Group\";\r\n                                var dvalues = dataItem.values[vkey];\r\n                                if (dvalues) {\r\n                                    var value = dvalues.value;\r\n                                    var values = newDataItem.values[vkey];\r\n                                    if ($type.isNumber(value)) {\r\n                                        values.value = value;\r\n                                        values.workingValue = value;\r\n                                        values.open = value;\r\n                                        values.close = value;\r\n                                        values.low = value;\r\n                                        values.high = value;\r\n                                        values.sum = value;\r\n                                        values.average = value;\r\n                                        values.count = 1;\r\n                                    }\r\n                                    else {\r\n                                        values.count = 0;\r\n                                    }\r\n                                }\r\n                            });\r\n                            _this.postProcessSeriesDataItem(newDataItem, interval);\r\n                            $object.each(series.propertyFields, function (key, fieldValue) {\r\n                                var f = key;\r\n                                var value = dataItem.properties[key];\r\n                                if ($type.hasValue(value)) {\r\n                                    newDataItem.hasProperties = true;\r\n                                    newDataItem.setProperty(f, value);\r\n                                }\r\n                            });\r\n                            newDataItem.groupDataItems = [dataItem];\r\n                            previousTime = currentTime;\r\n                        }\r\n                        else {\r\n                            if (newDataItem) {\r\n                                $array.each(dataFields, function (vkey) {\r\n                                    var groupFieldName = series.groupFields[vkey];\r\n                                    var dvalues = dataItem.values[vkey];\r\n                                    if (dvalues) {\r\n                                        var value = dvalues.value;\r\n                                        if ($type.isNumber(value)) {\r\n                                            var values = newDataItem.values[vkey];\r\n                                            if (!$type.isNumber(values.open)) {\r\n                                                values.open = value;\r\n                                            }\r\n                                            values.close = value;\r\n                                            if (values.low > value || !$type.isNumber(values.low)) {\r\n                                                values.low = value;\r\n                                            }\r\n                                            if (values.high < value || !$type.isNumber(values.high)) {\r\n                                                values.high = value;\r\n                                            }\r\n                                            if ($type.isNumber(values.sum)) {\r\n                                                values.sum += value;\r\n                                            }\r\n                                            else {\r\n                                                values.sum = value;\r\n                                            }\r\n                                            values.count++;\r\n                                            values.average = values.sum / values.count;\r\n                                            if ($type.isNumber(values[groupFieldName])) {\r\n                                                values.value = values[groupFieldName];\r\n                                                values.workingValue = values.value;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                });\r\n                                $utils.copyProperties(dataItem.properties, newDataItem.properties);\r\n                                $object.each(series.propertyFields, function (key, fieldValue) {\r\n                                    var f = key;\r\n                                    var value = dataItem.properties[key];\r\n                                    if ($type.hasValue(value)) {\r\n                                        newDataItem.hasProperties = true;\r\n                                        newDataItem.setProperty(f, value);\r\n                                    }\r\n                                });\r\n                                newDataItem.groupDataItems.push(dataItem);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (newDataItem) {\r\n                        $utils.copyProperties(dataItem.dataContext, newDataItem.dataContext);\r\n                    }\r\n                });\r\n            });\r\n            this.calculateZoom();\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    DateAxis.prototype.getDFFormatter = function () {\r\n        this._df = this.dateFormatter;\r\n    };\r\n    /**\r\n     * [postProcessSeriesDataItem description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param dataItem Data item\r\n     */\r\n    DateAxis.prototype.postProcessSeriesDataItem = function (dataItem, interval) {\r\n        var _this = this;\r\n        // we need to do this for all series data items not only added recently, as baseInterval might change\r\n        var intervalID = \"\";\r\n        if (interval) {\r\n            intervalID = interval.timeUnit + interval.count;\r\n        }\r\n        else {\r\n            interval = this.mainBaseInterval;\r\n        }\r\n        var series = dataItem.component;\r\n        var dataItemsByAxis = series.dataItemsByAxis.getKey(this.uid);\r\n        $object.each(dataItem.dates, function (key) {\r\n            var date = dataItem.getDate(key);\r\n            var time = date.getTime();\r\n            var startDate = $time.round(new Date(time), interval.timeUnit, interval.count, _this._firstWeekDay, _this._df.utc);\r\n            var startTime = startDate.getTime();\r\n            var endDate = $time.add(new Date(startTime), interval.timeUnit, interval.count, _this._df.utc);\r\n            dataItem.setCalculatedValue(key, startTime, \"open\");\r\n            dataItem.setCalculatedValue(key, endDate.getTime(), \"close\");\r\n            dataItemsByAxis.setKey(startTime + intervalID, dataItem);\r\n        });\r\n    };\r\n    /**\r\n     * Collapses empty stretches of date/time scale by creating [[AxisBreak]]\r\n     * elements for them.\r\n     *\r\n     * Can be used to automatically remove strethes without data, like weekends.\r\n     *\r\n     * No, need to call this manually. It will automatically be done if\r\n     * `skipEmptyPeriods = true`.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    DateAxis.prototype.addEmptyUnitsBreaks = function () {\r\n        var _this = this;\r\n        if (this.skipEmptyPeriods && $type.isNumber(this.min) && $type.isNumber(this.max)) {\r\n            var timeUnit = this.baseInterval.timeUnit;\r\n            var count = this.baseInterval.count;\r\n            if (this._axisBreaks) {\r\n                this._axisBreaks.clear(); // TODO: what about breaks added by user?\r\n            }\r\n            var date = $time.round(new Date(this.min), timeUnit, count, this._firstWeekDay, this._df.utc);\r\n            var axisBreak = void 0;\r\n            var _loop_1 = function () {\r\n                $time.add(date, timeUnit, count, this_1._df.utc);\r\n                var startTime = date.getTime();\r\n                var startTimeStr = startTime.toString();\r\n                var hasData = $iter.contains(this_1.series.iterator(), function (series) {\r\n                    return !!series.dataItemsByAxis.getKey(_this.uid).getKey(startTimeStr + series.currentDataSetId);\r\n                });\r\n                // open break if not yet opened\r\n                if (!hasData) {\r\n                    if (!axisBreak) {\r\n                        axisBreak = this_1.axisBreaks.create();\r\n                        axisBreak.startDate = new Date(startTime);\r\n                        this_1._gapBreaks = true;\r\n                    }\r\n                }\r\n                else {\r\n                    // close if already opened\r\n                    if (axisBreak) {\r\n                        // close at end time minus one millisecond\r\n                        axisBreak.endDate = new Date(startTime - 1);\r\n                        axisBreak = undefined;\r\n                    }\r\n                }\r\n            };\r\n            var this_1 = this;\r\n            while (date.getTime() < this.max - this.baseDuration) {\r\n                _loop_1();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Updates positioning of Axis breaks after something changes.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    DateAxis.prototype.fixAxisBreaks = function () {\r\n        var _this = this;\r\n        _super.prototype.fixAxisBreaks.call(this);\r\n        var axisBreaks = this._axisBreaks;\r\n        if (axisBreaks) {\r\n            if (axisBreaks.length > 0) {\r\n                // process breaks\r\n                axisBreaks.each(function (axisBreak) {\r\n                    var breakGridCount = Math.ceil(_this._gridCount * (Math.min(_this.end, axisBreak.endPosition) - Math.max(_this.start, axisBreak.startPosition)) / (_this.end - _this.start));\r\n                    axisBreak.gridInterval = _this.chooseInterval(0, axisBreak.adjustedEndValue - axisBreak.adjustedStartValue, breakGridCount);\r\n                    var gridDate = $time.round(new Date(axisBreak.adjustedStartValue), axisBreak.gridInterval.timeUnit, axisBreak.gridInterval.count, _this._firstWeekDay, _this._df.utc);\r\n                    if (gridDate.getTime() > axisBreak.startDate.getTime()) {\r\n                        $time.add(gridDate, axisBreak.gridInterval.timeUnit, axisBreak.gridInterval.count, _this._df.utc);\r\n                    }\r\n                    axisBreak.gridDate = gridDate;\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    DateAxis.prototype.getFirstWeekDay = function () {\r\n        if (this._df) {\r\n            return this._df.firstDayOfWeek;\r\n        }\r\n        return 1;\r\n    };\r\n    /**\r\n     * [getGridDate description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param date           [description]\r\n     * @param intervalCount  [description]\r\n     * @return [description]\r\n     */\r\n    DateAxis.prototype.getGridDate = function (date, intervalCount) {\r\n        var timeUnit = this._gridInterval.timeUnit;\r\n        var realIntervalCount = this._gridInterval.count;\r\n        // round date\r\n        $time.round(date, timeUnit, 1, this._firstWeekDay, this._df.utc);\r\n        var prevTimestamp = date.getTime();\r\n        var newDate = $time.copy(date);\r\n        // modify date by adding intervalcount\r\n        var timestamp = $time.add(newDate, timeUnit, intervalCount, this._df.utc).getTime();\r\n        // if it's axis break, get first rounded date which is not in a break\r\n        var axisBreak = this.isInBreak(timestamp);\r\n        if (axisBreak && axisBreak.endDate) {\r\n            newDate = new Date(axisBreak.endDate.getTime());\r\n            $time.round(newDate, timeUnit, realIntervalCount, this._firstWeekDay, this._df.utc);\r\n            if (newDate.getTime() < axisBreak.endDate.getTime()) {\r\n                $time.add(newDate, timeUnit, realIntervalCount, this._df.utc);\r\n            }\r\n            timestamp = newDate.getTime();\r\n        }\r\n        // get duration between grid lines with break duration removed\r\n        var durationBreaksRemoved = this.adjustDifference(prevTimestamp, timestamp);\r\n        // calculate how many time units fit to this duration\r\n        var countBreaksRemoved = Math.round(durationBreaksRemoved / $time.getDuration(timeUnit));\r\n        // if less units fit, add one and repeat\r\n        if (countBreaksRemoved < realIntervalCount) {\r\n            return this.getGridDate(date, intervalCount + realIntervalCount);\r\n        }\r\n        return newDate;\r\n    };\r\n    /**\r\n     * [getBreaklessDate description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param axisBreak  [description]\r\n     * @param timeUnit   [description]\r\n     * @param count      [description]\r\n     * @return [description]\r\n     */\r\n    DateAxis.prototype.getBreaklessDate = function (axisBreak, timeUnit, count) {\r\n        var date = new Date(axisBreak.endValue);\r\n        $time.round(date, timeUnit, count, this._firstWeekDay, this._df.utc);\r\n        $time.add(date, timeUnit, count, this._df.utc);\r\n        var timestamp = date.getTime();\r\n        axisBreak = this.isInBreak(timestamp);\r\n        if (axisBreak) {\r\n            return this.getBreaklessDate(axisBreak, timeUnit, count);\r\n        }\r\n        return date;\r\n    };\r\n    /**\r\n     * (Re)validates all Axis elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     */\r\n    DateAxis.prototype.validateAxisElements = function () {\r\n        var _this = this;\r\n        if ($type.isNumber(this.max) && $type.isNumber(this.min)) {\r\n            this.calculateZoom();\r\n            // first regular items\r\n            var timestamp = this._gridDate.getTime();\r\n            var timeUnit = this._gridInterval.timeUnit;\r\n            var intervalCount = this._gridInterval.count;\r\n            var prevGridDate = $time.copy(this._gridDate);\r\n            var dataItemsIterator_1 = this._dataItemsIterator;\r\n            this.resetIterators();\r\n            var _loop_2 = function () {\r\n                var date = this_2.getGridDate($time.copy(prevGridDate), intervalCount);\r\n                timestamp = date.getTime();\r\n                var endDate = $time.copy(date); // you might think it's easier to add intervalduration to timestamp, however it won't work for months or years which are not of the same length\r\n                endDate = $time.add(endDate, timeUnit, intervalCount, this_2._df.utc);\r\n                var format = this_2.dateFormats.getKey(timeUnit);\r\n                if (this_2.markUnitChange && prevGridDate) {\r\n                    if ($time.checkChange(date, prevGridDate, this_2._nextGridUnit, this_2._df.utc)) {\r\n                        if (timeUnit !== \"year\") {\r\n                            format = this_2.periodChangeDateFormats.getKey(timeUnit);\r\n                        }\r\n                    }\r\n                }\r\n                var text = this_2._df.format(date, format);\r\n                var dataItem = dataItemsIterator_1.find(function (x) { return x.text === text; });\r\n                if (dataItem.__disabled) {\r\n                    dataItem.__disabled = false;\r\n                }\r\n                this_2.appendDataItem(dataItem);\r\n                dataItem.axisBreak = undefined;\r\n                dataItem.date = date;\r\n                dataItem.endDate = endDate;\r\n                dataItem.text = text;\r\n                this_2.validateDataElement(dataItem);\r\n                prevGridDate = date;\r\n            };\r\n            var this_2 = this;\r\n            while (timestamp <= this._maxZoomed) {\r\n                _loop_2();\r\n            }\r\n            // breaks later\r\n            var renderer_1 = this.renderer;\r\n            if (this._axisBreaks) {\r\n                $iter.each(this._axisBreaks.iterator(), function (axisBreak) {\r\n                    if (axisBreak.breakSize > 0) {\r\n                        var timeUnit_1 = axisBreak.gridInterval.timeUnit;\r\n                        var intervalCount_1 = axisBreak.gridInterval.count;\r\n                        // only add grid if gap is bigger then minGridDistance\r\n                        if ($math.getDistance(axisBreak.startPoint, axisBreak.endPoint) > renderer_1.minGridDistance * 4) {\r\n                            var timestamp_1 = axisBreak.gridDate.getTime();\r\n                            var prevGridDate_1;\r\n                            var count = 0;\r\n                            var _loop_3 = function () {\r\n                                var date = $time.copy(axisBreak.gridDate);\r\n                                timestamp_1 = $time.add(date, timeUnit_1, intervalCount_1 * count, _this._df.utc).getTime();\r\n                                count++;\r\n                                if (timestamp_1 > axisBreak.adjustedStartValue && timestamp_1 < axisBreak.adjustedEndValue) {\r\n                                    var endDate = $time.copy(date); // you might think it's easier to add intervalduration to timestamp, however it won't work for months or years which are not of the same length\r\n                                    endDate = $time.add(endDate, timeUnit_1, intervalCount_1, _this._df.utc);\r\n                                    var format = _this.dateFormats.getKey(timeUnit_1);\r\n                                    if (_this.markUnitChange && prevGridDate_1) {\r\n                                        if ($time.checkChange(date, prevGridDate_1, _this._nextGridUnit, _this._df.utc)) {\r\n                                            if (timeUnit_1 !== \"year\") {\r\n                                                format = _this.periodChangeDateFormats.getKey(timeUnit_1);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    var text_1 = _this._df.format(date, format);\r\n                                    var dataItem = dataItemsIterator_1.find(function (x) { return x.text === text_1; });\r\n                                    if (dataItem.__disabled) {\r\n                                        dataItem.__disabled = false;\r\n                                    }\r\n                                    //this.processDataItem(dataItem);\r\n                                    _this.appendDataItem(dataItem);\r\n                                    dataItem.axisBreak = axisBreak;\r\n                                    axisBreak.dataItems.moveValue(dataItem);\r\n                                    dataItem.date = date;\r\n                                    dataItem.endDate = endDate;\r\n                                    dataItem.text = text_1;\r\n                                    prevGridDate_1 = date;\r\n                                    _this.validateDataElement(dataItem);\r\n                                }\r\n                            };\r\n                            while (timestamp_1 <= axisBreak.adjustedMax) {\r\n                                _loop_3();\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Validates Axis data item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem Data item\r\n     */\r\n    DateAxis.prototype.validateDataElement = function (dataItem) {\r\n        dataItem.itemIndex = this._axisItemCount;\r\n        this._axisItemCount++;\r\n        if ($type.isNumber(this.max) && $type.isNumber(this.min)) {\r\n            var renderer = this.renderer;\r\n            var timestamp = dataItem.value;\r\n            var endTimestamp = dataItem.endValue;\r\n            if (!$type.isNumber(endTimestamp)) {\r\n                endTimestamp = timestamp;\r\n            }\r\n            var position = this.valueToPosition(timestamp);\r\n            var endPosition = this.valueToPosition(endTimestamp);\r\n            var fillEndPosition = endPosition;\r\n            if (!dataItem.isRange && this._gridInterval.count > this.baseInterval.count) {\r\n                endPosition = position + (endPosition - position) / (this._gridInterval.count / this.baseInterval.count);\r\n            }\r\n            dataItem.position = position;\r\n            var tick = dataItem.tick;\r\n            if (tick && !tick.disabled) {\r\n                renderer.updateTickElement(tick, position, endPosition);\r\n            }\r\n            var grid = dataItem.grid;\r\n            if (grid && !grid.disabled) {\r\n                renderer.updateGridElement(grid, position, endPosition);\r\n            }\r\n            var fill = dataItem.axisFill;\r\n            if (fill && !fill.disabled) {\r\n                renderer.updateFillElement(fill, position, fillEndPosition);\r\n                if (!dataItem.isRange) {\r\n                    this.fillRule(dataItem);\r\n                }\r\n            }\r\n            var mask = dataItem.mask;\r\n            if (mask) {\r\n                renderer.updateFillElement(mask, position, endPosition);\r\n            }\r\n            if (dataItem.bullet) {\r\n                renderer.updateBullet(dataItem.bullet, position, endPosition);\r\n            }\r\n            var label = dataItem.label;\r\n            if (label && !label.disabled) {\r\n                var location_1 = label.location;\r\n                if (location_1 == 0) {\r\n                    if (this._gridInterval.count == 1 && this._gridInterval.timeUnit != \"week\" && !dataItem.isRange) {\r\n                        location_1 = 0.5;\r\n                    }\r\n                    else {\r\n                        location_1 = 0;\r\n                    }\r\n                }\r\n                renderer.updateLabelElement(label, position, endPosition, location_1);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(DateAxis.prototype, \"baseDuration\", {\r\n        /**\r\n         * A duration in milliseconds of the `baseInterval`.\r\n         *\r\n         * @return Duration (ms)\r\n         */\r\n        get: function () {\r\n            return $time.getDuration(this.baseInterval.timeUnit, this.baseInterval.count);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adjusts min/max values.\r\n     *\r\n     * @ignore Exclude from docs.\r\n     * @todo Description (review)\r\n     * @param min  Min timestamp\r\n     * @param max  Max timestamp\r\n     * @return Adjusted min/max step\r\n     */\r\n    DateAxis.prototype.adjustMinMax = function (min, max) {\r\n        return { min: min, max: max, step: this.baseDuration };\r\n    };\r\n    /**\r\n     * Adjusts the minimum timestamp as per cell start location.\r\n     *\r\n     * @param value  Value\r\n     * @return Adjusted value\r\n     */\r\n    DateAxis.prototype.fixMin = function (value) {\r\n        // like this because months are not equal\r\n        var interval = this.baseInterval;\r\n        var startTime = $time.round(new Date(value), interval.timeUnit, interval.count, this._firstWeekDay, this._df.utc).getTime();\r\n        var endTime = $time.add(new Date(startTime), interval.timeUnit, interval.count, this._df.utc).getTime();\r\n        return startTime + (endTime - startTime) * this.startLocation;\r\n    };\r\n    /**\r\n     * Adjusts the maximum timestamp as per cell start location.\r\n     *\r\n     * @param value  Value\r\n     * @return Adjusted value\r\n     */\r\n    DateAxis.prototype.fixMax = function (value) {\r\n        // like this because months are not equal\r\n        var interval = this.baseInterval;\r\n        var startTime = $time.round(new Date(value), interval.timeUnit, interval.count, this._firstWeekDay, this._df.utc).getTime();\r\n        var endTime = $time.add(new Date(startTime), interval.timeUnit, interval.count, this._df.utc).getTime();\r\n        return startTime + (endTime - startTime) * this.endLocation;\r\n    };\r\n    /**\r\n     * [chooseInterval description]\r\n     *\r\n     * @ignore Exclude from docs.\r\n     * @todo Description\r\n     * @param index      [description]\r\n     * @param duration   [description]\r\n     * @param gridCount  [description]\r\n     * @return [description]\r\n     */\r\n    DateAxis.prototype.chooseInterval = function (index, duration, gridCount, intervals) {\r\n        if (!intervals) {\r\n            intervals = this.gridIntervals;\r\n        }\r\n        var gridInterval = intervals.getIndex(index);\r\n        var intervalDuration = $time.getDuration(gridInterval.timeUnit, gridInterval.count);\r\n        var lastIndex = intervals.length - 1;\r\n        if (index >= lastIndex) {\r\n            return __assign({}, intervals.getIndex(lastIndex));\r\n        }\r\n        var count = Math.ceil(duration / intervalDuration);\r\n        if (duration < intervalDuration && index > 0) {\r\n            return __assign({}, intervals.getIndex(index - 1));\r\n        }\r\n        if (count <= gridCount) {\r\n            return __assign({}, intervals.getIndex(index));\r\n        }\r\n        else {\r\n            if (index + 1 < intervals.length) {\r\n                return this.chooseInterval(index + 1, duration, gridCount, intervals);\r\n            }\r\n            else {\r\n                return __assign({}, intervals.getIndex(index));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Formats the value according to axis' own [[DateFormatter]].\r\n     *\r\n     * @param value  Source value\r\n     * @return Formatted value\r\n     */\r\n    DateAxis.prototype.formatLabel = function (value) {\r\n        return this._df.format(value);\r\n    };\r\n    /**\r\n     * Converts a Date to an asbolute pixel position within Axis.\r\n     *\r\n     * @param date  Date\r\n     * @return Position (px)\r\n     */\r\n    DateAxis.prototype.dateToPosition = function (date) {\r\n        return this.valueToPosition(date.getTime());\r\n    };\r\n    /**\r\n     * Converts a numeric timestamp or a `Date` to a relative position on axis.\r\n     *\r\n     * @param date  Date or a timestamp\r\n     * @return Relative position\r\n     */\r\n    DateAxis.prototype.anyToPosition = function (date) {\r\n        if (date instanceof Date) {\r\n            return this.dateToPosition(date);\r\n        }\r\n        else {\r\n            return this.valueToPosition(date);\r\n        }\r\n    };\r\n    /**\r\n     * Converts date to orientation point (x, y, angle) on axis\r\n     *\r\n     * @param date Date\r\n     * @return IOrientationPoint\r\n     */\r\n    DateAxis.prototype.dateToPoint = function (date) {\r\n        var position = this.dateToPosition(date);\r\n        var point = this.renderer.positionToPoint(position);\r\n        var angle = this.renderer.positionToAngle(position);\r\n        return { x: point.x, y: point.y, angle: angle };\r\n    };\r\n    /**\r\n     * Converts a numeric value to orientation (x, y, angle) point on axis\r\n     *\r\n     * @param value  Value\r\n     * @return Orientation point\r\n     */\r\n    DateAxis.prototype.anyToPoint = function (date) {\r\n        if (date instanceof Date) {\r\n            return this.dateToPoint(date);\r\n        }\r\n        else {\r\n            return this.valueToPoint(date);\r\n        }\r\n    };\r\n    /**\r\n     * Converts pixel position within Axis to a corresponding Date.\r\n     *\r\n     * @param position  Position (px)\r\n     * @return Date\r\n     */\r\n    DateAxis.prototype.positionToDate = function (position) {\r\n        return new Date(this.positionToValue(position));\r\n    };\r\n    /**\r\n     * Returns the relative position on axis for series' data item's value.\r\n     *\r\n     * @since 4.5.14\r\n     * @param  dataItem  Data item\r\n     * @param  key       Data field to get value from\r\n     * @param  location  Location (0-1)\r\n     * @return           Relative position\r\n     */\r\n    DateAxis.prototype.getPositionX = function (dataItem, key, location, stackKey, range) {\r\n        var value = this.getTimeByLocation(dataItem, key, location);\r\n        //let stack: number = dataItem.getValue(\"valueX\", \"stack\");\r\n        if (!$type.isNumber(value)) {\r\n            value = this.baseValue;\r\n        }\r\n        var position = this.valueToPosition(value);\r\n        if (range) {\r\n            position = $math.fitToRange(position, range.start, range.end);\r\n        }\r\n        return position;\r\n    };\r\n    /**\r\n     * Returns relative position on axis for series' data item's value.\r\n     *\r\n     * @since 4.5.14\r\n     * @param  dataItem  Data item\r\n     * @param  key       Data field to get value from\r\n     * @param  location  Location (0-1)\r\n     * @return           Relative position\r\n     */\r\n    DateAxis.prototype.getPositionY = function (dataItem, key, location, stackKey, range) {\r\n        var value = this.getTimeByLocation(dataItem, key, location);\r\n        var stack = dataItem.getValue(\"valueX\", \"stack\");\r\n        if (!$type.isNumber(value)) {\r\n            value = this.baseValue;\r\n        }\r\n        var position = this.valueToPosition(value + stack);\r\n        if (range) {\r\n            position = $math.fitToRange(position, range.start, range.end);\r\n        }\r\n        return position;\r\n    };\r\n    /**\r\n     * Returns an angle for series data item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     * @param dataItem  Data item\r\n     * @param key       Data field to get value from\r\n     * @param location  Location (0-1)\r\n     * @param stackKey  Stack ID\r\n     * @param range Range to fit in\r\n     * @return Angle\r\n     */\r\n    DateAxis.prototype.getAngle = function (dataItem, key, location, stackKey, range) {\r\n        var value = this.getTimeByLocation(dataItem, key, location);\r\n        var stack = dataItem.getValue(stackKey, \"stack\");\r\n        if (!$type.isNumber(value)) {\r\n            value = this.baseValue;\r\n        }\r\n        var position = this.valueToPosition(value + stack);\r\n        if (range) {\r\n            position = $math.fitToRange(position, range.start, range.end);\r\n        }\r\n        return this.positionToAngle(position);\r\n    };\r\n    /**\r\n     * [getTimeByLocation description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param dataItem  [description]\r\n     * @param key       [description]\r\n     * @param location  [description]\r\n     * @return [description]\r\n     */\r\n    DateAxis.prototype.getTimeByLocation = function (dataItem, key, location) {\r\n        if (!$type.hasValue(key)) {\r\n            return;\r\n        }\r\n        if (!$type.isNumber(location)) {\r\n            location = dataItem.workingLocations[key];\r\n            if (!$type.isNumber(location)) {\r\n                location = 0;\r\n            }\r\n        }\r\n        var startTime = dataItem.values[key][\"open\"];\r\n        var endTime = dataItem.values[key][\"close\"];\r\n        var workingValue = dataItem.values[key].workingValue;\r\n        var value = dataItem.values[key].value;\r\n        var difference = value - workingValue;\r\n        startTime -= difference;\r\n        endTime -= difference;\r\n        if ($type.isNumber(startTime) && $type.isNumber(endTime)) {\r\n            return startTime + (endTime - startTime) * location;\r\n        }\r\n    };\r\n    /**\r\n     * Processes a related series' data item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param dataItem  Data item\r\n     */\r\n    DateAxis.prototype.processSeriesDataItem = function (dataItem, axisLetter) {\r\n        var series = dataItem.component;\r\n        var time;\r\n        var date = dataItem[\"date\" + axisLetter];\r\n        if ($type.isNumber(this.timezoneOffset)) {\r\n            date.setTime(date.getTime() + (date.getTimezoneOffset() - this.timezoneOffset) * 60000);\r\n            dataItem.setValue(\"date\" + axisLetter, date.getTime(), 0);\r\n        }\r\n        if (date) {\r\n            time = date.getTime();\r\n        }\r\n        else {\r\n            return;\r\n        }\r\n        var openDate = dataItem[\"openDate\" + axisLetter];\r\n        var prevSeriesTime = this._prevSeriesTime[series.uid];\r\n        var openTime;\r\n        if (openDate) {\r\n            openTime = openDate.getTime();\r\n        }\r\n        if ($type.isNumber(openTime)) {\r\n            var difference = Math.abs(time - openTime);\r\n            if (this._minDifference[series.uid] > difference) {\r\n                this._minDifference[series.uid] = difference;\r\n            }\r\n        }\r\n        var differece = time - prevSeriesTime;\r\n        if (differece > 0) {\r\n            if (this._minDifference[series.uid] > differece) {\r\n                this._minDifference[series.uid] = differece;\r\n            }\r\n        }\r\n        this._prevSeriesTime[series.uid] = time;\r\n        if (series._baseInterval[this.uid]) {\r\n            this.postProcessSeriesDataItem(dataItem);\r\n        }\r\n    };\r\n    /**\r\n     * [updateAxisBySeries description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    DateAxis.prototype.updateAxisBySeries = function () {\r\n        _super.prototype.updateAxisBySeries.call(this);\r\n        var baseInterval = this.chooseInterval(0, this.minDifference, 1);\r\n        // handle short months\r\n        if (this.minDifference >= $time.getDuration(\"day\", 27) && baseInterval.timeUnit == \"week\") {\r\n            baseInterval.timeUnit = \"month\";\r\n            baseInterval.count = 1;\r\n        }\r\n        if (baseInterval.timeUnit == \"month\") {\r\n            if (this.minDifference >= $time.getDuration(\"day\", 29 * 2) && baseInterval.count == 1) {\r\n                baseInterval.count = 2;\r\n            }\r\n            if (this.minDifference >= $time.getDuration(\"day\", 29 * 3) && baseInterval.count == 2) {\r\n                baseInterval.count = 3;\r\n            }\r\n            if (this.minDifference >= $time.getDuration(\"day\", 29 * 6) && baseInterval.count == 5) {\r\n                baseInterval.count = 6;\r\n            }\r\n        }\r\n        // handle daylight saving\r\n        if (this.minDifference >= $time.getDuration(\"hour\", 23) && baseInterval.timeUnit == \"hour\") {\r\n            baseInterval.timeUnit = \"day\";\r\n            baseInterval.count = 1;\r\n        }\r\n        if (this.minDifference >= $time.getDuration(\"week\", 1) - $time.getDuration(\"hour\", 1) && baseInterval.timeUnit == \"day\") {\r\n            baseInterval.timeUnit = \"week\";\r\n            baseInterval.count = 1;\r\n        }\r\n        if (this.minDifference >= $time.getDuration(\"year\", 1) - $time.getDuration(\"day\", 1.01) && baseInterval.timeUnit == \"month\") {\r\n            baseInterval.timeUnit = \"year\";\r\n            baseInterval.count = 1;\r\n        }\r\n        this._baseIntervalReal = baseInterval;\r\n        this._mainBaseInterval = baseInterval;\r\n        // no need to invalidate\r\n    };\r\n    Object.defineProperty(DateAxis.prototype, \"baseInterval\", {\r\n        /**\r\n         * @return Base interval\r\n         */\r\n        get: function () {\r\n            if (this._groupInterval) {\r\n                return this._groupInterval;\r\n            }\r\n            else if (this._baseInterval) {\r\n                return this._baseInterval;\r\n            }\r\n            else {\r\n                return this._baseIntervalReal;\r\n            }\r\n        },\r\n        /**\r\n         * A base interval (granularity) of data.\r\n         *\r\n         * Used to indicate what are the base units of your data.\r\n         *\r\n         * For example, if you have a data set that has a data point every 5 minutes,\r\n         * you may want to set this to `{ timeUnit: \"minute\", count: 5 }`.\r\n         *\r\n         * If not set, the Axis will try to determine the setting by its own, looking\r\n         * at actual data.\r\n         *\r\n         * For best results, try to follow these values for `count`:\r\n         *\r\n         * When unit is \"month\", use 12 / count = round number\r\n         * When unit is \"hour\", use 24 / count = round number\r\n         * When unit is \"second\" and \"minute\", use 60 / count = round number\r\n         *\r\n         * @param timeInterval base interval\r\n         */\r\n        set: function (timeInterval) {\r\n            if (JSON.stringify(this._baseInterval) != JSON.stringify(timeInterval)) {\r\n                this._baseInterval = timeInterval;\r\n                this._mainBaseInterval = timeInterval;\r\n                if (!$type.isNumber(timeInterval.count)) {\r\n                    timeInterval.count = 1;\r\n                }\r\n                this.invalidate();\r\n                this.postProcessSeriesDataItems();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"mainBaseInterval\", {\r\n        /**\r\n         * Indicates granularity of the data of source (unaggregated) data.\r\n         *\r\n         * @since 4.7.0\r\n         * @return Granularity of the main data set\r\n         */\r\n        get: function () {\r\n            if (this._baseInterval) {\r\n                return this._baseInterval;\r\n            }\r\n            else if (this._mainBaseInterval) {\r\n                return this._mainBaseInterval;\r\n            }\r\n            else {\r\n                return this._baseIntervalReal;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"skipEmptyPeriods\", {\r\n        /**\r\n         * @return Remove empty stretches of time?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"skipEmptyPeriods\");\r\n        },\r\n        /**\r\n         * If enabled, axis will automatically collapse empty (without data points)\r\n         * periods of time, i.e. weekends.\r\n         *\r\n         * An \"empty\" period is considered a stretch of time in the length of current\r\n         * `baseInterval` without a single data point in it.\r\n         *\r\n         * For each such empty period, axis will automatically create an\r\n         * [[AxisBreak]]. By default they will be invisible. You can still configure\r\n         * them by accessing `axis.breaks.template`.\r\n         *\r\n         * [More info about breaks](https://www.amcharts.com/docs/v4/concepts/axes/#Breaks).\r\n         *\r\n         * Important notes:\r\n         * * If you set this property to `true`, you can not add your custom axis breaks to this axis anymore.\r\n         * * Using this feature affects performance. Use only if you need it.\r\n         * * Setting this to `true` will reset appearance of breaks. If you want to modify appearance, do it *after* you set `skipEmptyPeriods`.\r\n         * * Some axis label overlapping might happen.\r\n         * * This setting is not compatible with `groupData = true`.\r\n         *\r\n         * @default false\r\n         * @param value  Remove empty stretches of time?\r\n         */\r\n        set: function (value) {\r\n            if (value) {\r\n                var breakTemplate = this.axisBreaks.template;\r\n                breakTemplate.startLine.disabled = true;\r\n                breakTemplate.endLine.disabled = true;\r\n                breakTemplate.fillShape.disabled = true;\r\n                breakTemplate.breakSize = 0;\r\n            }\r\n            else {\r\n                if (this._gapBreaks) {\r\n                    this.axisBreaks.clear();\r\n                    this._gapBreaks = false;\r\n                }\r\n            }\r\n            if (this.setPropertyValue(\"skipEmptyPeriods\", value)) {\r\n                this.invalidate();\r\n                this.postProcessSeriesDataItems();\r\n                this.invalidateSeries();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"tooltipDateFormat\", {\r\n        /**\r\n         * @return Date format\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tooltipDateFormat\");\r\n        },\r\n        /**\r\n         * A special date format to apply axis tooltips.\r\n         *\r\n         * Will use same format as for labels, if not set.\r\n         *\r\n         * @param value  Date format\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tooltipDateFormat\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"markUnitChange\", {\r\n        /**\r\n         * @return Use different format for period beginning?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"markUnitChange\");\r\n        },\r\n        /**\r\n         * Use `periodChangeDateFormats` to apply different formats to the first\r\n         * label in bigger time unit.\r\n         *\r\n         * @default true\r\n         * @param value  Use different format for period beginning?\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"markUnitChange\", value)) {\r\n                this.invalidateData();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns text to show in a tooltip, based on specific relative position\r\n     * within axis.\r\n     *\r\n     * The label will be formatted as per [[DateFormatter]] set for the whole\r\n     * chart, or explicitly for this Axis.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param position  Position\r\n     * @return Label (formatted date)\r\n     */\r\n    DateAxis.prototype.getTooltipText = function (position) {\r\n        var text;\r\n        var date = this.positionToDate(position);\r\n        date = $time.round(date, this.baseInterval.timeUnit, this.baseInterval.count, this._firstWeekDay, this._df.utc, new Date(this.min));\r\n        this.tooltipDate = date;\r\n        if ($type.hasValue(this.tooltipDateFormat)) {\r\n            text = this._df.format(date, this.tooltipDateFormat);\r\n        }\r\n        else {\r\n            var dateFormat = this.dateFormats.getKey(this.baseInterval.timeUnit);\r\n            if (dateFormat) {\r\n                text = this._df.format(date, dateFormat);\r\n            }\r\n            else {\r\n                text = this.getPositionLabel(position);\r\n            }\r\n        }\r\n        if (!this._adapterO) {\r\n            return text;\r\n        }\r\n        else {\r\n            return this._adapterO.apply(\"getTooltipText\", text);\r\n        }\r\n    };\r\n    /**\r\n     * Takes an absolute position within axis and adjust it to a specific position within base interval. (cell)\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param position Source position\r\n     * @param location  Location in the cell\r\n     * @return Adjusted position\r\n     */\r\n    DateAxis.prototype.roundPosition = function (position, location, axisLocation) {\r\n        var baseInterval = this.baseInterval;\r\n        var timeUnit = baseInterval.timeUnit;\r\n        var count = baseInterval.count;\r\n        var date = this.positionToDate(position);\r\n        $time.round(date, timeUnit, count, this._firstWeekDay, this._df.utc);\r\n        if (location > 0) {\r\n            $time.add(date, timeUnit, location * count, this._df.utc);\r\n        }\r\n        if (axisLocation > 0 && axisLocation < 1) {\r\n            date.setTime(date.getTime() + this.baseDuration * axisLocation);\r\n        }\r\n        if (this.isInBreak(date.getTime())) {\r\n            while (date.getTime() < this.max) {\r\n                $time.add(date, timeUnit, count, this._df.utc);\r\n                if (!this.isInBreak(date.getTime())) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return this.dateToPosition(date);\r\n    };\r\n    /**\r\n     * Returns an relative position of the start of the cell (period), that specific position value falls into.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     * @param position  Relative position\r\n     * @return Cell start relative position\r\n     */\r\n    DateAxis.prototype.getCellStartPosition = function (position) {\r\n        return this.roundPosition(position, 0);\r\n    };\r\n    /**\r\n     * Returns an relative position of the end of the cell (period), that specific position value falls into.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description (review)\r\n     * @param position  Relative position\r\n     * @return Cell end relative position\r\n     */\r\n    DateAxis.prototype.getCellEndPosition = function (position) {\r\n        return this.roundPosition(position, 1);\r\n        //return this.dateToPosition($time.add(this.positionToDate(this.roundPosition(position, 1)), this.baseInterval.timeUnit, this.baseInterval.count));\r\n    };\r\n    /**\r\n     * Returns a Series data item that corresponds to the specific pixel position\r\n     * of the Axis.\r\n     *\r\n     * If `findNearest` (third parameter) is set to `true`, the method will try\r\n     * to locate nearest available data item if none is found directly under\r\n     * `position`.\r\n     *\r\n     * @param series       Series\r\n     * @param position     Position (px)\r\n     * @param findNearest  Should axis try to find nearest tooltip if there is no data item at exact position\r\n     * @return Data item\r\n     */\r\n    DateAxis.prototype.getSeriesDataItem = function (series, position, findNearest) {\r\n        var value = this.positionToValue(position);\r\n        var date = $time.round(new Date(value), this.baseInterval.timeUnit, this.baseInterval.count, this._firstWeekDay, this._df.utc);\r\n        var dataItemsByAxis = series.dataItemsByAxis.getKey(this.uid);\r\n        var dataItem = dataItemsByAxis.getKey(date.getTime().toString());\r\n        // todo:  alternatively we can find closiest here\r\n        if (!dataItem && findNearest) {\r\n            var key_1;\r\n            if (this.axisLetter == \"Y\") {\r\n                key_1 = \"dateY\";\r\n            }\r\n            else {\r\n                key_1 = \"dateX\";\r\n            }\r\n            dataItem = series.dataItems.getIndex(series.dataItems.findClosestIndex(date.getTime(), function (x) {\r\n                if (x[key_1]) {\r\n                    return x[key_1].getTime();\r\n                }\r\n                else {\r\n                    return -Infinity;\r\n                }\r\n            }, \"any\"));\r\n        }\r\n        return dataItem;\r\n    };\r\n    /**\r\n     * Returns a formatted date based on position in axis scale.\r\n     *\r\n     * Please note that `position` represents position within axis which may be\r\n     * zoomed and not correspond to Cursor's `position`.\r\n     *\r\n     * To convert Cursor's `position` to Axis' `position` use `toAxisPosition()` method.\r\n     *\r\n     * @see {@link https://www.amcharts.com/docs/v4/tutorials/tracking-cursors-position-via-api/#Tracking_Cursor_s_position} For more information about cursor tracking.\r\n     * @param position  Relative position on axis (0-1)\r\n     * @return Position label\r\n     */\r\n    DateAxis.prototype.getPositionLabel = function (position) {\r\n        // @todo Better format recognition\r\n        var date = this.positionToDate(position);\r\n        return this._df.format(date, this.getCurrentLabelFormat());\r\n    };\r\n    /**\r\n     * Returns label date format based on currently used time units\r\n     *\r\n     * @return Format\r\n     */\r\n    DateAxis.prototype.getCurrentLabelFormat = function () {\r\n        return this.dateFormats.getKey(this._gridInterval ? this._gridInterval.timeUnit : \"day\");\r\n    };\r\n    /**\r\n     * Initializes an Axis renderer.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    DateAxis.prototype.initRenderer = function () {\r\n        _super.prototype.initRenderer.call(this);\r\n        var renderer = this.renderer;\r\n        if (renderer) {\r\n            // Set defaults\r\n            renderer.ticks.template.location = 0;\r\n            renderer.grid.template.location = 0;\r\n            renderer.labels.template.location = 0;\r\n            renderer.baseGrid.disabled = true;\r\n        }\r\n    };\r\n    Object.defineProperty(DateAxis.prototype, \"basePoint\", {\r\n        /**\r\n         * Coordinates of the actual axis start.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Base point\r\n         */\r\n        get: function () {\r\n            return { x: 0, y: 0 };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    DateAxis.prototype.animateMinMax = function (min, max) {\r\n        var _this = this;\r\n        var animation = this.animate([{ property: \"_minAdjusted\", from: this._minAdjusted, to: min }, { property: \"_maxAdjusted\", from: this._maxAdjusted, to: max }], this.rangeChangeDuration, this.rangeChangeEasing);\r\n        animation.events.on(\"animationprogress\", function () {\r\n            _this.dispatch(\"extremeschanged\");\r\n        });\r\n        return animation;\r\n    };\r\n    /**\r\n     * Invalidates axis data items when series extremes change\r\n     */\r\n    DateAxis.prototype.handleExtremesChange = function () {\r\n        _super.prototype.handleExtremesChange.call(this);\r\n        if (this.groupData) {\r\n            var id = this.baseInterval.timeUnit + this.baseInterval.count;\r\n            this.groupMin[id] = this._finalMin;\r\n            this.groupMax[id] = this._finalMax;\r\n        }\r\n    };\r\n    /**\r\n     * Zooms axis to specific Dates.\r\n     *\r\n     * @param startDate       Start date\r\n     * @param endValue        End date\r\n     * @param skipRangeEvent  Do not invoke events\r\n     * @param instantly       Do not play zoom animations\r\n     */\r\n    DateAxis.prototype.zoomToDates = function (startDate, endDate, skipRangeEvent, instantly, adjust) {\r\n        startDate = this._df.parse(startDate);\r\n        endDate = this._df.parse(endDate);\r\n        this.zoomToValues(startDate.getTime(), endDate.getTime(), skipRangeEvent, instantly, adjust);\r\n    };\r\n    /**\r\n     * Zooms axis to specific values.\r\n     *\r\n     * @param startValue      Start value\r\n     * @param endValue        End value\r\n     * @param skipRangeEvent  Do not invoke events\r\n     * @param instantly       Do not play zoom animations\r\n     */\r\n    DateAxis.prototype.zoomToValues = function (startValue, endValue, skipRangeEvent, instantly, adjust) {\r\n        var _this = this;\r\n        if (!this.groupData) {\r\n            var start = (startValue - this.min) / (this.max - this.min);\r\n            var end = (endValue - this.min) / (this.max - this.min);\r\n            this.zoom({ start: start, end: end }, skipRangeEvent, instantly);\r\n        }\r\n        else {\r\n            var difference = this.adjustDifference(startValue, endValue);\r\n            var isEnd = false;\r\n            if (endValue == this.max) {\r\n                isEnd = true;\r\n            }\r\n            var isStart = false;\r\n            if (startValue == this.min) {\r\n                isStart = true;\r\n            }\r\n            if ($type.hasValue(difference)) {\r\n                var mainBaseInterval = this.mainBaseInterval;\r\n                var groupInterval_1 = this.chooseInterval(0, difference, this.groupCount, this.groupIntervals);\r\n                if ((groupInterval_1.timeUnit == mainBaseInterval.timeUnit && groupInterval_1.count < mainBaseInterval.count) || $time.getDuration(groupInterval_1.timeUnit, 1) < $time.getDuration(mainBaseInterval.timeUnit, 1)) {\r\n                    groupInterval_1 = __assign({}, mainBaseInterval);\r\n                }\r\n                var id = groupInterval_1.timeUnit + groupInterval_1.count;\r\n                var min_1 = this.groupMin[id];\r\n                var max_1 = this.groupMax[id];\r\n                if (!$type.isNumber(min_1) || !$type.isNumber(max_1)) {\r\n                    min_1 = Number.POSITIVE_INFINITY;\r\n                    max_1 = Number.NEGATIVE_INFINITY;\r\n                    this.series.each(function (series) {\r\n                        var seriesMin = series.min(_this);\r\n                        var seriesMax = series.max(_this);\r\n                        if (series._dataSets) {\r\n                            var ds = series._dataSets.getKey(groupInterval_1.timeUnit + groupInterval_1.count);\r\n                            if (ds) {\r\n                                var mindi = ds.getIndex(0);\r\n                                var maxdi = ds.getIndex(ds.length - 1);\r\n                                if (mindi) {\r\n                                    if (series.xAxis == _this) {\r\n                                        seriesMin = mindi.dateX.getTime();\r\n                                    }\r\n                                    else if (series.yAxis == _this) {\r\n                                        seriesMin = mindi.dateY.getTime();\r\n                                    }\r\n                                }\r\n                                if (maxdi) {\r\n                                    if (series.xAxis == _this) {\r\n                                        seriesMax = maxdi.dateX.getTime();\r\n                                    }\r\n                                    else if (series.yAxis == _this) {\r\n                                        seriesMax = maxdi.dateY.getTime();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        seriesMax = $time.round($time.add(new Date(seriesMax), groupInterval_1.timeUnit, 1, _this._df.utc), groupInterval_1.timeUnit, 1, _this._df.firstDayOfWeek, _this._df.utc).getTime();\r\n                        if (seriesMin < min_1) {\r\n                            min_1 = seriesMin;\r\n                        }\r\n                        if (seriesMax > max_1) {\r\n                            max_1 = seriesMax;\r\n                        }\r\n                    });\r\n                    this.groupMin[id] = min_1;\r\n                    this.groupMax[id] = max_1;\r\n                }\r\n                startValue = $math.fitToRange(startValue, min_1, max_1);\r\n                endValue = $math.fitToRange(endValue, min_1, max_1);\r\n                if (adjust) {\r\n                    if (isEnd) {\r\n                        startValue = endValue - difference;\r\n                        startValue = $math.fitToRange(startValue, min_1, max_1);\r\n                    }\r\n                    if (isStart) {\r\n                        endValue = startValue + difference;\r\n                        endValue = $math.fitToRange(endValue, min_1, max_1);\r\n                    }\r\n                }\r\n                var start = (startValue - min_1) / (max_1 - min_1);\r\n                var end = (endValue - min_1) / (max_1 - min_1);\r\n                this.zoom({ start: start, end: end }, skipRangeEvent, instantly);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Adds `baseInterval` to \"as is\" fields.\r\n     *\r\n     * @param field  Field name\r\n     * @return Assign as is?\r\n     */\r\n    DateAxis.prototype.asIs = function (field) {\r\n        return field == \"baseInterval\" || _super.prototype.asIs.call(this, field);\r\n    };\r\n    /**\r\n     * Copies all properties and related data from a different instance of Axis.\r\n     *\r\n     * @param source Source Axis\r\n     */\r\n    DateAxis.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.dateFormats = source.dateFormats;\r\n        this.periodChangeDateFormats = source.periodChangeDateFormats;\r\n        this.groupIntervals.clear();\r\n        source.groupIntervals.each(function (interval) {\r\n            _this.groupIntervals.push(__assign({}, interval));\r\n        });\r\n        this.gridIntervals.clear();\r\n        source.gridIntervals.each(function (interval) {\r\n            _this.gridIntervals.push(__assign({}, interval));\r\n        });\r\n        if (source._baseInterval) {\r\n            this.baseInterval = source._baseInterval;\r\n        }\r\n    };\r\n    /**\r\n     * Shows Axis tooltip at specific relative position within Axis. (0-1)\r\n     *\r\n     * @param position Position (0-1)\r\n     * @param local or global position\r\n     */\r\n    DateAxis.prototype.showTooltipAtPosition = function (position, local) {\r\n        var _this = this;\r\n        if (!local) {\r\n            position = this.toAxisPosition(position);\r\n        }\r\n        if (this.snapTooltip) {\r\n            // rounding is not good, pen/aac4e7f66f019d36b2447f050c600c13 (no last tootltip shown)\r\n            var actualDate = this.positionToDate(position); //$time.round(this.positionToDate(position), this.baseInterval.timeUnit, 1, this.getFirstWeekDay(), this.dateFormatter.utc);\r\n            var actualTime_1 = actualDate.getTime();\r\n            var closestDate_1;\r\n            this.series.each(function (series) {\r\n                if (series.baseAxis == _this) {\r\n                    var dataItem = _this.getSeriesDataItem(series, position, true);\r\n                    if (dataItem) {\r\n                        var date = void 0;\r\n                        if (series.xAxis == _this) {\r\n                            date = dataItem.dateX;\r\n                        }\r\n                        if (series.yAxis == _this) {\r\n                            date = dataItem.dateY;\r\n                        }\r\n                        if (!closestDate_1) {\r\n                            closestDate_1 = date;\r\n                        }\r\n                        else {\r\n                            if (Math.abs(closestDate_1.getTime() - actualTime_1) > Math.abs(date.getTime() - actualTime_1)) {\r\n                                closestDate_1 = date;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (closestDate_1) {\r\n                var closestTime_1 = closestDate_1.getTime();\r\n                closestDate_1 = $time.round(new Date(closestTime_1), this.baseInterval.timeUnit, this.baseInterval.count, this._firstWeekDay, this._df.utc);\r\n                closestTime_1 = closestDate_1.getTime();\r\n                var tooltipLocation = this.renderer.tooltipLocation;\r\n                if (tooltipLocation == 0) {\r\n                    tooltipLocation = 0.0001;\r\n                }\r\n                closestDate_1 = new Date(closestDate_1.getTime() + this.baseDuration * tooltipLocation);\r\n                position = this.dateToPosition(closestDate_1);\r\n                if (this.chart.cursor && this.chart.cursor.snapToSeries) {\r\n                    //void\r\n                }\r\n                else {\r\n                    this.series.each(function (series) {\r\n                        var dataItem = series.dataItemsByAxis.getKey(_this.uid).getKey(closestTime_1 + series.currentDataSetId);\r\n                        var point = series.showTooltipAtDataItem(dataItem);\r\n                        if (point) {\r\n                            _this.chart._seriesPoints.push({ series: series, point: point });\r\n                        }\r\n                        else {\r\n                            // check, otherwise column tooltip will be hidden\r\n                            if (series.tooltipText || series.tooltipHTML) {\r\n                                series.hideTooltip();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                //this.chart.sortSeriesTooltips(seriesPoints);\r\n            }\r\n        }\r\n        _super.prototype.showTooltipAtPosition.call(this, position, true);\r\n    };\r\n    Object.defineProperty(DateAxis.prototype, \"snapTooltip\", {\r\n        /**\r\n         * @return Should snap?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"snapTooltip\");\r\n        },\r\n        /**\r\n         * Should the nearest tooltip be shown if no data item is found on the\r\n         * current cursor position.\r\n         *\r\n         * @default true\r\n         * @param value  Should snap?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"snapTooltip\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"groupData\", {\r\n        /**\r\n         * @return Group data points?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"groupData\");\r\n        },\r\n        /**\r\n         * Indicates if data should be aggregated to composide data items if there\r\n         * are more data items in selected range than `groupCount`.\r\n         *\r\n         * Grouping will occur automatically, based on current selection range, and\r\n         * will change dynamically when user zooms in/out the chart.\r\n         *\r\n         * NOTE: This works only if [[DateAxis]] is base axis of an [[XYSeries]].\r\n         *\r\n         * The related [[XYSeries]] also needs to be set up to take advantage of, by\r\n         * setting its [`groupFields`](https://www.amcharts.com/docs/v4/reference/xyseries/#groupFields_property).\r\n         *\r\n         * The group intervals to aggregate data to is defined by `groupIntervals`\r\n         * property.\r\n         *\r\n         * ```TypeScript\r\n         * let dateAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n         * dateAxis.groupData = true;\r\n         *\r\n         * let valueAxis = chart.xAxes.push(new am4charts.valueAxis());\r\n         *\r\n         * let series = chart.series.push(new am4charts.LineSeries());\r\n         * series.dataFields.dateX = \"date\";\r\n         * series.dataFields.valueY = \"value\";\r\n         * series.groupFields.valueY = \"average\";\r\n         * ```\r\n         * ```JavaScript\r\n         * var dateAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n         * dateAxis.groupData = true;\r\n         *\r\n         * var valueAxis = chart.xAxes.push(new am4charts.valueAxis());\r\n         *\r\n         * var series = chart.series.push(new am4charts.LineSeries());\r\n         * series.dataFields.dateX = \"date\";\r\n         * series.dataFields.valueY = \"value\";\r\n         * series.groupFields.valueY = \"average\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"xAxes\": [{\r\n         *     \"type\": \"DateAxis\",\r\n         *     \"groupData\": true\r\n         *   }],\r\n         *   \"yAxes\": [{\r\n         *     \"type\": \"ValueAxis\"\r\n         *   }],\r\n         *   \"series\": [{\r\n         *     \"type\": \"LineSeries\",\r\n         *     \"dataFields\": {\r\n         *       \"dateX\": \"date\",\r\n         *       \"valueY\": \"value\"\r\n         *     },\r\n         *     \"groupFields\": {\r\n         *       \"valueY\": \"average\"\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @default false\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/axes/date-axis/#Dynamic_data_item_grouping} for more information about dynamic data item grouping.\r\n         * @since 4.7.0\r\n         * @param  value  Group data points?\r\n         */\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (this.setPropertyValue(\"groupData\", value)) {\r\n                this.series.each(function (series) {\r\n                    series.setDataSet(\"\");\r\n                    if (value && !series.dataGrouped && series.inited) {\r\n                        series._baseInterval[_this.uid] = _this.mainBaseInterval;\r\n                        _this.groupSeriesData(series);\r\n                    }\r\n                });\r\n                this._currentDataSetId = \"\";\r\n                this._groupInterval = undefined;\r\n                this.invalidate();\r\n                this.invalidateSeries();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"groupInterval\", {\r\n        /**\r\n         * @return Interval\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"groupInterval\");\r\n        },\r\n        /**\r\n         * Disables automatic selection of data grouping intervals and always uses\r\n         * `groupInterval` if set. Works only if `groupData = true`.\r\n         *\r\n         * @since 4.9.24\r\n         * @param  value  Interval\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"groupInterval\", value)) {\r\n                this.invalidate();\r\n                this.invalidateSeries();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"groupCount\", {\r\n        /**\r\n         * @return Number of data items\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"groupCount\");\r\n        },\r\n        /**\r\n         * Indicates threshold of data items in selected range at which to start\r\n         * aggregating data items if `groupData = true`.\r\n         *\r\n         * @default 200\r\n         * @since 4.7.0\r\n         * @param  value  Number of data items\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"groupCount\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"timezoneOffset\", {\r\n        /**\r\n         * @todo Timezone offset in minutes\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"timezoneOffset\");\r\n        },\r\n        /**\r\n         *\r\n         * Indicates by how many minutes the timestamps in your data are offset from GMT.\r\n         * This is useful when you have timestamps as your data and you want all the users to see\r\n         * the same result and not the time which was at users's location at the given timestamp.\r\n         * Note, you do not need to set timezoneOffset both here and on DateFormatter, as this will\r\n         * distort the result.\r\n         *\r\n         * @default undefined\r\n         * @since 4.8.5\r\n         * @param  value Time zone offset in minutes\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"timezoneOffset\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxis.prototype, \"gridInterval\", {\r\n        /**\r\n         * Current grid interval.\r\n         *\r\n         * @return Grid interval\r\n         */\r\n        get: function () {\r\n            return this._gridInterval;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    DateAxis.prototype.makeGap = function (dataItem, previous) {\r\n        var series = dataItem.component;\r\n        if (dataItem && previous) {\r\n            if (!series.connect && $type.isNumber(series.autoGapCount)) {\r\n                if (series.baseAxis == this) {\r\n                    var date = dataItem.dates[\"date\" + this.axisLetter];\r\n                    var prevDate = previous.dates[\"date\" + this.axisLetter];\r\n                    if (date && prevDate) {\r\n                        var time = date.getTime();\r\n                        var prevTime = prevDate.getTime();\r\n                        if (time - prevTime > series.autoGapCount * this.baseDuration) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(DateAxis.prototype, \"baseValue\", {\r\n        /**\r\n         * @return base value\r\n         */\r\n        get: function () {\r\n            return this.min;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return DateAxis;\r\n}(ValueAxis));\r\nexport { DateAxis };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DateAxis\"] = DateAxis;\r\nregistry.registeredClasses[\"DateAxisDataItem\"] = DateAxisDataItem;\r\n//# sourceMappingURL=DateAxis.js.map","/**\r\n * DateAxisBreak includes functionality to add breaks on a [[DateAxis]].\r\n *\r\n * A \"break\" can be used to \"cut out\" specific ranges of the axis scale, e.g.\r\n * weekends and holidays out of the Date-based axis.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ValueAxisBreak } from \"./ValueAxisBreak\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to define breaks for [[DateAxis]].\r\n *\r\n * A \"break\" can be used to \"cut out\" specific ranges of the axis scale, e.g.\r\n * weekends and holidays out of the Date-based axis.\r\n *\r\n * @see {@link IDateAxisBreakEvents} for a list of available events\r\n * @see {@link IDateAxisBreakAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar DateAxisBreak = /** @class */ (function (_super) {\r\n    __extends(DateAxisBreak, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DateAxisBreak() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"DateAxisBreak\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DateAxisBreak.prototype, \"startDate\", {\r\n        /**\r\n         * @return Start date\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startDate\");\r\n        },\r\n        /**\r\n         * Starting date for the break.\r\n         *\r\n         * @param value Start date\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"startDate\", value)) {\r\n                this.startValue = value.getTime();\r\n                if (this.axis) {\r\n                    this.axis.invalidate();\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(DateAxisBreak.prototype, \"endDate\", {\r\n        /**\r\n         * @return End date\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endDate\");\r\n        },\r\n        /**\r\n         * Ending date for the break.\r\n         *\r\n         * @param value End date\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"endDate\", value)) {\r\n                this.endValue = value.getTime();\r\n                if (this.axis) {\r\n                    this.axis.invalidate();\r\n                    this.axis.invalidateSeries();\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return DateAxisBreak;\r\n}(ValueAxisBreak));\r\nexport { DateAxisBreak };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DateAxisBreak\"] = DateAxisBreak;\r\n//# sourceMappingURL=DateAxisBreak.js.map","/**\r\n * DurationAxis module\r\n */\r\nimport { __extends, __values } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ValueAxis, ValueAxisDataItem } from \"./ValueAxis\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines data item for [[DurationAxis]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar DurationAxisDataItem = /** @class */ (function (_super) {\r\n    __extends(DurationAxisDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DurationAxisDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"DurationAxisDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return DurationAxisDataItem;\r\n}(ValueAxisDataItem));\r\nexport { DurationAxisDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Used to create an axis that shows time durations.\r\n *\r\n * ```TypeScript\r\n * // Create the axis\r\n * let xAxis = chart.xAxes.push(new am4charts.DurationAxis());\r\n *\r\n * // Set settings\r\n * xAxis.title.text = \"Time\";\r\n * ```\r\n * ```JavaScript\r\n * // Create the axis\r\n * var valueAxis = chart.xAxes.push(new am4charts.DurationAxis());\r\n *\r\n * // Set settings\r\n * valueAxis.title.text = \"Time\";\r\n * ```\r\n * ```JSON\r\n * \"xAxes\": [{\r\n *   \"type\": \"DurationAxis\",\r\n *   \"title\": {\r\n *     \"text\": \"Time\"\r\n *   }\r\n * }]\r\n * ```\r\n *\r\n * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/} for mor information about duration formatters.\r\n * @see {@link IDurationAxisEvents} for a list of available Events\r\n * @see {@link IDurationAxisAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar DurationAxis = /** @class */ (function (_super) {\r\n    __extends(DurationAxis, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function DurationAxis() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * A base unit (granularity) of data.\r\n         *\r\n         * Used to indicate what are the base units of your data.\r\n         */\r\n        _this._baseUnit = \"second\";\r\n        _this.className = \"DurationAxis\";\r\n        _this.setPropertyValue(\"maxZoomFactor\", 1000000);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Formats the value according to axis' own [[DurationFormatter]].\r\n     *\r\n     * @param value  Source value\r\n     * @return Formatted value\r\n     */\r\n    DurationAxis.prototype.formatLabel = function (value, format) {\r\n        return this.durationFormatter.format(value, format || this.axisDurationFormat);\r\n    };\r\n    /**\r\n     * Adjusts actual min and max scale values so that the axis starts and ends\r\n     * at \"nice\" values, unless `strictMinMax` is set.\r\n     *\r\n     * The `difference` can be something else than `max - min`, because of the\r\n     * axis breaks.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param min        [description]\r\n     * @param max        [description]\r\n     * @param difference [description]\r\n     * @param gridCount  [description]\r\n     * @param strictMode [description]\r\n     * @return [description]\r\n     */\r\n    DurationAxis.prototype.adjustMinMax = function (min, max, difference, gridCount, strictMode) {\r\n        var e_1, _a;\r\n        var minMaxStep;\r\n        var timeUnit = this.baseUnit;\r\n        // we don't allow to go to smaller units, setting so to avoid invalidation\r\n        this.setPropertyValue(\"maxPrecision\", 0);\r\n        if (timeUnit == \"millisecond\" || timeUnit == \"second\" || timeUnit == \"minute\" || timeUnit == \"hour\") {\r\n            // will fail if 0\r\n            if (gridCount <= 1) {\r\n                gridCount = 1;\r\n            }\r\n            gridCount = Math.round(gridCount);\r\n            var initialMin = min;\r\n            var initialMax = max;\r\n            // in case min and max is the same, use max\r\n            if (difference === 0) {\r\n                difference = Math.abs(max);\r\n            }\r\n            var step = difference / gridCount;\r\n            var divisors = [60, 30, 20, 15, 10, 2, 1];\r\n            var realDivisor = 1;\r\n            if (timeUnit == \"hour\") {\r\n                divisors = [24, 12, 6, 4, 2, 1];\r\n            }\r\n            try {\r\n                for (var divisors_1 = __values(divisors), divisors_1_1 = divisors_1.next(); !divisors_1_1.done; divisors_1_1 = divisors_1.next()) {\r\n                    var divisor = divisors_1_1.value;\r\n                    if (difference / divisor > gridCount) {\r\n                        realDivisor = divisor;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (divisors_1_1 && !divisors_1_1.done && (_a = divisors_1.return)) _a.call(divisors_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n            var count = Math.ceil(((max - min) / realDivisor) / gridCount);\r\n            var exponent = Math.log(Math.abs(count)) * Math.LOG10E;\r\n            var power = Math.pow(10, Math.floor(exponent)) / 10;\r\n            var reducedCount = count / power;\r\n            // find closest to divisor\r\n            var closest = $math.closest(divisors, reducedCount);\r\n            count = closest * power;\r\n            step = realDivisor * count;\r\n            // TODO can this be removed ?\r\n            this.durationFormatter.getValueUnit(step, this.baseUnit);\r\n            min = Math.floor(min / step) * step;\r\n            max = Math.ceil(max / step) * step;\r\n            if (strictMode) {\r\n                min -= step;\r\n                if (min < 0 && initialMin >= 0) {\r\n                    min = 0;\r\n                }\r\n                max += step;\r\n                if (max > 0 && initialMax <= 0) {\r\n                    max = 0;\r\n                }\r\n            }\r\n            minMaxStep = { min: min, max: max, step: step };\r\n        }\r\n        else {\r\n            minMaxStep = _super.prototype.adjustMinMax.call(this, min, max, difference, gridCount, strictMode);\r\n        }\r\n        // choose duration formatter based on step\r\n        this.axisDurationFormat = this.durationFormatter.getFormat(minMaxStep.step, minMaxStep.max, this.baseUnit);\r\n        return minMaxStep;\r\n    };\r\n    Object.defineProperty(DurationAxis.prototype, \"tooltipDurationFormat\", {\r\n        /**\r\n         * @return Duration format for axis labels\r\n         */\r\n        get: function () {\r\n            return this._tooltipDurationFormat;\r\n        },\r\n        /**\r\n         * A special duration format to apply axis tooltips.\r\n         *\r\n         * Will use same format as for labels, if not set.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/formatters/formatting-duration/} for mor information.\r\n         * @param value  Duration format for axis labels\r\n         */\r\n        set: function (value) {\r\n            this._tooltipDurationFormat = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns text to show in a axis tooltip, based on specific position within\r\n     * axis.\r\n     *\r\n     * The label will be formatted as per [[NumberFormatter]] set for the whole\r\n     * chart, or explicitly for this Axis.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param position  Position (px)\r\n     * @return Label (numeric value)\r\n     */\r\n    DurationAxis.prototype.getTooltipText = function (position) {\r\n        var value = $math.round(this.positionToValue(position), this._stepDecimalPlaces);\r\n        var valueStr = this.formatLabel(value, this.tooltipDurationFormat);\r\n        if (!this._adapterO) {\r\n            return valueStr;\r\n        }\r\n        else {\r\n            return this._adapterO.apply(\"getTooltipText\", valueStr);\r\n        }\r\n    };\r\n    Object.defineProperty(DurationAxis.prototype, \"baseUnit\", {\r\n        /**\r\n         * @return Base unit\r\n         */\r\n        get: function () {\r\n            return this._baseUnit;\r\n        },\r\n        /**\r\n         * A base unit (granularity) of data.\r\n         *\r\n         * Used to indicate what are the base units of your data.\r\n         *\r\n         * Available options: \"millisecond\", \"second\" (default), \"minute\", \"hour\",\r\n         * \"day\", \"week\", \"month\", \"year\".\r\n         *\r\n         * @default \"second\"\r\n         * @param timeUnit\r\n         */\r\n        set: function (timeUnit) {\r\n            if (this._baseUnit != timeUnit) {\r\n                this._baseUnit = timeUnit;\r\n                this.durationFormatter.baseUnit = timeUnit;\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all properties and related data from a different instance of Axis.\r\n     *\r\n     * @param source Source Axis\r\n     */\r\n    DurationAxis.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.baseUnit = source.baseUnit;\r\n    };\r\n    return DurationAxis;\r\n}(ValueAxis));\r\nexport { DurationAxis };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"DurationAxis\"] = DurationAxis;\r\nregistry.registeredClasses[\"DurationAxisDataItem\"] = DurationAxisDataItem;\r\n//# sourceMappingURL=DurationAxis.js.map","/**\r\n * A module defining functionality for circular axis grid elements.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Grid } from \"./Grid\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a circular grid element for circular-type axis.\r\n *\r\n * @see {@link IGridCircularEvents} for a list of available events\r\n * @see {@link IGridCircularAdapters} for a list of available Adapters\r\n * @todo Review: container is better, as we'll be able to attach something to the GridCircular, also with 3d charts we might need some additional elements\r\n */\r\nvar GridCircular = /** @class */ (function (_super) {\r\n    __extends(GridCircular, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function GridCircular() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"GridCircular\";\r\n        _this.pixelPerfect = false;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(GridCircular.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Inner radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Inner radius of the circular grid. (absolute or relative)\r\n         *\r\n         * @param value Inner radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GridCircular.prototype, \"radius\", {\r\n        /**\r\n         * @return Outer radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Outer radius of the circular grid. (absolute or relative)\r\n         *\r\n         * @param value Outer radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"radius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return GridCircular;\r\n}(Grid));\r\nexport { GridCircular };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"GridCircular\"] = GridCircular;\r\n//# sourceMappingURL=GridCircular.js.map","/**\r\n * Cursor module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../core/Container\";\r\nimport { getInteraction } from \"../../core/interaction/Interaction\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { MouseCursorStyle } from \"../../core/interaction/Mouse\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { system } from \"../../core/System\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Main Cursor class with common cursor functionality.\r\n *\r\n * Chart-specific cursors must extend this class.\r\n *\r\n * @see {@link ICursorEvents} for a list of available events\r\n * @see {@link ICursorAdapters} for a list of available Adapters\r\n * @todo Add description, examples\r\n * @todo Should we allow changing `_generalBehavior`?\r\n */\r\nvar Cursor = /** @class */ (function (_super) {\r\n    __extends(Cursor, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Cursor() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Current cursor position during selection.\r\n         *\r\n         * @todo Better description\r\n         */\r\n        _this.point = { x: 0, y: 0 };\r\n        /**\r\n         * Specifies the rules when cursor needs to be moved or hidden.\r\n         */\r\n        _this._stick = \"none\";\r\n        _this.className = \"Cursor\";\r\n        // Set defaults\r\n        _this.width = percent(100);\r\n        _this.height = percent(100);\r\n        _this.shouldClone = false;\r\n        _this.hide(0);\r\n        _this.trackable = true;\r\n        _this.clickable = true;\r\n        _this.isMeasured = false;\r\n        // Add events on body to trigger down and up events (to start zooming or\r\n        // selection)\r\n        var interaction = getInteraction();\r\n        _this._disposers.push(interaction.body.events.on(\"down\", _this.handleCursorDown, _this));\r\n        _this._disposers.push(interaction.body.events.on(\"up\", _this.handleCursorUp, _this));\r\n        _this._disposers.push(interaction.body.events.on(\"track\", _this.handleCursorMove, _this));\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Handle pointer movement in document and update cursor position as needed.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Event\r\n     */\r\n    Cursor.prototype.handleCursorMove = function (event) {\r\n        if (!this.interactionsEnabled || (this.interactions.isTouchProtected && event.touch)) {\r\n            return;\r\n        }\r\n        if (((this._generalBehavior != \"zoom\" && this._generalBehavior != \"pan\") || !this.downPoint) && !getInteraction().isLocalElement(event.pointer, this.paper.svg, this.uid)) {\r\n            // We want to let zoom/pan continue even if cursor is outside chart area\r\n            if (!this.isHidden || !this.isHiding) {\r\n                this.hide();\r\n            }\r\n            return;\r\n        }\r\n        var local = $utils.documentPointToSprite(event.pointer.point, this);\r\n        if (this._stick == \"hard\" && this._stickPoint) {\r\n            local = this._stickPoint;\r\n        }\r\n        if (this._stick == \"soft\" && this._stickPoint) {\r\n            if (!this.fitsToBounds(local)) {\r\n                local = this._stickPoint;\r\n            }\r\n        }\r\n        this.triggerMove(local);\r\n        return local;\r\n    };\r\n    /**\r\n     * Hides actual SVG elements and handles hiding animations.\r\n     *\r\n     * @param duration  Fade out duration (ms)\r\n     * @return Fade out duration (ms)\r\n     * @ignore\r\n     */\r\n    Cursor.prototype.hideReal = function (duration) {\r\n        if ((this._stick == \"hard\" || this._stick == \"soft\") && this._stickPoint) {\r\n            return;\r\n        }\r\n        return _super.prototype.hideReal.call(this, duration);\r\n    };\r\n    /**\r\n     * Places the cursor at specific point.\r\n     *\r\n     * The second parameter has following options:\r\n     *\r\n     * `\"none\"` - placed cursor will only be there until mouse/touch moves, then\r\n     * it either moves to a new place (if pointer over plot area) or is hidden.\r\n     *\r\n     * `\"soft\"` - cursor will stay in the place if mouse/touch is happening\r\n     * outside chart, but will move to a new place whe plot area is hovered or\r\n     * touched.\r\n     *\r\n     * `\"hard\"` - cursor will stay in place no matter what, until it is moved by\r\n     * another `triggerMove()` call.\r\n     *\r\n     * The third parameter - `force` (since `4.9.5`) - if set to `true` will\r\n     * make cursor execute all of the actions associated with cursor move,\r\n     * including line redraws, tooltip updates, etc. Useful when underlying\r\n     * chart data is dynamically being updated.\r\n     *\r\n     * @param point  Point to place cursor at\r\n     * @param stick  Level of cursor stickiness to the place\r\n     * @param force  Force cursor move\r\n     */\r\n    Cursor.prototype.triggerMove = function (point, stick, force) {\r\n        point.x = $math.round(point.x, 1);\r\n        point.y = $math.round(point.y, 1);\r\n        if (stick) {\r\n            this._stick = stick;\r\n        }\r\n        if (stick == \"hard\" || stick == \"soft\") {\r\n            this._stickPoint = point;\r\n        }\r\n        this.triggerMoveReal(point, force);\r\n    };\r\n    /**\r\n     * Places the cursor at specific point.\r\n     *\r\n     * @param point Point to place cursor at\r\n     */\r\n    Cursor.prototype.triggerMoveReal = function (point, force) {\r\n        if (this.point.x != point.x || this.point.y != point.y || force) {\r\n            this.point = point;\r\n            this.invalidatePosition();\r\n            // hide cursor if it's out of bounds\r\n            if (this.fitsToBounds(point)) {\r\n                this.show(0);\r\n            }\r\n            else {\r\n                // unless we are selecting (mouse is down)\r\n                if (!this.downPoint) {\r\n                    this.hide(0);\r\n                }\r\n            }\r\n            if (this.visible) {\r\n                this.getPositions();\r\n                this.dispatch(\"cursorpositionchanged\"); // not good to dispatch later (check step count example)\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Simulates pressing down (click/touch) action by a cursor.\r\n     *\r\n     * @param point               Point of action\r\n     */\r\n    Cursor.prototype.triggerDown = function (point) {\r\n        this.triggerDownReal(point);\r\n    };\r\n    /**\r\n     * Simulates pressing down (click/touch) action by a cursor.\r\n     *\r\n     * @param point               Point of action\r\n     */\r\n    Cursor.prototype.triggerDownReal = function (point) {\r\n        switch (this._generalBehavior) {\r\n            case \"zoom\":\r\n                this.dispatchImmediately(\"zoomstarted\");\r\n                break;\r\n            case \"select\":\r\n                this.dispatchImmediately(\"selectstarted\");\r\n                break;\r\n            case \"pan\":\r\n                this.dispatchImmediately(\"panstarted\");\r\n                getInteraction().setGlobalStyle(MouseCursorStyle.grabbing);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Simulates the action of release of the mouse down / touch.\r\n     *\r\n     * @param point               Point of action\r\n     */\r\n    Cursor.prototype.triggerUp = function (point) {\r\n        this.triggerUpReal(point);\r\n    };\r\n    /**\r\n     * Simulates the action of release of the mouse down / touch.\r\n     *\r\n     * @param point               Point of action\r\n     */\r\n    Cursor.prototype.triggerUpReal = function (point) {\r\n        system.requestFrame();\r\n        this.updatePoint(this.upPoint);\r\n        var interaction = getInteraction();\r\n        if ($math.getDistance(this._upPointOrig, this._downPointOrig) > interaction.getHitOption(this.interactions, \"hitTolerance\")) {\r\n            switch (this._generalBehavior) {\r\n                case \"zoom\":\r\n                    this.dispatch(\"zoomended\");\r\n                    break;\r\n                case \"select\":\r\n                    this.dispatch(\"selectended\");\r\n                    break;\r\n                case \"pan\":\r\n                    this.dispatch(\"panended\");\r\n                    interaction.setGlobalStyle(MouseCursorStyle.default);\r\n                    break;\r\n            }\r\n            this.downPoint = undefined;\r\n            this.updateSelection();\r\n        }\r\n        /*\r\n        else {\r\n            \r\n            if(this._generalBehavior == \"select\"){\r\n                this.dispatchImmediately(\"selectended\");\r\n            }\r\n            this.dispatchImmediately(\"behaviorcanceled\");\r\n            interaction.setGlobalStyle(MouseCursorStyle.default);\r\n            this.downPoint = undefined;\r\n        }*/\r\n    };\r\n    /**\r\n     * Updates selection dimensions on size change.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    Cursor.prototype.updateSelection = function () {\r\n    };\r\n    /**\r\n     * Updates cursors current positions.\r\n     */\r\n    Cursor.prototype.getPositions = function () {\r\n        // positions are used by axes or series\r\n        this.xPosition = this.point.x / this.innerWidth;\r\n        this.yPosition = 1 - this.point.y / this.innerHeight;\r\n    };\r\n    /**\r\n     * Handles pointer down event so we can start zoom or selection.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Original event\r\n     */\r\n    Cursor.prototype.handleCursorDown = function (event) {\r\n        if (!this.interactionsEnabled || (this.interactions.isTouchProtected && event.touch) || !getInteraction().isLocalElement(event.pointer, this.paper.svg, this.uid)) {\r\n            return;\r\n        }\r\n        // Get local point\r\n        var local = $utils.documentPointToSprite(event.pointer.point, this);\r\n        if (this._stick == \"hard\" && this._stickPoint) {\r\n            local = this._stickPoint;\r\n        }\r\n        this._downPointOrig = { x: local.x, y: local.y };\r\n        // We need to cancel the event to prevent gestures on touch devices\r\n        if (event.event.cancelable && this.shouldPreventGestures(event.touch) && this.fitsToBounds(local)) {\r\n            event.event.preventDefault();\r\n        }\r\n        // Make this happen\r\n        this.triggerMove(local);\r\n        this.triggerDown(local);\r\n    };\r\n    /**\r\n     * Determines whether Cursor should prevent default action on move.\r\n     *\r\n     * Child classes should override this as necessary.\r\n     *\r\n     * @return Prevent default?\r\n     */\r\n    Cursor.prototype.shouldPreventGestures = function (touch) {\r\n        return true;\r\n    };\r\n    /**\r\n     * Updates the coordinates of where pointer down event occurred\r\n     * (was pressed).\r\n     */\r\n    Cursor.prototype.updatePoint = function (point) {\r\n    };\r\n    /**\r\n     * Handles pointer up event - finishes zoom or selection action.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Original event\r\n     */\r\n    Cursor.prototype.handleCursorUp = function (event) {\r\n        if (!this.interactionsEnabled) {\r\n            return;\r\n        }\r\n        if (!this.downPoint && !getInteraction().isLocalElement(event.pointer, this.paper.svg, this.uid)) {\r\n            return;\r\n        }\r\n        var local = $utils.documentPointToSprite(event.pointer.point, this);\r\n        if (this._stick == \"hard\" && this._stickPoint) {\r\n            local = this._stickPoint;\r\n        }\r\n        this._upPointOrig = { x: local.x, y: local.y };\r\n        this.triggerMove(local);\r\n        this.triggerUp(local);\r\n    };\r\n    Object.defineProperty(Cursor.prototype, \"chart\", {\r\n        /**\r\n         * @return Chart\r\n         */\r\n        get: function () {\r\n            return this._chart;\r\n        },\r\n        /**\r\n         * A reference to a [[Chart]] the cursor belongs to.\r\n         *\r\n         * @param value  Chart\r\n         */\r\n        set: function (value) {\r\n            this._chart = value;\r\n            if ($type.hasValue(this._chart.plotContainer)) {\r\n                getInteraction().lockElement(this._chart.plotContainer.interactions);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Cursor;\r\n}(Container));\r\nexport { Cursor };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Cursor\"] = Cursor;\r\n//# sourceMappingURL=Cursor.js.map","import { __extends } from \"tslib\";\r\nimport { XYCursor } from \"./XYCursor\";\r\nimport { Percent, percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Cursor for [[RadarChart]].\r\n *\r\n * @see {@link IRadarCursorEvents} for a list of available events\r\n * @see {@link IRadarCursorAdapters} for a list of available Adapters\r\n */\r\nvar RadarCursor = /** @class */ (function (_super) {\r\n    __extends(RadarCursor, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RadarCursor() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"RadarCursor\";\r\n        _this.radius = percent(100);\r\n        _this.innerRadius = percent(0);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        _this.mask = undefined;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Checks if point is within bounds of a container.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param point  Point to check\r\n     * @return Fits within container?\r\n     */\r\n    RadarCursor.prototype.fitsToBounds = function (point) {\r\n        var radius = $math.getDistance(point);\r\n        //if(!$math.isAngleInRange(angle, this.startAngle, this.endAngle)){\r\n        //return false;\r\n        //}\r\n        if (radius < this.truePixelRadius + 1 && radius > this.pixelInnerRadius - 1) { // ok to add/remove some\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Object.defineProperty(RadarCursor.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Start angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startAngle\");\r\n        },\r\n        /**\r\n         * Starting angle of the cursor's radial line.\r\n         *\r\n         * @param value Start angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadarCursor.prototype, \"endAngle\", {\r\n        /**\r\n         * @return End angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endAngle\");\r\n        },\r\n        /**\r\n         * End angle of the cursor's radial line.\r\n         *\r\n         * @param value End angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"endAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    RadarCursor.prototype.triggerMoveReal = function (point, force) {\r\n        if (!this.xAxis || (this.xAxis && (!this.xAxis.cursorTooltipEnabled || this.xAxis.tooltip.disabled))) {\r\n            this.updateLineX(this.point);\r\n        }\r\n        if (!this.yAxis || (this.yAxis && (!this.yAxis.cursorTooltipEnabled || this.yAxis.tooltip.disabled))) {\r\n            this.updateLineY(this.point);\r\n        }\r\n        this.updateSelection();\r\n        _super.prototype.triggerMoveReal.call(this, point, force);\r\n    };\r\n    /**\r\n     * (Re)draws the horizontal (circular) cursor's line.\r\n     *\r\n     * @param point New target point\r\n     */\r\n    RadarCursor.prototype.updateLineX = function (point) {\r\n        var radius = this.pixelRadius;\r\n        var startAngle = this.startAngle;\r\n        var endAngle = this.endAngle;\r\n        var innerRadius = this.pixelInnerRadius;\r\n        if (radius > 0 && $type.isNumber(startAngle) && $type.isNumber(endAngle) && $type.isNumber(innerRadius)) {\r\n            var angle = $math.fitAngleToRange($math.getAngle(point), startAngle, endAngle);\r\n            var path = void 0;\r\n            if (this.lineX && this.lineX.visible) {\r\n                this.lineX.moveTo({ x: 0, y: 0 });\r\n                // fill\r\n                if (this.xAxis && this.fullWidthLineX) {\r\n                    var startPoint = this.xAxis.currentItemStartPoint;\r\n                    var endPoint = this.xAxis.currentItemEndPoint;\r\n                    if (startPoint && endPoint) {\r\n                        var fillStartAngle = $math.fitAngleToRange($math.getAngle(startPoint), startAngle, endAngle);\r\n                        var fillEndAngle = $math.fitAngleToRange($math.getAngle(endPoint), startAngle, endAngle);\r\n                        var arc = fillEndAngle - fillStartAngle;\r\n                        // clockwise\r\n                        // this is needed, normalizeAngle doesn't solve it\r\n                        if (startAngle < endAngle) {\r\n                            if (arc < 0) {\r\n                                arc += 360;\r\n                            }\r\n                        }\r\n                        // ccw\r\n                        else {\r\n                            if (arc > 0) {\r\n                                arc -= 360;\r\n                            }\r\n                        }\r\n                        angle -= arc / 2;\r\n                        path = $path.moveTo({ x: innerRadius * $math.cos(angle), y: innerRadius * $math.sin(angle) })\r\n                            + $path.lineTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) })\r\n                            + $path.arcTo(angle, arc, radius)\r\n                            + $path.lineTo({ x: innerRadius * $math.cos(angle + arc), y: innerRadius * $math.sin(angle + arc) })\r\n                            + $path.arcTo(angle + arc, -arc, innerRadius);\r\n                    }\r\n                }\r\n                // line\r\n                if (!path) {\r\n                    path = $path.moveTo({ x: innerRadius * $math.cos(angle), y: innerRadius * $math.sin(angle) }) + $path.lineTo({ x: radius * $math.cos(angle), y: radius * $math.sin(angle) });\r\n                }\r\n                this.lineX.path = path;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * (Re)draws the vertical (radial) cursor's line.\r\n     *\r\n     * @param point New target point\r\n     */\r\n    RadarCursor.prototype.updateLineY = function (point) {\r\n        if (this.lineY && this.lineY.visible) {\r\n            var startAngle = this.startAngle;\r\n            var endAngle = this.endAngle;\r\n            var truePixelRadius = this.truePixelRadius;\r\n            var radius = $math.fitToRange($math.getDistance(point), 0, this.truePixelRadius);\r\n            if ($type.isNumber(radius) && $type.isNumber(startAngle)) {\r\n                this.lineY.moveTo({ x: 0, y: 0 });\r\n                var path = void 0;\r\n                var arc = endAngle - startAngle;\r\n                if (this.yAxis && this.fullWidthLineY) {\r\n                    // fill\r\n                    var startPoint = this.yAxis.currentItemStartPoint;\r\n                    var endPoint = this.yAxis.currentItemEndPoint;\r\n                    if (startPoint && endPoint) {\r\n                        var innerRadius = $math.fitToRange($math.getDistance(startPoint), 0, truePixelRadius);\r\n                        radius = $math.fitToRange($math.getDistance(endPoint), 0, truePixelRadius);\r\n                        path = $path.moveTo({ x: radius * $math.cos(startAngle), y: radius * $math.sin(startAngle) }) + $path.arcTo(startAngle, arc, radius);\r\n                        path += $path.moveTo({ x: innerRadius * $math.cos(endAngle), y: innerRadius * $math.sin(endAngle) }) + $path.arcTo(endAngle, -arc, innerRadius);\r\n                    }\r\n                }\r\n                if (!path) {\r\n                    path = $path.moveTo({ x: radius * $math.cos(startAngle), y: radius * $math.sin(startAngle) }) + $path.arcTo(startAngle, endAngle - startAngle, radius);\r\n                }\r\n                this.lineY.path = path;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Updates selection dimensions on size change.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    RadarCursor.prototype.updateSelection = function () {\r\n        if (this._usesSelection) {\r\n            var downPoint = this.downPoint;\r\n            if (downPoint) {\r\n                var point = this.point;\r\n                var radius = this.pixelRadius;\r\n                var truePixelRadius = this.truePixelRadius;\r\n                var innerRadius = this.pixelInnerRadius;\r\n                var startAngle = Math.min(this.startAngle, this.endAngle);\r\n                var endAngle = Math.max(this.startAngle, this.endAngle);\r\n                var downAngle = $math.fitAngleToRange($math.getAngle(downPoint), startAngle, endAngle);\r\n                var angle = $math.fitAngleToRange($math.getAngle(point), startAngle, endAngle);\r\n                var downRadius = $math.getDistance(downPoint);\r\n                if (downRadius < truePixelRadius) {\r\n                    var currentRadius = $math.fitToRange($math.getDistance(point), 0, truePixelRadius);\r\n                    this._prevAngle = angle;\r\n                    var path = $path.moveTo({ x: 0, y: 0 });\r\n                    var downSin = $math.sin(downAngle);\r\n                    var downCos = $math.cos(downAngle);\r\n                    var sin = $math.sin(angle);\r\n                    var cos = $math.cos(angle);\r\n                    var behavior = this.behavior;\r\n                    if (behavior == \"zoomX\" || behavior == \"selectX\") {\r\n                        path += $path.lineTo({ x: radius * downCos, y: radius * downSin }) + $path.arcTo(downAngle, angle - downAngle, radius) + $path.lineTo({ x: innerRadius * cos, y: innerRadius * sin }) + $path.arcTo(angle, downAngle - angle, innerRadius);\r\n                    }\r\n                    else if (behavior == \"zoomY\" || behavior == \"selectY\") {\r\n                        path = $path.moveTo({ x: currentRadius * $math.cos(startAngle), y: currentRadius * $math.sin(startAngle) }) + $path.arcTo(startAngle, endAngle - startAngle, currentRadius) + $path.lineTo({ x: downRadius * $math.cos(endAngle), y: downRadius * $math.sin(endAngle) }) + $path.arcTo(endAngle, startAngle - endAngle, downRadius) + $path.closePath();\r\n                    }\r\n                    else if (behavior == \"zoomXY\") {\r\n                        path = $path.moveTo({ x: currentRadius * $math.cos(downAngle), y: currentRadius * $math.sin(downAngle) }) + $path.arcTo(downAngle, angle - downAngle, currentRadius) + $path.lineTo({ x: downRadius * $math.cos(angle), y: downRadius * $math.sin(angle) }) + $path.arcTo(angle, downAngle - angle, downRadius) + $path.closePath();\r\n                    }\r\n                    this.selection.path = path;\r\n                }\r\n                this.selection.moveTo({ x: 0, y: 0 });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Updates cursors current positions.\r\n     */\r\n    RadarCursor.prototype.getPositions = function () {\r\n        // positions are used by axes or series\r\n        var chart = this.chart;\r\n        if (chart) {\r\n            var innerRadius = this.pixelInnerRadius;\r\n            var radius = this.truePixelRadius - innerRadius;\r\n            var startAngle = this.startAngle;\r\n            var endAngle = this.endAngle;\r\n            var angle = $math.fitAngleToRange($math.getAngle(this.point), startAngle, endAngle);\r\n            var xPosition = ((angle - startAngle) / (endAngle - startAngle));\r\n            this.xPosition = xPosition;\r\n            this.yPosition = $math.fitToRange(($math.getDistance(this.point) - innerRadius) / radius, 0, 1);\r\n        }\r\n    };\r\n    /**\r\n     * Overriding inherited method, so that nothing happens when it's triggered.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    RadarCursor.prototype.updatePoint = function (point) {\r\n    };\r\n    /**\r\n     * Updates Cursor's position when axis tooltip changes horizontal position.\r\n     *\r\n     * @param event Axis event\r\n     */\r\n    RadarCursor.prototype.handleXTooltipPosition = function (event) {\r\n        if (this.xAxis.cursorTooltipEnabled) {\r\n            var tooltip = this.xAxis.tooltip;\r\n            this.updateLineX($utils.svgPointToSprite({ x: tooltip.pixelX, y: tooltip.pixelY }, this));\r\n        }\r\n    };\r\n    /**\r\n     * Updates Cursor's position when axis tooltip changes vertical position.\r\n     *\r\n     * @todo Description\r\n     * @param event Axis event\r\n     */\r\n    RadarCursor.prototype.handleYTooltipPosition = function (event) {\r\n        if (this.yAxis.cursorTooltipEnabled) {\r\n            var tooltip = this.yAxis.tooltip;\r\n            this.updateLineY($utils.svgPointToSprite({ x: tooltip.pixelX, y: tooltip.pixelY }, this));\r\n        }\r\n    };\r\n    /**\r\n     * needs to be overriden\r\n     * @ignore\r\n     */\r\n    RadarCursor.prototype.updateLinePositions = function (point) {\r\n    };\r\n    /**\r\n     * [getRanges description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    RadarCursor.prototype.getRanges = function () {\r\n        var downPoint = this.downPoint;\r\n        if (downPoint) {\r\n            var upPoint = this.upPoint;\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                var radius = this.pixelRadius;\r\n                var startAngle = this.startAngle;\r\n                var endAngle = this.endAngle;\r\n                var downAngle = $math.fitAngleToRange($math.getAngle(downPoint), this.startAngle, this.endAngle);\r\n                var upAngle = $math.fitAngleToRange($math.getAngle(upPoint), this.startAngle, this.endAngle);\r\n                var downRadius = $math.fitToRange($math.getDistance(downPoint), 0, radius);\r\n                var upRadius = $math.fitToRange($math.getDistance(upPoint), 0, radius);\r\n                var startX = 0;\r\n                var endX = 1;\r\n                var startY = 0;\r\n                var endY = 1;\r\n                var behavior = this.behavior;\r\n                if (behavior == \"zoomX\" || behavior == \"selectX\" || behavior == \"zoomXY\" || behavior == \"selectXY\") {\r\n                    var arc = endAngle - startAngle;\r\n                    startX = $math.round((downAngle - startAngle) / arc, 5);\r\n                    endX = $math.round((upAngle - startAngle) / arc, 5);\r\n                }\r\n                if (behavior == \"zoomY\" || behavior == \"selectY\" || behavior == \"zoomXY\" || behavior == \"selectXY\") {\r\n                    startY = $math.round(downRadius / radius, 5);\r\n                    endY = $math.round(upRadius / radius, 5);\r\n                }\r\n                this.xRange = { start: Math.min(startX, endX), end: Math.max(startX, endX) };\r\n                this.yRange = { start: Math.min(startY, endY), end: Math.max(startY, endY) };\r\n                if (this.behavior == \"selectX\" || this.behavior == \"selectY\" || this.behavior == \"selectXY\") {\r\n                    // void\r\n                }\r\n                else {\r\n                    this.selection.hide();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Overriding inherited method, so that nothing happens when `updateSize`\r\n     * is triggered.\r\n     *\r\n     * RadarCursor is quite complicated and needs own sizing logic.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    RadarCursor.prototype.updateSize = function () { };\r\n    Object.defineProperty(RadarCursor.prototype, \"radius\", {\r\n        /**\r\n         * @return Outer radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Outer radius of the cursor's circular line.\r\n         * Absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Outer radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"radius\", value, false, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadarCursor.prototype, \"pixelRadius\", {\r\n        /**\r\n         * Outer radius of the circular line in pixels.\r\n         *\r\n         * @return Outer radius (px)\r\n         * @readonly\r\n         */\r\n        get: function () {\r\n            return $utils.relativeRadiusToValue(this.radius, this.truePixelRadius);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadarCursor.prototype, \"truePixelRadius\", {\r\n        /**\r\n         * [truePixelRadius description]\r\n         *\r\n         * @todo Description\r\n         * @return Outer radius (px)\r\n         * @readonly\r\n         */\r\n        get: function () {\r\n            return $utils.relativeToValue(percent(100), $math.min(this.innerWidth / 2, this.innerHeight / 2));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadarCursor.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Inner radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Inner radius of the cursor's circular line.\r\n         * Absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @param value  Inner radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, false, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadarCursor.prototype, \"pixelInnerRadius\", {\r\n        /**\r\n         * Inner radius of the circular line in pixels.\r\n         *\r\n         * @return Inner radius (px)\r\n         * @readonly\r\n         */\r\n        get: function () {\r\n            var innerRadius = this.innerRadius;\r\n            if (innerRadius instanceof Percent) {\r\n                innerRadius = percent(100 * innerRadius.value * this.chart.innerRadiusModifyer);\r\n            }\r\n            return $utils.relativeRadiusToValue(innerRadius, this.truePixelRadius) || 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    RadarCursor.prototype.fixPoint = function (point) {\r\n        // overriding xy method\r\n        return point;\r\n    };\r\n    return RadarCursor;\r\n}(XYCursor));\r\nexport { RadarCursor };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RadarCursor\"] = RadarCursor;\r\n//# sourceMappingURL=RadarCursor.js.map","/**\r\n * Cursor for XY chart\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Cursor } from \"./Cursor\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { MutableValueDisposer, MultiDisposer } from \"../../core/utils/Disposer\";\r\nimport { ValueAxis } from \"../axes/ValueAxis\";\r\nimport { DateAxis } from \"../axes/DateAxis\";\r\nimport { XYSeries } from \"../series/XYSeries\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { color } from \"../../core/utils/Color\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { getInteraction } from \"../../core/interaction/Interaction\";\r\nimport { MouseCursorStyle } from \"../../core/interaction/Mouse\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A cursor used on [[XYChart]].\r\n *\r\n * @see {@link IXYCursorEvents} for a list of available events\r\n * @see {@link IXYCursorAdapters} for a list of available Adapters\r\n * @todo Add description, examples\r\n */\r\nvar XYCursor = /** @class */ (function (_super) {\r\n    __extends(XYCursor, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function XYCursor() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Vertical cursor line element.\r\n         */\r\n        _this._lineX = new MutableValueDisposer();\r\n        /**\r\n         * Horizontal cursor line element.\r\n         */\r\n        _this._lineY = new MutableValueDisposer();\r\n        /**\r\n         * Horizontal [[Axis]].\r\n         */\r\n        _this._xAxis = new MutableValueDisposer();\r\n        /**\r\n         * Vertical [[Axis]].\r\n         */\r\n        _this._yAxis = new MutableValueDisposer();\r\n        _this._snapToDisposers = [];\r\n        _this.className = \"XYCursor\";\r\n        // Defaults\r\n        _this.behavior = \"zoomX\";\r\n        _this.maxPanOut = 0.1;\r\n        var interfaceColors = new InterfaceColorSet();\r\n        // Create selection element\r\n        var selection = _this.createChild(Sprite);\r\n        selection.shouldClone = false;\r\n        selection.fillOpacity = 0.2;\r\n        selection.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n        selection.isMeasured = false;\r\n        selection.visible = false;\r\n        selection.interactionsEnabled = false;\r\n        _this.selection = selection;\r\n        _this._disposers.push(_this.selection);\r\n        // Create cursor's vertical line\r\n        var lineX = _this.createChild(Sprite);\r\n        lineX.shouldClone = false;\r\n        lineX.stroke = interfaceColors.getFor(\"grid\");\r\n        lineX.fill = color();\r\n        lineX.strokeDasharray = \"3,3\";\r\n        lineX.isMeasured = false;\r\n        lineX.strokeOpacity = 0.4;\r\n        lineX.interactionsEnabled = false;\r\n        lineX.y = 0; // important\r\n        _this.lineX = lineX;\r\n        _this._disposers.push(_this.lineX);\r\n        // Create cursor's horizontal line\r\n        var lineY = _this.createChild(Sprite);\r\n        lineY.shouldClone = false;\r\n        lineY.stroke = interfaceColors.getFor(\"grid\");\r\n        lineY.fill = color();\r\n        lineY.strokeDasharray = \"3,3\";\r\n        lineY.isMeasured = false;\r\n        lineY.strokeOpacity = 0.4;\r\n        lineY.interactionsEnabled = false;\r\n        lineY.x = 0; // important\r\n        _this.lineY = lineY;\r\n        _this._disposers.push(_this.lineY);\r\n        // Add handler for size changes\r\n        _this.events.on(\"sizechanged\", _this.updateSize, _this, false);\r\n        _this._disposers.push(_this._lineX);\r\n        _this._disposers.push(_this._lineY);\r\n        _this._disposers.push(_this._xAxis);\r\n        _this._disposers.push(_this._yAxis);\r\n        _this.mask = _this;\r\n        _this.hideSeriesTooltipsOnSelection = true;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Updates cursor element dimensions on size change.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYCursor.prototype.updateSize = function () {\r\n        if (this.lineX) {\r\n            this.lineX.path = $path.moveTo({ x: 0, y: 0 }) + $path.lineTo({ x: 0, y: this.innerHeight });\r\n        }\r\n        if (this.lineY) {\r\n            this.lineY.path = $path.moveTo({ x: 0, y: 0 }) + $path.lineTo({ x: this.innerWidth, y: 0 });\r\n        }\r\n    };\r\n    /**\r\n     * Updates selection dimensions on size change.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYCursor.prototype.updateSelection = function () {\r\n        if (this._usesSelection) {\r\n            var downPoint = this.downPoint;\r\n            var behavior = this.behavior;\r\n            if (downPoint) {\r\n                var point = this.point;\r\n                if (this.lineX) {\r\n                    point.x = this.lineX.pixelX;\r\n                }\r\n                if (this.lineY) {\r\n                    point.y = this.lineY.pixelY;\r\n                }\r\n                var selection = this.selection;\r\n                var x = Math.min(point.x, downPoint.x);\r\n                var y = Math.min(point.y, downPoint.y);\r\n                var w = $math.round(Math.abs(downPoint.x - point.x), this._positionPrecision);\r\n                var h = $math.round(Math.abs(downPoint.y - point.y), this._positionPrecision);\r\n                switch (behavior) {\r\n                    case \"zoomX\":\r\n                        y = 0;\r\n                        h = this.pixelHeight;\r\n                        break;\r\n                    case \"zoomY\":\r\n                        x = 0;\r\n                        w = this.pixelWidth;\r\n                        break;\r\n                    case \"selectX\":\r\n                        y = 0;\r\n                        h = this.pixelHeight;\r\n                        break;\r\n                    case \"selectY\":\r\n                        x = 0;\r\n                        w = this.pixelWidth;\r\n                        break;\r\n                }\r\n                selection.x = x;\r\n                selection.y = y;\r\n                selection.path = $path.rectangle(w, h);\r\n                selection.validatePosition(); // otherwise Edge shoes some incorrect size rectangle\r\n            }\r\n            else {\r\n                if (this._generalBehavior != \"select\") {\r\n                    this.selection.hide();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYCursor.prototype.fixPoint = function (point) {\r\n        point.x = Math.max(0, point.x);\r\n        point.y = Math.max(0, point.y);\r\n        point.x = Math.min(this.pixelWidth, point.x);\r\n        point.y = Math.min(this.pixelHeight, point.y);\r\n        return point;\r\n    };\r\n    /**\r\n     * Places the cursor at specific point.\r\n     *\r\n     * @param point Point to place cursor at\r\n     */\r\n    XYCursor.prototype.triggerMoveReal = function (point, force) {\r\n        _super.prototype.triggerMoveReal.call(this, point, force);\r\n        var snapToSeries = this.snapToSeries;\r\n        if ((snapToSeries && !this.downPoint)) {\r\n            if (snapToSeries instanceof XYSeries) {\r\n                if (snapToSeries.isHidden) {\r\n                    this.updateLinePositions(point);\r\n                }\r\n            }\r\n            else {\r\n                var allHidden_1 = true;\r\n                $array.each(snapToSeries, function (s) {\r\n                    if (!s.isHidden) {\r\n                        allHidden_1 = false;\r\n                    }\r\n                });\r\n                if (allHidden_1) {\r\n                    this.updateLinePositions(point);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.updateLinePositions(point);\r\n        }\r\n        if (this.downPoint && $math.getDistance(this.downPoint, point) > 3) {\r\n            if (this._generalBehavior == \"pan\") {\r\n                this.getPanningRanges();\r\n                this.dispatch(\"panning\");\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYCursor.prototype.updateLinePositions = function (point) {\r\n        point = this.fixPoint(this.point);\r\n        if (this.lineX && this.lineX.visible && !this.xAxis) {\r\n            this.lineX.x = point.x;\r\n        }\r\n        if (this.lineY && this.lineY.visible && !this.yAxis) {\r\n            this.lineY.y = point.y;\r\n        }\r\n        this.updateSelection();\r\n    };\r\n    XYCursor.prototype.triggerDownReal = function (point) {\r\n        if (this.visible && !this.isHiding) {\r\n            if (this._generalBehavior == \"select\") {\r\n                this.selection.parent = this.parent;\r\n            }\r\n            if (this.fitsToBounds(point)) {\r\n                this.downPoint = { x: point.x, y: point.y };\r\n                this.updatePoint(point);\r\n                //this.updateLinePositions(point); // otherwise lines won't be in correct position and touch won't work fine\r\n                this.point.x = this.downPoint.x;\r\n                this.point.y = this.downPoint.y;\r\n                var selection = this.selection;\r\n                var selectionX = this.downPoint.x;\r\n                var selectionY = this.downPoint.y;\r\n                if (this._usesSelection) {\r\n                    selection.x = selectionX;\r\n                    selection.y = selectionY;\r\n                    selection.path = \"\";\r\n                    selection.show();\r\n                }\r\n                _super.prototype.triggerDownReal.call(this, point);\r\n            }\r\n            else {\r\n                this.downPoint = undefined;\r\n            }\r\n        }\r\n        else {\r\n            this.downPoint = undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Updates the coordinates of where pointer down event occurred\r\n     * (was pressed).\r\n     */\r\n    XYCursor.prototype.updatePoint = function (point) {\r\n        if (this.lineX) {\r\n            point.x = this.lineX.pixelX;\r\n        }\r\n        if (this.lineY) {\r\n            point.y = this.lineY.pixelY;\r\n        }\r\n    };\r\n    /**\r\n     * Handle action when cursor is released, which should perform an operation\r\n     * based on its `behavior`, like zoom.\r\n     *\r\n     * @param  point  Release point\r\n     */\r\n    XYCursor.prototype.triggerUpReal = function (point) {\r\n        if (this.hasMoved()) {\r\n            if (this.downPoint) {\r\n                this.upPoint = point;\r\n                this.updatePoint(this.upPoint);\r\n                if (this._generalBehavior != \"pan\") {\r\n                    this.getRanges();\r\n                }\r\n                if (this._generalBehavior != \"select\") {\r\n                    this.selection.hide();\r\n                }\r\n                _super.prototype.triggerUpReal.call(this, point);\r\n            }\r\n        }\r\n        else {\r\n            if (this._generalBehavior != \"select\") {\r\n                this.selection.hide(0);\r\n            }\r\n            else {\r\n                this.xRange = undefined;\r\n                this.yRange = undefined;\r\n                this.dispatchImmediately(\"selectended\");\r\n            }\r\n            // reset cursor style, just in case\r\n            if (this._generalBehavior == \"pan\") {\r\n                var interaction = getInteraction();\r\n                interaction.setGlobalStyle(MouseCursorStyle.default);\r\n            }\r\n            this.dispatchImmediately(\"behaviorcanceled\");\r\n        }\r\n        this.downPoint = undefined;\r\n        this.dispatch(\"cursorpositionchanged\");\r\n    };\r\n    /**\r\n     * Calculates if the cursor has moved enough based on its `behavior`.\r\n     *\r\n     * @return Moved?\r\n     */\r\n    XYCursor.prototype.hasMoved = function () {\r\n        var distance;\r\n        if (this.behavior == \"zoomX\" || this.behavior == \"panX\") {\r\n            distance = $math.getHorizontalDistance(this._upPointOrig, this._downPointOrig);\r\n        }\r\n        else if (this.behavior == \"zoomY\" || this.behavior == \"panY\") {\r\n            distance = $math.getVerticalDistance(this._upPointOrig, this._downPointOrig);\r\n        }\r\n        else {\r\n            distance = $math.getDistance(this._upPointOrig, this._downPointOrig);\r\n        }\r\n        return distance > getInteraction().getHitOption(this.interactions, \"hitTolerance\");\r\n    };\r\n    /**\r\n     * [getRanges description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    XYCursor.prototype.getPanningRanges = function () {\r\n        var startX = $math.round(this.downPoint.x / this.innerWidth, 5);\r\n        var startY = 1 - $math.round(this.downPoint.y / this.innerHeight, 5);\r\n        var currentX = $math.round(this.point.x / this.innerWidth, 5);\r\n        var currentY = 1 - $math.round(this.point.y / this.innerHeight, 5);\r\n        var deltaX = startX - currentX;\r\n        var deltaY = startY - currentY;\r\n        this.xRange = { start: deltaX, end: 1 + deltaX };\r\n        this.yRange = { start: deltaY, end: 1 + deltaY };\r\n        if (this.behavior == \"panX\") {\r\n            this.yRange.start = 0;\r\n            this.yRange.end = 1;\r\n        }\r\n        if (this.behavior == \"panY\") {\r\n            this.xRange.start = 0;\r\n            this.xRange.end = 1;\r\n        }\r\n    };\r\n    /**\r\n     * [getRanges description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    XYCursor.prototype.getRanges = function () {\r\n        if (this.lineX) {\r\n            this.upPoint.x = this.lineX.pixelX;\r\n        }\r\n        if (this.lineY) {\r\n            this.upPoint.y = this.lineY.pixelY;\r\n        }\r\n        // @todo Is this needed?\r\n        $utils.used(this.selection);\r\n        var startX = $math.round(this.downPoint.x / this.innerWidth, 5);\r\n        var endX = $math.round((this.upPoint.x) / this.innerWidth, 5);\r\n        var startY = 1 - $math.round(this.downPoint.y / this.innerHeight, 5);\r\n        var endY = 1 - $math.round((this.upPoint.y) / this.innerHeight, 5);\r\n        this.xRange = { start: $math.min(startX, endX), end: $math.max(startX, endX) };\r\n        this.yRange = { start: $math.min(startY, endY), end: $math.max(startY, endY) };\r\n    };\r\n    Object.defineProperty(XYCursor.prototype, \"behavior\", {\r\n        /**\r\n         * Behavior\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"behavior\");\r\n        },\r\n        /**\r\n         * Cursor's behavior when it's moved with pointer down:\r\n         *\r\n         * * `\"zoomX\"` - zooms horizontally.\r\n         * * `\"zoomY\"` - zooms vertically.\r\n         * * `\"zoomXY\"` - zooms both horizontally and vertically.\r\n         * * `\"selectX\"` - selects a range horizontally.\r\n         * * `\"selectY\"` - selects a range vertically.\r\n         * * `\"selectXY\"` - selects a range both horizontally and vertically.\r\n         * * `\"panX\"` - moves (pans) current selection horizontally.\r\n         * * `\"panY\"` - moves (pans) current selection vertically.\r\n         * * `\"panXY\"` - moves (pans) current selection both horizontally and vertically.\r\n         * * `\"none\"` - does nothing with pointer down.\r\n         *\r\n         * E.g. \"zoomXY\" will mean that pressing a mouse (or touching) over plot area\r\n         * and dragging it will start zooming the chart.\r\n         *\r\n         * NOTE: `\"zoomXY\"` acts differently when used on a `DateAxis`.\r\n         * See [this note](https://www.amcharts.com/docs/v4/concepts/chart-cursor/#zoomXY_behavior_and_DateAxis).\r\n         *\r\n         * @param value Bheavior\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"behavior\", value, true);\r\n            this._usesSelection = false;\r\n            if (value.indexOf(\"zoom\") != -1) {\r\n                this._generalBehavior = \"zoom\";\r\n                this._usesSelection = true;\r\n            }\r\n            if (value.indexOf(\"select\") != -1) {\r\n                this._generalBehavior = \"select\";\r\n                this._usesSelection = true;\r\n            }\r\n            if (value.indexOf(\"pan\") != -1) {\r\n                this._generalBehavior = \"pan\";\r\n                this._usesSelection = false;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Determines whether Cursor should prevent default action on move.\r\n     *\r\n     * If cursor's behavior is \"none\", it should not obstruct the page scrolling.\r\n     *\r\n     * @return Prevent default?\r\n     */\r\n    XYCursor.prototype.shouldPreventGestures = function (touch) {\r\n        return (!this.interactions.isTouchProtected || !touch) && this.behavior != \"none\";\r\n    };\r\n    Object.defineProperty(XYCursor.prototype, \"fullWidthLineX\", {\r\n        /**\r\n         * @return Full width?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fullWidthLineX\");\r\n        },\r\n        /**\r\n         * Cursor's horizontal line is expanded to take full width of the related\r\n         * Axis' cell/category.\r\n         *\r\n         * NOTE: this setting will work properly if `xAxis` is set and only in case\r\n         * `xAxis` is [[CategoryAxis]] or [[DateAxis]].\r\n         *\r\n         * @param value Full width?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"fullWidthLineX\", value);\r\n            if (!value) {\r\n                this.updateSize();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"fullWidthLineY\", {\r\n        /**\r\n         * @return Full width?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"fullWidthLineY\");\r\n        },\r\n        /**\r\n         * Cursor's vertical line is expanded to take full width of the related\r\n         * Axis' cell/category.\r\n         *\r\n         * NOTE: this setting will work properly if `yAxis` is set and only in case\r\n         * `yAxis` is [[CategoryAxis]] or [[DateAxis]].\r\n         *\r\n         * @param value Full width?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"fullWidthLineY\", value);\r\n            if (!value) {\r\n                this.updateSize();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"hideSeriesTooltipsOnSelection\", {\r\n        /**\r\n         * @return hide tooltip?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"hideSeriesTooltipsOnSelection\");\r\n        },\r\n        /**\r\n         * If set to `true` this will hide series tooltips when selecting with cursor.\r\n         *\r\n         * @since 4.5.15\r\n         * @param  value  hide tooltips?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"hideSeriesTooltipsOnSelection\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"maxTooltipDistance\", {\r\n        /**\r\n         * @return Distance\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxTooltipDistance\");\r\n        },\r\n        /**\r\n         * If set to a numeric value, cursor will display closest series' tooltips\r\n         * plus tooltips from series that are closer to than `maxTooltipDistance` to\r\n         * it.\r\n         *\r\n         * Set it to `-1` to always force one tooltip, even if there are multiple\r\n         * data items in exactly same place.\r\n         *\r\n         * @since 4.7.18\r\n         * @param  value  Distance\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"maxTooltipDistance\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"maxPanOut\", {\r\n        /**\r\n         * @return Full width?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxPanOut\");\r\n        },\r\n        /**\r\n         * If cursor behavior is panX or panY, we allow to pan plot out of it's max bounds for a better user experience.\r\n         * This setting specifies relative value by how much we can pan out the plot\r\n         *\r\n         * @param value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"maxPanOut\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"xAxis\", {\r\n        /**\r\n         * @return X axis\r\n         */\r\n        get: function () {\r\n            return this._xAxis.get();\r\n        },\r\n        /**\r\n         * A reference to X [[Axis]].\r\n         *\r\n         * An XY cursor can live without `xAxis` set. You set xAxis for cursor when\r\n         * you have axis tooltip enabled and you want cursor line to be at the same\r\n         * position as tooltip.\r\n         *\r\n         * This works with [[CategoryAxis]] and [[DateAxis]] but not with\r\n         * [[ValueAxis]].\r\n         *\r\n         * @todo Description (review)\r\n         * @param axis X axis\r\n         */\r\n        set: function (axis) {\r\n            var _this = this;\r\n            if (this._xAxis.get() != axis) {\r\n                this._xAxis.set(axis, new MultiDisposer([\r\n                    axis.tooltip.events.on(\"positionchanged\", this.handleXTooltipPosition, this, false),\r\n                    axis.events.on(\"rangechangestarted\", function (event) {\r\n                        _this.hide(0);\r\n                        _this.preventShow = true;\r\n                    }, undefined, false),\r\n                    axis.events.on(\"rangechangeended\", function (event) {\r\n                        _this.preventShow = false;\r\n                        _this.hide(0);\r\n                        _this.dispatch(\"cursorpositionchanged\");\r\n                    }, undefined, false)\r\n                ]));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"yAxis\", {\r\n        /**\r\n         * @return Y Axis\r\n         */\r\n        get: function () {\r\n            return this._yAxis.get();\r\n        },\r\n        /**\r\n         * A reference to Y [[Axis]].\r\n         *\r\n         * An XY cursor can live without `yAxis` set. You set xAxis for cursor when\r\n         * you have axis tooltip enabled and you want cursor line to be at the same\r\n         * position as tooltip.\r\n         *\r\n         * This works with [[CategoryAxis]] and [[DateAxis]] but not with\r\n         * [[ValueAxis]].\r\n         *\r\n         * @todo Description (review)\r\n         * @param axis Y axis\r\n         */\r\n        set: function (axis) {\r\n            var _this = this;\r\n            if (this._yAxis.get() != axis) {\r\n                this._yAxis.set(axis, new MultiDisposer([\r\n                    axis.tooltip.events.on(\"positionchanged\", this.handleYTooltipPosition, this, false),\r\n                    axis.events.on(\"rangechangestarted\", function (event) {\r\n                        _this.hide(0);\r\n                        _this.__disabled = true;\r\n                    }, undefined, false),\r\n                    axis.events.on(\"rangechangeended\", function (event) {\r\n                        _this.__disabled = false;\r\n                        _this.hide(0);\r\n                        _this.dispatch(\"cursorpositionchanged\");\r\n                    }, undefined, false)\r\n                ]));\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates Cursor's position when axis tooltip changes position.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Original Axis event\r\n     */\r\n    XYCursor.prototype.handleXTooltipPosition = function (event) {\r\n        var tooltip = this.xAxis.tooltip;\r\n        var point = $utils.svgPointToSprite({ x: tooltip.pixelX, y: tooltip.pixelY }, this);\r\n        var x = point.x;\r\n        point.y = 1;\r\n        if (this.lineX) {\r\n            this.lineX.x = x;\r\n            if (!this.fitsToBounds(point)) {\r\n                this.hide();\r\n            }\r\n        }\r\n        if (this.xAxis && this.fullWidthLineX) {\r\n            var startPoint = this.xAxis.currentItemStartPoint;\r\n            var endPoint = this.xAxis.currentItemEndPoint;\r\n            if (startPoint && endPoint) {\r\n                this.lineX.x = x;\r\n                var width = endPoint.x - startPoint.x;\r\n                this.lineX.path = $path.rectangle(width, this.innerHeight, -width / 2);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Updates Cursor's position when Y axis changes position or scale.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Original Axis event\r\n     */\r\n    XYCursor.prototype.handleYTooltipPosition = function (event) {\r\n        var tooltip = this.yAxis.tooltip;\r\n        var point = $utils.svgPointToSprite({ x: tooltip.pixelX, y: tooltip.pixelY }, this);\r\n        var y = point.y;\r\n        point.x = 1;\r\n        if (this.lineY) {\r\n            this.lineY.y = y;\r\n            if (!this.fitsToBounds(point)) {\r\n                this.hide();\r\n            }\r\n        }\r\n        if (this.yAxis && this.fullWidthLineY) {\r\n            var startPoint = this.yAxis.currentItemStartPoint;\r\n            var endPoint = this.yAxis.currentItemEndPoint;\r\n            if (startPoint && endPoint) {\r\n                this.lineY.y = y;\r\n                var height = endPoint.y - startPoint.y;\r\n                this.lineY.path = $path.rectangle(this.innerWidth, height, 0, -height / 2);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(XYCursor.prototype, \"lineX\", {\r\n        /**\r\n         * @return Line element\r\n         */\r\n        get: function () {\r\n            return this._lineX.get();\r\n        },\r\n        /**\r\n         * A Line element to use for X axis.\r\n         *\r\n         * @param lineX Line\r\n         */\r\n        set: function (lineX) {\r\n            if (lineX) {\r\n                lineX.setElement(this.paper.add(\"path\"));\r\n                this._lineX.set(lineX, lineX.events.on(\"positionchanged\", this.updateSelection, this, false));\r\n                lineX.interactionsEnabled = false;\r\n                lineX.parent = this;\r\n            }\r\n            else {\r\n                this._lineX.reset();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"lineY\", {\r\n        /**\r\n         * @return Line element\r\n         */\r\n        get: function () {\r\n            return this._lineY.get();\r\n        },\r\n        /**\r\n         * A Line element to use Y axis.\r\n         *\r\n         * @param lineY Line\r\n         */\r\n        set: function (lineY) {\r\n            if (lineY) {\r\n                lineY.setElement(this.paper.add(\"path\"));\r\n                this._lineY.set(lineY, lineY.events.on(\"positionchanged\", this.updateSelection, this, false));\r\n                lineY.parent = this;\r\n                lineY.interactionsEnabled = false;\r\n            }\r\n            else {\r\n                this._lineY.reset();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYCursor.prototype, \"selection\", {\r\n        /**\r\n         * @return Selection rectangle\r\n         */\r\n        get: function () {\r\n            return this._selection;\r\n        },\r\n        /**\r\n         * A selection element ([[Sprite]]).\r\n         *\r\n         * @param selection Selection rectangle\r\n         */\r\n        set: function (selection) {\r\n            this._selection = selection;\r\n            if (selection) {\r\n                selection.element = this.paper.add(\"path\");\r\n                selection.parent = this;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * Looks if `xAxis` and `yAxis` is set via ID in JSON config, and replaces\r\n     * with real references.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    XYCursor.prototype.processConfig = function (config) {\r\n        var _this = this;\r\n        if (config) {\r\n            // Set up axes\r\n            if ($type.hasValue(config.xAxis) && $type.isString(config.xAxis)) {\r\n                if (this.map.hasKey(config.xAxis)) {\r\n                    config.xAxis = this.map.getKey(config.xAxis);\r\n                }\r\n                else {\r\n                    this.processingErrors.push(\"[XYCursor] No axis with id \\\"\" + config.xAxis + \"\\\" found for `xAxis`\");\r\n                    delete config.xAxis;\r\n                }\r\n            }\r\n            if ($type.hasValue(config.yAxis) && $type.isString(config.yAxis)) {\r\n                if (this.map.hasKey(config.yAxis)) {\r\n                    config.yAxis = this.map.getKey(config.yAxis);\r\n                }\r\n                else {\r\n                    this.processingErrors.push(\"[XYCursor] No axis with id \\\"\" + config.yAxis + \"\\\" found for `yAxis`\");\r\n                    delete config.yAxis;\r\n                }\r\n            }\r\n            if ($type.hasValue(config.snapToSeries)) {\r\n                var snapTo_1 = $type.isArray(config.snapToSeries) ? config.snapToSeries : [config.snapToSeries];\r\n                var snapError_1 = false;\r\n                $array.each(snapTo_1, function (snap, index) {\r\n                    if ($type.isString(snap)) {\r\n                        if (_this.map.hasKey(snap)) {\r\n                            snapTo_1[index] = _this.map.getKey(snap);\r\n                        }\r\n                        else {\r\n                            _this.processingErrors.push(\"[XYCursor] No series with id \\\"\" + snap + \"\\\" found for `series`\");\r\n                            snapError_1 = true;\r\n                        }\r\n                    }\r\n                });\r\n                if (snapError_1) {\r\n                    delete config.snapToSeries;\r\n                }\r\n                else {\r\n                    config.snapToSeries = snapTo_1;\r\n                }\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    Object.defineProperty(XYCursor.prototype, \"snapToSeries\", {\r\n        /**\r\n         * @return {XYSeries | XYSeries[]}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"snapToSeries\");\r\n        },\r\n        /**\r\n         * Specifies to which series cursor lines should be snapped.\r\n         *\r\n         * Can be a single series instance or an array of series.\r\n         *\r\n         * @param {XYSeries | XYSeries[]}\r\n         */\r\n        set: function (series) {\r\n            var _this = this;\r\n            if (this.setPropertyValue(\"snapToSeries\", series)) {\r\n                if (series instanceof XYSeries) {\r\n                    series = [series];\r\n                }\r\n                if (this._snapToDisposers) {\r\n                    $array.each(this._snapToDisposers, function (disposer) {\r\n                        disposer.dispose();\r\n                    });\r\n                }\r\n                this._snapToDisposers = [];\r\n                if (series) {\r\n                    $array.each(series, function (s) {\r\n                        _this._snapToDisposers.push(s.events.on(\"tooltipshownat\", function () { _this.handleSnap(s); }, undefined, false));\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * [handleSnap description]\r\n     *\r\n     * @ignore\r\n     * @todo Description\r\n     */\r\n    XYCursor.prototype.handleSnap = function (series) {\r\n        if (!this.downPoint) {\r\n            var x = series.getTooltipX() + series.xAxis.pixelX;\r\n            var y = series.getTooltipY() + series.yAxis.pixelY;\r\n            if (this.xAxis) {\r\n                if (this.xAxis.renderer.opposite) {\r\n                    y -= this.pixelHeight;\r\n                }\r\n            }\r\n            this.point = { x: x, y: y };\r\n            this.getPositions();\r\n            var xx = x;\r\n            var yy = y;\r\n            x -= this.pixelWidth;\r\n            if (this.yAxis) {\r\n                if (this.yAxis.renderer.opposite) {\r\n                    x += this.pixelWidth;\r\n                }\r\n            }\r\n            var tooltip = series.tooltip;\r\n            var duration = tooltip.animationDuration;\r\n            var easing = tooltip.animationEasing;\r\n            var xAxis = series.xAxis;\r\n            var yAxis = series.yAxis;\r\n            if (xAxis instanceof ValueAxis && !(xAxis instanceof DateAxis) && yAxis instanceof ValueAxis && !(yAxis instanceof DateAxis)) {\r\n                series.yAxis.showTooltipAtPosition(this.yPosition);\r\n                series.xAxis.showTooltipAtPosition(this.xPosition);\r\n            }\r\n            else {\r\n                if (series.baseAxis == series.xAxis) {\r\n                    series.yAxis.showTooltipAtPosition(this.yPosition);\r\n                }\r\n                if (series.baseAxis == series.yAxis) {\r\n                    series.xAxis.showTooltipAtPosition(this.xPosition);\r\n                }\r\n            }\r\n            this.lineX.animate([{ property: \"y\", to: y }], duration, easing);\r\n            this.lineY.animate([{ property: \"x\", to: x }], duration, easing);\r\n            if (!this.xAxis) {\r\n                this.lineX.animate([{ property: \"x\", to: xx }], duration, easing);\r\n            }\r\n            if (!this.yAxis) {\r\n                this.lineY.animate([{ property: \"y\", to: yy }], duration, easing);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Destroys this object and all related data.\r\n     */\r\n    XYCursor.prototype.dispose = function () {\r\n        this.hide(0);\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return XYCursor;\r\n}(Cursor));\r\nexport { XYCursor };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"XYCursor\"] = XYCursor;\r\n//# sourceMappingURL=XYCursor.js.map","/**\r\n * Module that defines everything related to building Candlesticks.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Column } from \"./Column\";\r\nimport { Line } from \"../../core/elements/Line\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to creates Candlesticks.\r\n *\r\n * @see {@link ICandlestickEvents} for a list of available events\r\n * @see {@link ICandlestickAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar Candlestick = /** @class */ (function (_super) {\r\n    __extends(Candlestick, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Candlestick() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Candlestick\";\r\n        _this.layout = \"none\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Candlestick.prototype.createAssets = function () {\r\n        _super.prototype.createAssets.call(this);\r\n        this.lowLine = this.createChild(Line);\r\n        this.lowLine.shouldClone = false;\r\n        this.highLine = this.createChild(Line);\r\n        this.highLine.shouldClone = false;\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[Candlestick]].\r\n     *\r\n     * @param source Source Candlestick\r\n     */\r\n    Candlestick.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (this.lowLine) {\r\n            this.lowLine.copyFrom(source.lowLine);\r\n        }\r\n        if (this.highLine) {\r\n            this.highLine.copyFrom(source.highLine);\r\n        }\r\n    };\r\n    return Candlestick;\r\n}(Column));\r\nexport { Candlestick };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Candlestick\"] = Candlestick;\r\n//# sourceMappingURL=Candlestick.js.map","/**\r\n * ChordLink module\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { FlowDiagramLink } from \"./FlowDiagramLink\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { QuadraticCurve } from \"../../core/elements/QuadraticCurve\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * This class creates a link (waved color-filled line) between two nodes in a\r\n * Chord Diagram.\r\n *\r\n * @see {@link IChordLinkEvents} for a list of available events\r\n * @see {@link IChordLinkAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar ChordLink = /** @class */ (function (_super) {\r\n    __extends(ChordLink, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ChordLink() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ChordLink\";\r\n        _this.middleLine = _this.createChild(QuadraticCurve);\r\n        _this.middleLine.shouldClone = false;\r\n        _this.middleLine.strokeOpacity = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * (Re)validates (redraws) the link.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ChordLink.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        if (!this.isTemplate) {\r\n            var startAngle = this.startAngle;\r\n            var endAngle = this.endAngle;\r\n            var arc = this.arc;\r\n            var radius = this.radius;\r\n            var fromNode = this.dataItem.fromNode;\r\n            var toNode = this.dataItem.toNode;\r\n            var fromX = 0;\r\n            var fromY = 0;\r\n            if (fromNode) {\r\n                fromX = fromNode.pixelX + fromNode.dx;\r\n                fromY = fromNode.pixelY + fromNode.dy;\r\n            }\r\n            var toX = 0;\r\n            var toY = 0;\r\n            if (toNode) {\r\n                toX = toNode.pixelX + toNode.dx;\r\n                toY = toNode.pixelY + toNode.dy;\r\n            }\r\n            if (radius > 0) {\r\n                var x1 = radius * $math.cos(startAngle) + fromX;\r\n                var y1 = radius * $math.sin(startAngle) + fromY;\r\n                var x2 = radius * $math.cos(endAngle) + toX;\r\n                var y2 = radius * $math.sin(endAngle) + toY;\r\n                //let cpAngle = startAngle + arc + (endAngle - startAngle - arc) / 2;\r\n                //let arcWidth = $math.getDistance({x:x1, y:y1}, {x:x4, y:y4});\r\n                //let cpx = (arcWidth) * $math.cos(cpAngle);\r\n                //let cpy = (arcWidth) * $math.sin(cpAngle);\r\n                var cp = { x: 0, y: 0 };\r\n                var path = $path.moveTo({ x: x1, y: y1 });\r\n                path += $path.arcTo(startAngle, arc, radius);\r\n                path += $path.quadraticCurveTo({ x: x2, y: y2 }, cp);\r\n                path += $path.arcTo(endAngle, arc, radius);\r\n                path += $path.quadraticCurveTo({ x: x1, y: y1 }, cp);\r\n                if (arc > 0) {\r\n                    this.link.path = path;\r\n                }\r\n                else {\r\n                    this.link.path = \"\";\r\n                }\r\n                if (this.maskBullets) {\r\n                    this.bulletsMask.path = path;\r\n                    this.bulletsContainer.mask = this.bulletsMask;\r\n                }\r\n                var mAngle1 = startAngle + arc / 2;\r\n                var mAngle2 = endAngle + arc / 2;\r\n                var middleLine = this.middleLine;\r\n                middleLine.x1 = radius * $math.cos(mAngle1) + fromX;\r\n                middleLine.y1 = radius * $math.sin(mAngle1) + fromY;\r\n                middleLine.x2 = radius * $math.cos(mAngle2) + toX;\r\n                middleLine.y2 = radius * $math.sin(mAngle2) + toY;\r\n                middleLine.cpx = 0;\r\n                middleLine.cpy = 0;\r\n                middleLine.stroke = this.fill;\r\n                this.positionBullets();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(ChordLink.prototype, \"radius\", {\r\n        /**\r\n         * @return End Y\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * [radius description]\r\n         *\r\n         * @todo Description\r\n         * @param value End Y\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"radius\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ChordLink.prototype, \"arc\", {\r\n        /**\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"arc\");\r\n        },\r\n        /**\r\n         * [arc description]\r\n         *\r\n         * @todo Description\r\n         * @param value [description]\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"arc\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ChordLink;\r\n}(FlowDiagramLink));\r\nexport { ChordLink };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ChordLink\"] = ChordLink;\r\n//# sourceMappingURL=ChordLink.js.map","/**\r\n * ChordNode module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { FlowDiagramNode } from \"./FlowDiagramNode\";\r\nimport { AxisLabelCircular } from \"../axes/AxisLabelCircular\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Slice } from \"../../core/elements/Slice\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { Bullet } from \"../elements/Bullet\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a node in a Chord Diagram.\r\n *\r\n * A Chord node is a block with a value, which represents its size on the\r\n * diagram.\r\n *\r\n * Nodes are connected via [[ChordLink]] elements.\r\n *\r\n * @see {@link IChordNodeEvents} for a list of available events\r\n * @see {@link IChordNodeAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar ChordNode = /** @class */ (function (_super) {\r\n    __extends(ChordNode, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ChordNode() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ChordNode\";\r\n        var label = _this.createChild(AxisLabelCircular);\r\n        label.location = 0.5;\r\n        label.radius = 5;\r\n        label.text = \"{name}\";\r\n        label.zIndex = 1;\r\n        label.shouldClone = false;\r\n        _this.label = label;\r\n        _this.layout = \"none\";\r\n        _this.events.on(\"positionchanged\", _this.updateRotation, _this, false);\r\n        _this.isMeasured = false;\r\n        _this.slice = _this.createChild(Slice);\r\n        _this.slice.isMeasured = false;\r\n        var hiddenState = _this.hiddenState;\r\n        hiddenState.properties.fill = new InterfaceColorSet().getFor(\"disabledBackground\");\r\n        hiddenState.properties.opacity = 0.5;\r\n        hiddenState.properties.visible = true;\r\n        _this.setStateOnChildren = false;\r\n        _this.slice.hiddenState.properties.visible = true;\r\n        _this.adapter.add(\"tooltipX\", function (tooltipX, target) {\r\n            return target.slice.ix * (target.slice.radius - (target.slice.radius - target.slice.pixelInnerRadius) / 2);\r\n        });\r\n        _this.adapter.add(\"tooltipY\", function (tooltipY, target) {\r\n            return target.slice.iy * (target.slice.radius - (target.slice.radius - target.slice.pixelInnerRadius) / 2);\r\n        });\r\n        return _this;\r\n    }\r\n    /**\r\n     * Invalidates all links, attached to this node.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ChordNode.prototype.invalidateLinks = function () {\r\n        var _this = this;\r\n        _super.prototype.invalidateLinks.call(this);\r\n        var label = this.label;\r\n        var slice = this.slice;\r\n        var chart = this.chart;\r\n        if (chart && slice) {\r\n            var sum = this.total;\r\n            var arc_1 = slice.arc;\r\n            var sliceStartAngle_1 = slice.startAngle;\r\n            this.children.each(function (child) {\r\n                if (child instanceof Bullet) {\r\n                    var locationX = child.locationX;\r\n                    if (!$type.isNumber(locationX)) {\r\n                        locationX = 0.5;\r\n                    }\r\n                    var locationY = child.locationY;\r\n                    if (!$type.isNumber(locationY)) {\r\n                        locationY = 1;\r\n                    }\r\n                    var childAngle = sliceStartAngle_1 + arc_1 * locationX;\r\n                    var childRadius = locationY * slice.radius;\r\n                    child.x = childRadius * $math.cos(childAngle);\r\n                    child.y = childRadius * $math.sin(childAngle);\r\n                }\r\n            });\r\n            var labelAngle = sliceStartAngle_1 + arc_1 * label.location;\r\n            var startAngle = sliceStartAngle_1 + (1 - sum / this.adjustedTotal) * arc_1 * 0.5; // if value of a node is > then sum of the links, add to center link\r\n            if ($type.isNaN(startAngle)) {\r\n                startAngle = sliceStartAngle_1;\r\n            }\r\n            label.fixPosition(labelAngle, slice.radius);\r\n            this.nextAngle = startAngle;\r\n            if (this._outgoingSorted) {\r\n                $iter.each(this._outgoingSorted, function (dataItem) {\r\n                    var link = dataItem.link;\r\n                    link.parent = _this.chart.linksContainer;\r\n                    var value = dataItem.getWorkingValue(\"value\");\r\n                    if ($type.isNumber(value)) {\r\n                        if (chart.nonRibbon) {\r\n                            var percentWidth = link.percentWidth;\r\n                            if (!$type.isNumber(percentWidth)) {\r\n                                percentWidth = 5;\r\n                            }\r\n                            percentWidth = percentWidth / 100;\r\n                            link.startAngle = sliceStartAngle_1 + arc_1 / 2 - arc_1 / 2 * percentWidth;\r\n                            link.arc = arc_1 * percentWidth;\r\n                        }\r\n                        else {\r\n                            link.arc = value * chart.valueAngle;\r\n                            link.startAngle = _this.nextAngle;\r\n                            _this.nextAngle += link.arc;\r\n                        }\r\n                        if (!dataItem.toNode) {\r\n                            link.endAngle = link.startAngle;\r\n                        }\r\n                        link.radius = slice.pixelInnerRadius;\r\n                    }\r\n                    //link.validate();\r\n                });\r\n            }\r\n            if (this._incomingSorted) {\r\n                $iter.each(this._incomingSorted, function (dataItem) {\r\n                    var link = dataItem.link;\r\n                    link.radius = slice.pixelInnerRadius;\r\n                    if (chart.nonRibbon) {\r\n                        var percentWidth = link.percentWidth;\r\n                        if (!$type.isNumber(percentWidth)) {\r\n                            percentWidth = 5;\r\n                        }\r\n                        percentWidth = percentWidth / 100;\r\n                        link.endAngle = sliceStartAngle_1 + arc_1 / 2 - arc_1 / 2 * percentWidth;\r\n                        link.arc = arc_1 * percentWidth;\r\n                    }\r\n                    else {\r\n                        link.endAngle = _this.nextAngle;\r\n                        var value = dataItem.getWorkingValue(\"value\");\r\n                        if ($type.isNumber(value)) {\r\n                            link.arc = value * chart.valueAngle; // yes, this is needed\r\n                            _this.nextAngle += link.arc;\r\n                        }\r\n                    }\r\n                    if (!dataItem.fromNode) {\r\n                        link.startAngle = link.endAngle;\r\n                    }\r\n                    //link.validate();\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     * updates slice start angle so that when we drag a node it would face the center\r\n     */\r\n    ChordNode.prototype.updateRotation = function () {\r\n        var slice = this.slice;\r\n        var mAngle = this.trueStartAngle + slice.arc / 2;\r\n        var radius = slice.radius;\r\n        var tx = radius * $math.cos(mAngle);\r\n        var ty = radius * $math.sin(mAngle);\r\n        var angle = $math.getAngle({ x: tx + this.pixelX, y: ty + this.pixelY });\r\n        slice.startAngle = this.trueStartAngle + (angle - mAngle);\r\n        this.dx = -this.pixelX;\r\n        this.dy = -this.pixelY;\r\n    };\r\n    /**\r\n     * Copies properties and labels from another [[ChordNode]].\r\n     *\r\n     * @param source  Source node\r\n     */\r\n    ChordNode.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.label.copyFrom(source.label);\r\n        this.slice.copyFrom(source.slice);\r\n    };\r\n    return ChordNode;\r\n}(FlowDiagramNode));\r\nexport { ChordNode };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ChordNode\"] = ChordNode;\r\n//# sourceMappingURL=ChordNode.js.map","/**\r\n * Bullet module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Bullet } from \"./Bullet\";\r\nimport { Circle } from \"../../core/elements/Circle\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a bullet with a textual label.\r\n *\r\n * Uses [[Label]] instance to draw the label, so the label itself is\r\n * configurable.\r\n *\r\n * @see {@link IBulletEvents} for a list of available events\r\n * @see {@link IBulletAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar CircleBullet = /** @class */ (function (_super) {\r\n    __extends(CircleBullet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CircleBullet() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"CircleBullet\";\r\n        var circle = _this.createChild(Circle);\r\n        circle.shouldClone = false;\r\n        circle.radius = 5;\r\n        circle.isMeasured = false;\r\n        _this.circle = circle;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Copies all proprities and related stuff from another instance of\r\n     * [[CircleBullet]].\r\n     *\r\n     * @param source  Source element\r\n     */\r\n    CircleBullet.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.circle.copyFrom(source.circle);\r\n    };\r\n    return CircleBullet;\r\n}(Bullet));\r\nexport { CircleBullet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CircleBullet\"] = CircleBullet;\r\n//# sourceMappingURL=CircleBullet.js.map","/**\r\n * Functionality for drawing simple ClockHands\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../core/Container\";\r\nimport { Circle } from \"../../core/elements/Circle\";\r\nimport { Trapezoid } from \"../../core/elements/Trapezoid\";\r\nimport { MutableValueDisposer, MultiDisposer } from \"../../core/utils/Disposer\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * ClockHand class is capable of drawing a simple pointy shape with optionally\r\n * rounderd corners and an icon.\r\n *\r\n * @see {@link IClockHandEvents} for a list of available events\r\n * @see {@link IClockHandAdapters} for a list of available Adapters\r\n * @todo Improve\r\n * @important\r\n */\r\nvar ClockHand = /** @class */ (function (_super) {\r\n    __extends(ClockHand, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ClockHand() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * An Axis hand is related to.\r\n         */\r\n        _this._axis = new MutableValueDisposer();\r\n        _this.className = \"ClockHand\";\r\n        var interfaceColors = new InterfaceColorSet();\r\n        _this.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n        _this.stroke = _this.fill;\r\n        var pin = new Circle();\r\n        pin.radius = 5;\r\n        _this.pin = pin;\r\n        _this.isMeasured = false;\r\n        _this.startWidth = 5;\r\n        _this.endWidth = 1;\r\n        _this.width = percent(100);\r\n        _this.height = percent(100);\r\n        _this.radius = percent(100);\r\n        _this.innerRadius = percent(0);\r\n        var hand = new Trapezoid();\r\n        _this.hand = hand;\r\n        _this._disposers.push(_this._axis);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Re(validates) the clock hand, effectively redrawing it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ClockHand.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        var hand = this.hand;\r\n        hand.width = this.pixelWidth;\r\n        var h = Math.max(this.startWidth, this.endWidth);\r\n        hand.height = h;\r\n        hand.leftSide = percent(this.startWidth / h * 100);\r\n        hand.rightSide = percent(this.endWidth / h * 100);\r\n        if (this.axis) {\r\n            var renderer = this.axis.renderer;\r\n            var x0 = $utils.relativeRadiusToValue(this.innerRadius, renderer.pixelRadius);\r\n            var x1 = $utils.relativeRadiusToValue(this.radius, renderer.pixelRadius);\r\n            hand.x = x0;\r\n            hand.y = -h / 2;\r\n            hand.width = x1 - x0;\r\n        }\r\n    };\r\n    Object.defineProperty(ClockHand.prototype, \"pin\", {\r\n        /**\r\n         * @return Pin element\r\n         */\r\n        get: function () {\r\n            return this._pin;\r\n        },\r\n        /**\r\n         * A circle element used as hand's base. (pin)\r\n         *\r\n         * @param pin  Pin element\r\n         */\r\n        set: function (pin) {\r\n            if (this._pin) {\r\n                this.removeDispose(this._pin);\r\n            }\r\n            if (pin) {\r\n                this._pin = pin;\r\n                pin.parent = this;\r\n                this._disposers.push(pin);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClockHand.prototype, \"hand\", {\r\n        /**\r\n         * @return Hand element\r\n         */\r\n        get: function () {\r\n            return this._hand;\r\n        },\r\n        /**\r\n         * A trapezoid shape used for hand itself.\r\n         *\r\n         * The shape of the trapezoid is controlled by ClockHand's `startWidth` and\r\n         * `endWidth` properties.\r\n         *\r\n         * Set `endWidth` to 1 (px) to make it pointy.\r\n         *\r\n         * @param hand  Hand element\r\n         */\r\n        set: function (hand) {\r\n            if (this._hand) {\r\n                this.removeDispose(this._hand);\r\n            }\r\n            if (hand) {\r\n                this._hand = hand;\r\n                hand.parent = this;\r\n                this._disposers.push(hand);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClockHand.prototype, \"radius\", {\r\n        /**\r\n         * @return Radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Radius of the hand's outer end. (tip)\r\n         *\r\n         * Absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @default Percent(0)\r\n         * @param value  Radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"radius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClockHand.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Radius of the hand's inner end. (base)\r\n         *\r\n         * Absolute (px) or relative ([[Percent]]).\r\n         *\r\n         * @default Percent(0)\r\n         * @param value  Radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClockHand.prototype, \"startWidth\", {\r\n        /**\r\n         * @return Width (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startWidth\");\r\n        },\r\n        /**\r\n         * Width, in pixels, of the clock hand's inner end. (base)\r\n         *\r\n         * @default 5\r\n         * @param value  Width (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startWidth\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClockHand.prototype, \"endWidth\", {\r\n        /**\r\n         * @return Width (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endWidth\");\r\n        },\r\n        /**\r\n         * Width, in pixels, of the clock hand's outer end. (tip)\r\n         *\r\n         * @default 1\r\n         * @param value  Width (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"endWidth\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClockHand.prototype, \"rotationDirection\", {\r\n        /**\r\n         * @return rotationDirection\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"rotationDirection\");\r\n        },\r\n        /**\r\n         * Rotation direction\r\n         *\r\n         * @default any\r\n         * @param value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"rotationDirection\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Moves clock hand to particular value.\r\n     *\r\n     * If `duration` is set to a number in milliseconds, the hand will move\r\n     * to the new position gracefully, rather than jumping rigth to it.\r\n     *\r\n     * Alternatively, you can also set `value` directly.\r\n     *\r\n     * @param value     New value\r\n     * @param duration  Animation duration (ms)\r\n     * @param easing  Animation easing function\r\n     */\r\n    ClockHand.prototype.showValue = function (value, duration, easing) {\r\n        this._value = value;\r\n        if (value != undefined) {\r\n            if (!$type.isNumber(duration)) {\r\n                duration = 0;\r\n            }\r\n            if (this.axis) {\r\n                var renderer = this.axis.renderer;\r\n                var newAngle = renderer.positionToAngle(this.axis.anyToPosition(value));\r\n                var currentAngle = this.rotation;\r\n                if (this.rotationDirection == \"clockWise\") {\r\n                    if (newAngle < currentAngle) {\r\n                        this.rotation = currentAngle - 360;\r\n                    }\r\n                }\r\n                if (this.rotationDirection == \"counterClockWise\") {\r\n                    if (newAngle > currentAngle) {\r\n                        this.rotation = currentAngle + 360;\r\n                    }\r\n                }\r\n                this.animate({ property: \"rotation\", to: newAngle }, duration, easing);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(ClockHand.prototype, \"currentPosition\", {\r\n        /**\r\n         * Returns hand's relative position on axis\r\n         */\r\n        get: function () {\r\n            if (this.axis) {\r\n                var renderer = this.axis.renderer;\r\n                return renderer.angleToPosition(this.rotation);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClockHand.prototype, \"value\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        /**\r\n         * A current value clock hand is pointing to.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.showValue(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClockHand.prototype, \"axis\", {\r\n        /**\r\n         * @return Axis\r\n         */\r\n        get: function () {\r\n            return this._axis.get();\r\n        },\r\n        /**\r\n         * An Axis clock hand is associated with.\r\n         *\r\n         * Hand's `value` relates to values on the Axis.\r\n         *\r\n         * @param axis  Axis\r\n         */\r\n        set: function (axis) {\r\n            if (this.axis != axis) {\r\n                this._axis.set(axis, new MultiDisposer([\r\n                    axis.events.on(\"datavalidated\", this.updateValue, this, false),\r\n                    axis.events.on(\"datarangechanged\", this.updateValue, this, false),\r\n                    axis.events.on(\"dataitemsvalidated\", this.updateValue, this, false),\r\n                    axis.events.on(\"propertychanged\", this.invalidate, this, false)\r\n                ]));\r\n            }\r\n            if (axis) {\r\n                var chart = axis.chart;\r\n                if (chart) {\r\n                    this.rotation = chart.startAngle;\r\n                }\r\n            }\r\n            this.parent = axis.renderer;\r\n            this.zIndex = 5;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Triggers `value` accessor, so that Hand animates to new position, in case\r\n     * value has changed.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ClockHand.prototype.updateValue = function () {\r\n        this.value = this.value;\r\n    };\r\n    /**\r\n * Processes JSON-based config before it is applied to the object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param config  Config\r\n */\r\n    ClockHand.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Connect clock hands with axes\r\n            if ($type.hasValue(config.axis) && $type.isString(config.axis) && this.map.hasKey(config.axis)) {\r\n                config.axis = this.map.getKey(config.axis);\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    return ClockHand;\r\n}(Container));\r\nexport { ClockHand };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ClockHand\"] = ClockHand;\r\n//# sourceMappingURL=ClockHand.js.map","/**\r\n * Module that defines everything related to building Columns.\r\n * It is a container which has column element which is a RoundedRectangle.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../core/Container\";\r\nimport { RoundedRectangle } from \"../../core/elements/RoundedRectangle\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport * as $math from \"../../core/utils/Math\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to creates Columns.\r\n *\r\n * @see {@link IColumnEvents} for a list of available events\r\n * @see {@link IColumnAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar Column = /** @class */ (function (_super) {\r\n    __extends(Column, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Column() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Column\";\r\n        _this.width = percent(80);\r\n        _this.height = percent(80);\r\n        //this.isMeasured = true; // for correct position of the tooltip\r\n        _this.events.disableType(\"transformed\"); // not to bug parent\r\n        _this.applyOnClones = true;\r\n        _this.strokeOpacity = 1;\r\n        _this.layout = \"none\";\r\n        _this.createAssets();\r\n        // otherwise users will have to set layout themselves if they'll want to align, scale etc children\r\n        _this.events.on(\"childadded\", _this.handleKidAdded, _this, false);\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Column.prototype.handleKidAdded = function () {\r\n        if (this.layout == \"none\") {\r\n            this.layout = \"absolute\";\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Column.prototype.createAssets = function () {\r\n        this.column = this.createChild(RoundedRectangle);\r\n        this.column.shouldClone = false;\r\n        this.column.isMeasured = false;\r\n        this.column.cornerRadius(0, 0, 0, 0);\r\n        this._disposers.push(this.column);\r\n    };\r\n    /**\r\n     * @ignore Exclude from docs\r\n     */\r\n    Column.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        var column = this.column;\r\n        if (column) {\r\n            column.width = $math.min(this.pixelWidth, this.maxWidth);\r\n            column.height = $math.min(this.pixelHeight, this.maxHeight);\r\n            if (column.invalid) {\r\n                column.validate(); // important!\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[Column]].\r\n     *\r\n     * @param source Source Column\r\n     */\r\n    Column.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (this.column) {\r\n            this.column.copyFrom(source.column);\r\n        }\r\n    };\r\n    Object.defineProperty(Column.prototype, \"bbox\", {\r\n        /**\r\n         * Returns bounding box (square) for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        get: function () {\r\n            if (this.definedBBox) {\r\n                return this.definedBBox;\r\n            }\r\n            if (this.column) {\r\n                return { x: 0, y: 0, width: this.column.measuredWidth, height: this.column.measuredHeight };\r\n            }\r\n            else {\r\n                return { x: 0, y: 0, width: $math.min(this.pixelWidth, this.maxWidth), height: $math.min(this.pixelHeight, this.maxHeight) };\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Column;\r\n}(Container));\r\nexport { Column };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Column\"] = Column;\r\n//# sourceMappingURL=Column.js.map","/**\r\n * Module that defines everything related to building 3D Columns.\r\n * It is a container which has column3D element which is a Rectangle3D.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Column } from \"./Column\";\r\nimport { Rectangle3D } from \"../../core/elements/3d/Rectangle3D\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to creates Column3Ds.\r\n *\r\n * @see {@link IColumn3DEvents} for a list of available events\r\n * @see {@link IColumn3DAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar Column3D = /** @class */ (function (_super) {\r\n    __extends(Column3D, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Column3D() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"Column3D\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    Column3D.prototype.createAssets = function () {\r\n        this.column3D = this.createChild(Rectangle3D);\r\n        this.column3D.shouldClone = false;\r\n        this.column3D.strokeOpacity = 0;\r\n        // some dirty hack so that if user access column, it won't get error\r\n        this.column = this.column3D;\r\n    };\r\n    /**\r\n     * @ignore Exclude from docs\r\n     */\r\n    Column3D.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        if (this.column3D) {\r\n            this.column3D.width = this.pixelWidth;\r\n            this.column3D.height = this.pixelHeight;\r\n            if (this.column3D.invalid) {\r\n                this.column3D.validate();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[Column3D]].\r\n     *\r\n     * @param source Source Column3D\r\n     */\r\n    Column3D.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (this.column3D) {\r\n            this.column3D.copyFrom(source.column3D);\r\n        }\r\n    };\r\n    /**\r\n     * Sets actual `fill` property on the SVG element, including applicable color\r\n     * modifiers.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param value  Fill\r\n     */\r\n    Column3D.prototype.setFill = function (value) {\r\n        _super.prototype.setFill.call(this, value);\r\n        this.column.fill = value;\r\n    };\r\n    return Column3D;\r\n}(Column));\r\nexport { Column3D };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"Column3D\"] = Column3D;\r\n//# sourceMappingURL=Column3D.js.map","/**\r\n * Module that defines everything related to building Cone Columns.\r\n * It is a container which has coneColumn element which is a Cone.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Column } from \"./Column\";\r\nimport { Cone } from \"../../core/elements/3d/Cone\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to creates ConeColumns.\r\n *\r\n * @see {@link IConeColumnEvents} for a list of available events\r\n * @see {@link IConeColumnAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar ConeColumn = /** @class */ (function (_super) {\r\n    __extends(ConeColumn, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ConeColumn() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ConeColumn\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    ConeColumn.prototype.createAssets = function () {\r\n        this.coneColumn = this.createChild(Cone);\r\n        this.coneColumn.shouldClone = false;\r\n        // some dirty hack so that if user access column, it won't get error\r\n        this.column = this.coneColumn;\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[ConeColumn]].\r\n     *\r\n     * @param source Source ConeColumn\r\n     */\r\n    ConeColumn.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (this.coneColumn) {\r\n            this.coneColumn.copyFrom(source.coneColumn);\r\n        }\r\n    };\r\n    return ConeColumn;\r\n}(Column));\r\nexport { ConeColumn };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ConeColumn\"] = ConeColumn;\r\n//# sourceMappingURL=ConeColumn.js.map","/**\r\n * Module that defines everything related to building Curved Columns.\r\n * It is a container which has CurvedColumn element which is a Sprite.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Column } from \"./Column\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $smoothing from \"../../core/rendering/Smoothing\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to creates CurvedColumns.\r\n *\r\n * @see {@link ICurvedColumnEvents} for a list of available events\r\n * @see {@link ICurvedColumnAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar CurvedColumn = /** @class */ (function (_super) {\r\n    __extends(CurvedColumn, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CurvedColumn() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"CurvedColumn\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * [createAssets description]\r\n     *\r\n     * @todo Description\r\n     * @ignore Exclude from docs\r\n     */\r\n    CurvedColumn.prototype.createAssets = function () {\r\n        this.curvedColumn = this.createChild(Sprite);\r\n        this.curvedColumn.shouldClone = false;\r\n        this.setPropertyValue(\"tension\", 0.7);\r\n        this.width = percent(120);\r\n        this.height = percent(120);\r\n        // some dirty hack so that if user access column, it won't get error\r\n        this.column = this.curvedColumn;\r\n    };\r\n    /**\r\n     * Draws the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    CurvedColumn.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var w = this.realWidth;\r\n        var h = this.realHeight;\r\n        var x = this.realX - this.pixelX;\r\n        var y = this.realY - this.pixelY;\r\n        var points;\r\n        // TODO can this be removed ?\r\n        $utils.used(this.width);\r\n        var tensionX = 1;\r\n        var tensionY = 1;\r\n        if (this.orientation == \"vertical\") {\r\n            tensionX = this.tension;\r\n            points = [{ x: 0, y: h + y }, { x: w / 2, y: y }, { x: w, y: h + y }];\r\n        }\r\n        else {\r\n            tensionY = this.tension;\r\n            points = [{ x: x, y: 0 }, { x: x + w, y: h / 2 }, { x: x, y: h }];\r\n        }\r\n        var path = $path.moveTo(points[0]) + new $smoothing.Tension(tensionX, tensionY).smooth(points);\r\n        this.column.path = path;\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[CurvedColumn]].\r\n     *\r\n     * @param source  Source CurvedColumn\r\n     */\r\n    CurvedColumn.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (this.curvedColumn) {\r\n            this.curvedColumn.copyFrom(source.curvedColumn);\r\n        }\r\n    };\r\n    Object.defineProperty(CurvedColumn.prototype, \"tension\", {\r\n        /**\r\n         * @return Tension (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tension\");\r\n        },\r\n        /**\r\n         * Horizontal tension of the curve.\r\n         *\r\n         * Tension defines how \"lose\" the line will be.\r\n         *\r\n         * 1 is the maximum tension which would result in pointy columns with\r\n         * straight edges.\r\n         *\r\n         * The smaller the tension th wider the column will be.\r\n         *\r\n         * @default 0.7\r\n         * @param value tension (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tension\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CurvedColumn.prototype, \"orientation\", {\r\n        /**\r\n         * Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"orientation\");\r\n        },\r\n        /**\r\n         * Orientation of the column.\r\n         *\r\n         * Available options: \"vertical\" (default) and \"horizontal\".\r\n         *\r\n         * @default \"vertical\"\r\n         * @param value  Orientation\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"orientation\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return CurvedColumn;\r\n}(Column));\r\nexport { CurvedColumn };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CurvedColumn\"] = CurvedColumn;\r\n//# sourceMappingURL=CurvedColumn.js.map","/**\r\n * Bullet module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Bullet } from \"./Bullet\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a bullet with a textual label.\r\n *\r\n * Uses [[Label]] instance to draw the label, so the label itself is\r\n * configurable.\r\n *\r\n * @see {@link IBulletEvents} for a list of available events\r\n * @see {@link IBulletAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar ErrorBullet = /** @class */ (function (_super) {\r\n    __extends(ErrorBullet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ErrorBullet() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ErrorBullet\";\r\n        _this.errorLine = _this.createChild(Sprite);\r\n        _this.errorLine.shouldClone = false;\r\n        _this.width = 20;\r\n        _this.height = 20;\r\n        _this.strokeOpacity = 1;\r\n        _this.isDynamic = true;\r\n        return _this;\r\n    }\r\n    ErrorBullet.prototype.validatePosition = function () {\r\n        _super.prototype.validatePosition.call(this);\r\n        var w = this.pixelWidth / 2;\r\n        var h = this.pixelHeight / 2;\r\n        this.errorLine.path = $path.moveTo({ x: -w, y: -h }) + $path.lineTo({ x: w, y: -h }) + $path.moveTo({ x: 0, y: -h }) + $path.lineTo({ x: 0, y: h }) + $path.moveTo({ x: -w, y: h }) + $path.lineTo({ x: w, y: h });\r\n    };\r\n    /**\r\n     * Copies all proprities and related stuff from another instance of\r\n     * [[ErrorBullet]].\r\n     *\r\n     * @param source  Source element\r\n     */\r\n    ErrorBullet.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.errorLine.copyFrom(source.errorLine);\r\n    };\r\n    return ErrorBullet;\r\n}(Bullet));\r\nexport { ErrorBullet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ErrorBullet\"] = ErrorBullet;\r\n//# sourceMappingURL=ErrorBullet.js.map","/**\r\n * FlowDiagramLink module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { LinearGradient } from \"../../core/rendering/fills/LinearGradient\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Bullet } from \"../elements/Bullet\";\r\nimport { Color } from \"../../core/utils/Color\";\r\nimport { ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { Polyline } from \"../../core/elements/Polyline\";\r\nimport { Line } from \"../../core/elements/Line\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * This class creates a link (waved color-filled line) between two nodes in a\r\n * Flow Diagram.\r\n *\r\n * @see {@link IFlowDiagramLinkEvents} for a list of available events\r\n * @see {@link IFlowDiagramLinkAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar FlowDiagramLink = /** @class */ (function (_super) {\r\n    __extends(FlowDiagramLink, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FlowDiagramLink() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"FlowDiagramLink\";\r\n        var interfaceColors = new InterfaceColorSet();\r\n        _this.maskBullets = false;\r\n        _this.colorMode = \"fromNode\";\r\n        _this.layout = \"none\";\r\n        _this.isMeasured = false;\r\n        _this.startAngle = 0;\r\n        _this.endAngle = 0;\r\n        _this.strokeOpacity = 0;\r\n        // this is very important, otherwise the container will be shifted\r\n        _this.verticalCenter = \"none\";\r\n        _this.horizontalCenter = \"none\";\r\n        _this.tooltipText = \"{fromName}→{toName}:{value.value}\";\r\n        _this.tooltipLocation = 0.5;\r\n        _this.link = _this.createChild(Sprite);\r\n        _this.link.shouldClone = false;\r\n        _this.link.setElement(_this.paper.add(\"path\"));\r\n        _this.link.isMeasured = false;\r\n        _this.fillOpacity = 0.2;\r\n        _this.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Positions bullets\r\n     * @ignore\r\n     */\r\n    FlowDiagramLink.prototype.positionBullets = function () {\r\n        var _this = this;\r\n        $iter.each(this.bullets.iterator(), function (bullet) {\r\n            bullet.parent = _this.bulletsContainer;\r\n            bullet.maxWidth = _this.maxWidth;\r\n            bullet.maxHeight = _this.maxHeight;\r\n            _this.positionBullet(bullet);\r\n        });\r\n    };\r\n    Object.defineProperty(FlowDiagramLink.prototype, \"bulletsContainer\", {\r\n        /**\r\n         * Bullets container\r\n         */\r\n        get: function () {\r\n            if (!this._bulletsContainer) {\r\n                var bulletsContainer = this.createChild(Container);\r\n                bulletsContainer.shouldClone = false;\r\n                bulletsContainer.layout = \"none\";\r\n                this._bulletsContainer = bulletsContainer;\r\n            }\r\n            return this._bulletsContainer;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramLink.prototype, \"bulletsMask\", {\r\n        /**\r\n         * Bullets mask sprite\r\n         */\r\n        get: function () {\r\n            if (!this._bulletsMask) {\r\n                var bulletsMask = this.createChild(Sprite);\r\n                bulletsMask.shouldClone = false;\r\n                bulletsMask.setElement(this.paper.add(\"path\"));\r\n                bulletsMask.isMeasured = false;\r\n                this._bulletsMask = bulletsMask;\r\n            }\r\n            return this._bulletsMask;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Positions bullets at relative bullet.locationX position on the link.\r\n     * @ignore\r\n     */\r\n    FlowDiagramLink.prototype.positionBullet = function (bullet) {\r\n        var location = bullet.locationX;\r\n        if (!$type.isNumber(location)) {\r\n            location = bullet.locationY;\r\n        }\r\n        if (!$type.isNumber(location)) {\r\n            location = 0.5;\r\n        }\r\n        var point = this.middleLine.positionToPoint(location);\r\n        bullet.moveTo(point);\r\n        var rotationField = bullet.propertyFields.rotation;\r\n        var angle;\r\n        if (bullet.dataItem) {\r\n            var dataContext = bullet.dataItem.dataContext;\r\n            angle = dataContext[rotationField];\r\n        }\r\n        if (!$type.isNumber(angle)) {\r\n            angle = point.angle;\r\n        }\r\n        bullet.rotation = angle;\r\n    };\r\n    Object.defineProperty(FlowDiagramLink.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Start angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startAngle\");\r\n        },\r\n        /**\r\n         * [startAngle description]\r\n         *\r\n         * @todo Description\r\n         * @param value  Start angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramLink.prototype, \"endAngle\", {\r\n        /**\r\n         * @return End angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endAngle\");\r\n        },\r\n        /**\r\n         * [endAngle description]\r\n         *\r\n         * @todo Description\r\n         * @param value  End angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"endAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramLink.prototype, \"colorMode\", {\r\n        /**\r\n         * Fill mode\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"colorMode\");\r\n        },\r\n        /**\r\n         * Should link be filled with a solid color, color of from node, color of toNode or gradient between node colors.\r\n         * Some of the links, like ChordLink does not support gradiens well.\r\n         *\r\n         * @param value  Fill mode\r\n         */\r\n        set: function (value) {\r\n            if (value == \"gradient\") {\r\n                var color = this.fill;\r\n                this.gradient.stops.clear();\r\n                if (color instanceof Color) {\r\n                    this.gradient.addColor(color);\r\n                    this.gradient.addColor(color);\r\n                }\r\n                this.fill = this.gradient;\r\n                this.stroke = this.gradient;\r\n            }\r\n            this.setPropertyValue(\"colorMode\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramLink.prototype, \"maskBullets\", {\r\n        /**\r\n         * @return mask bullets value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maskBullets\");\r\n        },\r\n        /**\r\n         * Should link bullets be masked or not\r\n         *\r\n         * @param value\r\n         * @default false\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"maskBullets\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramLink.prototype, \"tooltipLocation\", {\r\n        /**\r\n         * Tooltip location value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tooltipLocation\");\r\n        },\r\n        /**\r\n         * Relative location of a tooltip.\r\n         * @default 0.5\r\n         *\r\n         * @param value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tooltipLocation\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds color steps in the link gradient.\r\n     *\r\n     * @param value  Fill option\r\n     */\r\n    FlowDiagramLink.prototype.setFill = function (value) {\r\n        _super.prototype.setFill.call(this, value);\r\n        var gradient = this._gradient;\r\n        if (gradient && value instanceof Color) {\r\n            gradient.stops.clear();\r\n            gradient.addColor(value);\r\n            gradient.addColor(value);\r\n        }\r\n    };\r\n    /**\r\n     * Updates bounding box based on element dimension settings.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    FlowDiagramLink.prototype.measureElement = function () {\r\n    };\r\n    Object.defineProperty(FlowDiagramLink.prototype, \"bullets\", {\r\n        /**\r\n         * List of bullets\r\n         *\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._bullets) {\r\n                this._bullets = new ListTemplate(new Bullet());\r\n                this._disposers.push(new ListDisposer(this._bullets));\r\n                this._disposers.push(this._bullets.template);\r\n                this._bullets.events.on(\"inserted\", function (event) {\r\n                    event.newValue.events.on(\"propertychanged\", function (event) {\r\n                        if (event.property == \"locationX\" || event.property == \"locationY\") {\r\n                            _this.positionBullet(event.target);\r\n                        }\r\n                    }, undefined, false);\r\n                }, undefined, false);\r\n            }\r\n            return this._bullets;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies properties from another [[FlowDiagramLink]].\r\n     *\r\n     * @param source  Source link\r\n     */\r\n    FlowDiagramLink.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.bullets.copyFrom(source.bullets);\r\n        var middleLine = this.middleLine;\r\n        if (middleLine) {\r\n            if (middleLine instanceof Line && source.middleLine instanceof Line) {\r\n                middleLine.copyFrom(source.middleLine);\r\n            }\r\n            if (middleLine instanceof Polyline && source.middleLine instanceof Polyline) {\r\n                middleLine.copyFrom(source.middleLine);\r\n            }\r\n        }\r\n        this.link.copyFrom(source.link);\r\n    };\r\n    /**\r\n     * @ignore Exclude from docs\r\n     * @return Tooltip X (px)\r\n     */\r\n    FlowDiagramLink.prototype.getTooltipX = function () {\r\n        if (this.middleLine) {\r\n            return this.middleLine.positionToPoint(this.tooltipLocation).x;\r\n        }\r\n    };\r\n    /**\r\n     * @ignore Exclude from docs\r\n     * @return Tooltip Y (px)\r\n     */\r\n    FlowDiagramLink.prototype.getTooltipY = function () {\r\n        if (this.middleLine) {\r\n            return this.middleLine.positionToPoint(this.tooltipLocation).y;\r\n        }\r\n    };\r\n    Object.defineProperty(FlowDiagramLink.prototype, \"gradient\", {\r\n        /**\r\n         * A gradiend instance that is used to provided colored gradient fills for\r\n         * the Flow link.\r\n         */\r\n        get: function () {\r\n            if (!this._gradient) {\r\n                this._gradient = new LinearGradient();\r\n            }\r\n            return this._gradient;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FlowDiagramLink;\r\n}(Container));\r\nexport { FlowDiagramLink };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"FlowDiagramLink\"] = FlowDiagramLink;\r\n//# sourceMappingURL=FlowDiagramLink.js.map","/**\r\n * FlowDiagramNode module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../core/Container\";\r\nimport { visualProperties } from \"../../core/Sprite\";\r\nimport { List } from \"../../core/utils/List\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $string from \"../../core/utils/String\";\r\nimport * as $order from \"../../core/utils/Order\";\r\nimport * as $number from \"../../core/utils/Number\";\r\nimport { RoundedRectangle } from \"../../core/elements/RoundedRectangle\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport { LegendSettings } from \"../Legend\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a node in a Flow Diagram.\r\n *\r\n * A Flow node is a block with a value, which represents its size on the\r\n * diagram.\r\n *\r\n * Nodes are connected via [[FlowLink]] elements.\r\n *\r\n * @see {@link IFlowDiagramNodeEvents} for a list of available events\r\n * @see {@link IFlowDiagramNodeAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar FlowDiagramNode = /** @class */ (function (_super) {\r\n    __extends(FlowDiagramNode, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FlowDiagramNode() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Settings for the appearance of the related legend items.\r\n         */\r\n        _this.legendSettings = new LegendSettings();\r\n        _this.className = \"FlowDiagramNode\";\r\n        _this.isMeasured = false;\r\n        // TODO can this be removed ?\r\n        new InterfaceColorSet();\r\n        _this.draggable = true;\r\n        _this.inert = true;\r\n        _this.setStateOnChildren = true;\r\n        _this.events.on(\"positionchanged\", _this.invalidateLinks, _this, false);\r\n        _this.events.on(\"sizechanged\", _this.invalidateLinks, _this, false);\r\n        return _this;\r\n        //this.events.on(\"hit\", this.handleHit, this, false);\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    FlowDiagramNode.prototype.handleHit = function (event) {\r\n        if (this.isHidden || this.isHiding) {\r\n            this.show();\r\n        }\r\n        else {\r\n            this.hide();\r\n        }\r\n    };\r\n    /**\r\n     * Shows hidden node.\r\n     *\r\n     * @param duration  Duration of reveal animation (ms)\r\n     * @return Animation\r\n     */\r\n    FlowDiagramNode.prototype.show = function (duration) {\r\n        var animation = _super.prototype.show.call(this, duration);\r\n        this.outgoingDataItems.each(function (dataItem) {\r\n            if (!dataItem.toNode || (dataItem.toNode && !dataItem.toNode.isHidden)) {\r\n                dataItem.setWorkingValue(\"value\", dataItem.getValue(\"value\"), duration);\r\n            }\r\n        });\r\n        this.incomingDataItems.each(function (dataItem) {\r\n            if (!dataItem.fromNode || (dataItem.fromNode && !dataItem.fromNode.isHidden)) {\r\n                dataItem.setWorkingValue(\"value\", dataItem.getValue(\"value\"), duration);\r\n            }\r\n        });\r\n        return animation;\r\n    };\r\n    /**\r\n     * Hides node.\r\n     *\r\n     * @param duration  Duration of hiding animation (ms)\r\n     * @return Animation\r\n     */\r\n    FlowDiagramNode.prototype.hide = function (duration) {\r\n        var animation = _super.prototype.hide.call(this, duration);\r\n        this.outgoingDataItems.each(function (dataItem) {\r\n            dataItem.setWorkingValue(\"value\", 0, duration);\r\n        });\r\n        this.incomingDataItems.each(function (dataItem) {\r\n            dataItem.setWorkingValue(\"value\", 0, duration);\r\n        });\r\n        return animation;\r\n    };\r\n    /**\r\n     * Marks node as invalid, for redrawal in the next update cycle.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    FlowDiagramNode.prototype.validate = function () {\r\n        if (!this.isDisposed()) {\r\n            _super.prototype.validate.call(this);\r\n            this.invalidateLinks();\r\n        }\r\n    };\r\n    /**\r\n     * Invalidates all links, attached to this node.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    FlowDiagramNode.prototype.invalidateLinks = function () {\r\n        var _this = this;\r\n        this.outgoingDataItems.each(function (dataItem) {\r\n            var link = dataItem.link;\r\n            if (link.colorMode == \"fromNode\") {\r\n                link.fill = link.dataItem.fromNode.color;\r\n            }\r\n            if (link.colorMode == \"gradient\") {\r\n                link.fill = link.gradient;\r\n                link.stroke = link.gradient;\r\n                var stop_1 = link.gradient.stops.getIndex(0);\r\n                if (stop_1) {\r\n                    stop_1.color = _this.color;\r\n                    link.gradient.validate();\r\n                }\r\n            }\r\n        });\r\n        this.incomingDataItems.each(function (dataItem) {\r\n            var link = dataItem.link;\r\n            if (link.colorMode == \"toNode\") {\r\n                link.fill = link.dataItem.toNode.color;\r\n            }\r\n            if (link.colorMode == \"gradient\") {\r\n                link.fill = link.gradient;\r\n                link.stroke = link.gradient;\r\n                var stop_2 = link.gradient.stops.getIndex(1);\r\n                if (stop_2) {\r\n                    stop_2.color = _this.color;\r\n                    link.gradient.validate();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    Object.defineProperty(FlowDiagramNode.prototype, \"incomingDataItems\", {\r\n        /**\r\n         * List of incoming items (links).\r\n         *\r\n         * @readonly\r\n         * @return Incoming items\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._incomingDataItems) {\r\n                var incomingDataItems = new List();\r\n                incomingDataItems.events.on(\"inserted\", function () {\r\n                    if (_this.chart.sortBy == \"name\") {\r\n                        _this._incomingSorted = $iter.sort(_this._incomingDataItems.iterator(), function (x, y) { return $string.order(x.fromName, y.fromName); });\r\n                    }\r\n                    else if (_this.chart.sortBy == \"value\") {\r\n                        _this._incomingSorted = $iter.sort(_this._incomingDataItems.iterator(), function (x, y) { return $order.reverse($number.order(x.value, y.value)); });\r\n                    }\r\n                    else {\r\n                        _this._incomingSorted = _this._incomingDataItems.iterator();\r\n                    }\r\n                }, undefined, false);\r\n                this._incomingDataItems = incomingDataItems;\r\n            }\r\n            return this._incomingDataItems;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramNode.prototype, \"outgoingDataItems\", {\r\n        /**\r\n         * List of outgoing items (links).\r\n         *\r\n         * @readonly\r\n         * @return Outgoing items\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._outgoingDataItems) {\r\n                var outgoingDataItems = new List();\r\n                outgoingDataItems.events.on(\"inserted\", function () {\r\n                    if (_this.chart.sortBy == \"name\") {\r\n                        _this._outgoingSorted = $iter.sort(_this._outgoingDataItems.iterator(), function (x, y) { return $string.order(x.fromName, y.fromName); });\r\n                    }\r\n                    else if (_this.chart.sortBy == \"value\") {\r\n                        _this._outgoingSorted = $iter.sort(_this._outgoingDataItems.iterator(), function (x, y) { return $order.reverse($number.order(x.value, y.value)); });\r\n                    }\r\n                    else {\r\n                        _this._outgoingSorted = _this._outgoingDataItems.iterator();\r\n                    }\r\n                }, undefined, false);\r\n                this._outgoingDataItems = outgoingDataItems;\r\n            }\r\n            return this._outgoingDataItems;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramNode.prototype, \"name\", {\r\n        /**\r\n         * @return Name\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"name\");\r\n        },\r\n        /**\r\n         * A name of the node.\r\n         *\r\n         * @param value  Name\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"name\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramNode.prototype, \"total\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"total\");\r\n        },\r\n        /**\r\n         * Sum of all incoming+outgoing link values\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"total\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramNode.prototype, \"totalIncoming\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"totalIncoming\");\r\n        },\r\n        /**\r\n         * Sum of all incomming link values.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"totalIncoming\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramNode.prototype, \"totalOutgoing\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"totalOutgoing\");\r\n        },\r\n        /**\r\n         * Sum of all outgoing link values.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"totalOutgoing\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramNode.prototype, \"color\", {\r\n        /**\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"color\");\r\n        },\r\n        /**\r\n         * Node's color.\r\n         *\r\n         * @param value  Color\r\n         */\r\n        set: function (value) {\r\n            this.setColorProperty(\"color\", value);\r\n            if (this._background) {\r\n                this._background.fill = value;\r\n            }\r\n            this.fill = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates elements in related legend container, that mimics the look of this\r\n     * Series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker  Legend item container\r\n     */\r\n    FlowDiagramNode.prototype.createLegendMarker = function (marker) {\r\n        var w = marker.pixelWidth;\r\n        var h = marker.pixelHeight;\r\n        marker.removeChildren();\r\n        var column = marker.createChild(RoundedRectangle);\r\n        column.shouldClone = false;\r\n        $object.copyProperties(this, column, visualProperties);\r\n        column.stroke = this.fill;\r\n        column.copyFrom(this);\r\n        column.padding(0, 0, 0, 0); // if columns will have padding (which is often), legend marker will be very narrow\r\n        column.width = w;\r\n        column.height = h;\r\n        var legendDataItem = marker.dataItem;\r\n        legendDataItem.color = column.fill;\r\n        legendDataItem.colorOrig = column.fill;\r\n    };\r\n    Object.defineProperty(FlowDiagramNode.prototype, \"legendDataItem\", {\r\n        /**\r\n         * @return Data item\r\n         */\r\n        get: function () {\r\n            return this._legendDataItem;\r\n        },\r\n        /**\r\n         * Legend data item that corresponds to this series.\r\n         *\r\n         * @param value  Data item\r\n         */\r\n        set: function (value) {\r\n            this._legendDataItem = value;\r\n            this._legendDataItem.itemContainer.deepInvalidate();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FlowDiagramNode;\r\n}(Container));\r\nexport { FlowDiagramNode };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"FlowDiagramNode\"] = FlowDiagramNode;\r\n//# sourceMappingURL=FlowDiagramNode.js.map","/**\r\n * Module that defines everything related to building Funnel slices.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../core/Container\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to create [[FunnelSlice]] elements.\r\n *\r\n * @see {@link IFunnelSliceEvents} for a list of available events\r\n * @see {@link IFunnelSliceAdapters} for a list of available adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/sliced-chart/} for documentation\r\n * @important\r\n */\r\nvar FunnelSlice = /** @class */ (function (_super) {\r\n    __extends(FunnelSlice, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FunnelSlice() {\r\n        var _this = _super.call(this) || this;\r\n        _this.slice = _this.createChild(Sprite);\r\n        _this.slice.shouldClone = false;\r\n        _this.slice.setElement(_this.paper.add(\"path\"));\r\n        _this.slice.isMeasured = false;\r\n        _this.orientation = \"vertical\";\r\n        _this.bottomWidth = percent(100);\r\n        _this.topWidth = percent(100);\r\n        _this.isMeasured = false;\r\n        _this.width = 10;\r\n        _this.height = 10;\r\n        _this.expandDistance = 0;\r\n        _this.className = \"FunnelSlice\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the element.\r\n     */\r\n    FunnelSlice.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var pt = this.pixelPaddingTop;\r\n        var pb = this.pixelPaddingBottom;\r\n        var pr = this.pixelPaddingRight;\r\n        var pl = this.pixelPaddingLeft;\r\n        var w = this.pixelWidth - pr - pl;\r\n        var h = this.pixelHeight - pt - pb;\r\n        var ed = this.expandDistance;\r\n        var path = \"\";\r\n        if (this.orientation == \"vertical\") {\r\n            var tw = $utils.relativeToValue(this.topWidth, w);\r\n            var bw = $utils.relativeToValue(this.bottomWidth, w);\r\n            var tl = { x: (w - tw) / 2 + pl, y: pt };\r\n            var tr = { x: (w + tw) / 2 + pl, y: pt };\r\n            var br = { x: (w + bw) / 2 + pl, y: pt + h };\r\n            var bl = { x: (w - bw) / 2 + pl, y: pt + h };\r\n            var cpr = { x: tr.x + (br.x - tr.x) / 2 + ed * h, y: tr.y + 0.5 * h };\r\n            var cpl = { x: tl.x + (bl.x - tl.x) / 2 - ed * h, y: tl.y + 0.5 * h };\r\n            var qp1 = $path.lineTo(br);\r\n            var qp2 = \"\";\r\n            if (ed != 0) {\r\n                qp1 = $path.quadraticCurveTo(br, cpr);\r\n                qp2 = $path.quadraticCurveTo(tl, cpl);\r\n            }\r\n            path = $path.moveTo(tl) + $path.lineTo(tr) + qp1 + $path.lineTo(bl) + qp2;\r\n            this.tickPoint = { x: tr.x + (br.x - tr.x) / 2, y: tr.y + (br.y - tr.y) / 2 };\r\n        }\r\n        else {\r\n            var tw = $utils.relativeToValue(this.topWidth, h);\r\n            var bw = $utils.relativeToValue(this.bottomWidth, h);\r\n            var tt = { x: pl, y: (h - tw) / 2 + pt };\r\n            var tb = { x: pl, y: (h + tw) / 2 + pt };\r\n            var bt = { x: pl + w, y: (h - bw) / 2 + pt };\r\n            var bb = { x: pl + w, y: (h + bw) / 2 + pt };\r\n            var cpr = { y: tt.y + (bt.y - tt.y) / 2 - ed * w, x: tt.x + 0.5 * w };\r\n            var cpl = { y: tb.y + (bb.y - tb.y) / 2 + ed * w, x: tb.x + 0.5 * w };\r\n            var qp1 = $path.lineTo(bt);\r\n            var qp2 = \"\";\r\n            if (ed != 0) {\r\n                qp1 = $path.quadraticCurveTo(bt, cpr);\r\n                qp2 = $path.quadraticCurveTo(tb, cpl);\r\n            }\r\n            path = $path.moveTo(tb) + $path.lineTo(tt) + qp1 + $path.lineTo(bb) + qp2;\r\n            this.tickPoint = { y: tb.y + (bb.y - tb.y) / 2, x: tb.x + (bb.x - tb.x) / 2 };\r\n        }\r\n        this.slice.path = path;\r\n        this.invalidateLayout();\r\n    };\r\n    FunnelSlice.prototype.getPoint = function (locationX, locationY) {\r\n        var pt = this.pixelPaddingTop;\r\n        var pb = this.pixelPaddingBottom;\r\n        var pr = this.pixelPaddingRight;\r\n        var pl = this.pixelPaddingLeft;\r\n        var w = this.pixelWidth - pr - pl;\r\n        var h = this.pixelHeight - pt - pb;\r\n        if (this.orientation == \"vertical\") {\r\n            var tw = $utils.relativeToValue(this.topWidth, w);\r\n            var bw = $utils.relativeToValue(this.bottomWidth, w);\r\n            var tl = { x: (w - tw) / 2 + pl, y: pt };\r\n            var tr = { x: (w + tw) / 2 + pl, y: pt };\r\n            var br = { x: (w + bw) / 2 + pl, y: pt + h };\r\n            var bl = { x: (w - bw) / 2 + pl, y: pt + h };\r\n            var mlx = tl.x + (bl.x - tl.x) * locationY;\r\n            var mrx = tr.x + (br.x - tr.x) * locationY;\r\n            return { x: mlx + (mrx - mlx) * locationX, y: tr.y + (br.y - tr.y) * locationY };\r\n        }\r\n        else {\r\n            var tw = $utils.relativeToValue(this.topWidth, h);\r\n            var bw = $utils.relativeToValue(this.bottomWidth, h);\r\n            var tt = { x: pl, y: (h - tw) / 2 + pt };\r\n            var tb = { x: pl, y: (h + tw) / 2 + pt };\r\n            var bt = { x: pl + w, y: (h - bw) / 2 + pt };\r\n            var bb = { x: pl + w, y: (h + bw) / 2 + pt };\r\n            var mty = tt.y + (bt.y - tt.y) * locationX;\r\n            var mby = tb.y + (bb.y - tb.y) * locationX;\r\n            return { y: mty + (mby - mty) * locationY, x: tt.x + (bt.x - tt.x) * locationX };\r\n        }\r\n    };\r\n    Object.defineProperty(FunnelSlice.prototype, \"bottomWidth\", {\r\n        /**\r\n         * @return bottom width\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"bottomWidth\");\r\n        },\r\n        /**\r\n         * Bottom width in pixels or percent.\r\n         *\r\n         * IMPORTANT: this setting might be used to set dimensions if you use slice\r\n         * as a standalone element. If it's a part of [[FunnelSeries]] this setting\r\n         * becomes read-only as it will be automatically reset by series.\r\n         *\r\n         * @param value  Bottom width\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"bottomWidth\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FunnelSlice.prototype, \"topWidth\", {\r\n        /**\r\n         * @return Top width\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"topWidth\");\r\n        },\r\n        /**\r\n         * Top width in pixels or percent.\r\n         *\r\n         * IMPORTANT: this setting might be used to set dimensions if you use slice\r\n         * as a standalone element. If it's a part of [[FunnelSeries]] this setting\r\n         * becomes read-only as it will be automatically reset by series.\r\n         *\r\n         * @param value  Top width\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"topWidth\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FunnelSlice.prototype, \"orientation\", {\r\n        /**\r\n         * @return Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"orientation\");\r\n        },\r\n        /**\r\n         * Orientation of the funnel slice: \"horizontal\" or \"vertical\".\r\n         *\r\n         * IMPORTANT: this setting might be used to set orintation if you use slice\r\n         * as a standalone element. If it's a part of [[FunnelSeries]] this setting\r\n         * becomes read-only as it will be automatically reset by series.\r\n         *\r\n         * @param value  Orientation\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"orientation\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FunnelSlice.prototype, \"expandDistance\", {\r\n        /**\r\n         * @return expandDistance\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"expandDistance\");\r\n        },\r\n        /**\r\n         * A relative distance slice's sides should be bent to. It's relative to the\r\n         * height of the slice.\r\n         *\r\n         * Zero (default) will mean the sides will be perfectly straight.\r\n         *\r\n         * Positive value will make them bend outwards, resulting in \"puffed\" slices.\r\n         *\r\n         * Negative values will make them bend inwards.\r\n         *\r\n         * @default 0\r\n         * @param {number}\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"expandDistance\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all parameters from another [[Sprite]].\r\n     *\r\n     * @param source Source Sprite\r\n     */\r\n    FunnelSlice.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (this.slice) {\r\n            this.slice.copyFrom(source.slice);\r\n        }\r\n    };\r\n    return FunnelSlice;\r\n}(Container));\r\nexport { FunnelSlice };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"FunnelSlice\"] = FunnelSlice;\r\n//# sourceMappingURL=FunnelSlice.js.map","/**\r\n * Funnel tick module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Tick } from \"../elements/Tick\";\r\nimport { MutableValueDisposer, MultiDisposer } from \"../../core/utils/Disposer\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws an tick line for a funnel slice connecting it to a related label.\r\n *\r\n * @see {@link IFunnelTickEvents} for a list of available events\r\n * @see {@link IFunnelTickAdapters} for a list of available Adapters\r\n */\r\nvar FunnelTick = /** @class */ (function (_super) {\r\n    __extends(FunnelTick, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FunnelTick() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A label element this tick is attached to.\r\n         */\r\n        _this._label = new MutableValueDisposer();\r\n        /**\r\n         * A slice element this tick is attached to.\r\n         */\r\n        _this._slice = new MutableValueDisposer();\r\n        _this.className = \"FunnelTick\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this._disposers.push(_this._label);\r\n        _this._disposers.push(_this._slice);\r\n        _this.setPropertyValue(\"locationX\", 0);\r\n        _this.setPropertyValue(\"locationY\", 0);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the tick element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    FunnelTick.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var slice = this.slice;\r\n        var point = slice.getPoint(this.locationX, this.locationY);\r\n        if (point) {\r\n            var label = this.label;\r\n            var series = slice.dataItem.component;\r\n            var p0 = void 0;\r\n            var p1 = void 0;\r\n            var p2 = void 0;\r\n            if (series.orientation == \"vertical\") {\r\n                var x1 = label.pixelX;\r\n                var y1 = label.pixelY;\r\n                if (!series.labelsOpposite) {\r\n                    x1 += label.maxRight;\r\n                }\r\n                p0 = $utils.spritePointToSprite(point, slice, this.parent);\r\n                p2 = $utils.spritePointToSprite({ x: x1, y: y1 }, label.parent, this.parent);\r\n                p1 = { x: label.parent.pixelX - this.length, y: p2.y };\r\n                if (!series.labelsOpposite) {\r\n                    p1.x = label.parent.measuredWidth + this.length;\r\n                }\r\n            }\r\n            else {\r\n                var x1 = label.pixelX;\r\n                var y1 = label.pixelY;\r\n                if (!series.labelsOpposite) {\r\n                    y1 += label.maxBottom;\r\n                }\r\n                p0 = $utils.spritePointToSprite(point, slice, this.parent);\r\n                p2 = $utils.spritePointToSprite({ x: x1, y: y1 }, label.parent, this.parent);\r\n                p1 = { x: p2.x, y: label.parent.pixelY - this.length };\r\n                if (!series.labelsOpposite) {\r\n                    p1.y = label.parent.measuredHeight + this.length;\r\n                }\r\n            }\r\n            this.path = $path.moveTo(p0) + $path.lineTo(p1) + $path.lineTo(p2);\r\n        }\r\n    };\r\n    Object.defineProperty(FunnelTick.prototype, \"slice\", {\r\n        /**\r\n         * @return FunnelSlice\r\n         */\r\n        get: function () {\r\n            return this._slice.get();\r\n        },\r\n        /**\r\n         * [[FunnelSlice]] element tick is attached to.\r\n         *\r\n         * @param slice  Slice\r\n         */\r\n        set: function (slice) {\r\n            this._slice.set(slice, new MultiDisposer([\r\n                slice.events.on(\"transformed\", this.invalidate, this, false),\r\n                slice.events.on(\"validated\", this.invalidate, this, false)\r\n            ]));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FunnelTick.prototype, \"label\", {\r\n        /**\r\n         * @return Label\r\n         */\r\n        get: function () {\r\n            return this._label.get();\r\n        },\r\n        /**\r\n         * [[Label]] element tick is attached to.\r\n         *\r\n         * @param label  Label\r\n         */\r\n        set: function (label) {\r\n            this._label.set(label, label.events.on(\"transformed\", this.invalidate, this, false));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FunnelTick.prototype, \"locationX\", {\r\n        /**\r\n         * @return Location (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"locationX\");\r\n        },\r\n        /**\r\n         * A relative horizontal position within target element a tick is pointing\r\n         * to.\r\n         *\r\n         * A scale is from 0 to 1, where 0 means left edge, and 1 right edge.\r\n         *\r\n         * You can also set any value in-between (e.g. 0.5 will point to the middle\r\n         * of the slice), or outside 0-1 range, which will put tick anchor position\r\n         * outside target element.\r\n         *\r\n         * @param value  Location (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"locationX\", value, false, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FunnelTick.prototype, \"locationY\", {\r\n        /**\r\n         * @return Location (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"locationY\");\r\n        },\r\n        /**\r\n         * A relative vertical position within target element a tick is pointing\r\n         * to.\r\n         *\r\n         * A scale is from 0 to 1, where 0 means top edge, and 1 bottom edge.\r\n         *\r\n         * You can also set any value in-between (e.g. 0.5 will point to the middle\r\n         * of the slice), or outside 0-1 range, which will put tick anchor position\r\n         * outside target element.\r\n         *\r\n         * @param value  Location (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"locationY\", value, false, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FunnelTick;\r\n}(Tick));\r\nexport { FunnelTick };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"FunnelTick\"] = FunnelTick;\r\n//# sourceMappingURL=FunnelTick.js.map","/**\r\n * Bullet module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Bullet } from \"./Bullet\";\r\nimport { Label } from \"../../core/elements/Label\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { color } from \"../../core/utils/Color\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a bullet with a textual label.\r\n *\r\n * Uses [[Label]] instance to draw the label, so the label itself is\r\n * configurable.\r\n *\r\n * @see {@link IBulletEvents} for a list of available events\r\n * @see {@link IBulletAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar LabelBullet = /** @class */ (function (_super) {\r\n    __extends(LabelBullet, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function LabelBullet() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"LabelBullet\";\r\n        var label = _this.createChild(Label);\r\n        label.shouldClone = false;\r\n        label.verticalCenter = \"middle\";\r\n        label.horizontalCenter = \"middle\";\r\n        label.truncate = true;\r\n        label.hideOversized = false;\r\n        label.maxWidth = 500;\r\n        label.maxHeight = 500;\r\n        label.stroke = color();\r\n        label.strokeOpacity = 0;\r\n        label.fill = new InterfaceColorSet().getFor(\"text\");\r\n        _this.events.on(\"maxsizechanged\", _this.handleMaxSize, _this, false);\r\n        _this.label = label;\r\n        // not good, as lineSeries will have labels somewhere in the middle.\r\n        //this.locationX = 0.5;\r\n        //this.locationY = 0.5;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    LabelBullet.prototype.handleMaxSize = function () {\r\n        this.label.maxWidth = this.maxWidth;\r\n        this.label.maxHeight = this.maxHeight;\r\n    };\r\n    /**\r\n     * Copies all proprities and related stuff from another instance of\r\n     * [[LabelBullet]].\r\n     *\r\n     * @param source  Source element\r\n     */\r\n    LabelBullet.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.label.copyFrom(source.label);\r\n    };\r\n    return LabelBullet;\r\n}(Bullet));\r\nexport { LabelBullet };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LabelBullet\"] = LabelBullet;\r\n//# sourceMappingURL=LabelBullet.js.map","/**\r\n * Functionality for drawing simple NavigationBar.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Component } from \"../../core/Component\";\r\nimport { DataItem } from \"../../core/DataItem\";\r\nimport { ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { TextLink } from \"../../core/elements/TextLink\";\r\nimport { Triangle } from \"../../core/elements/Triangle\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[NavigationBar]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar NavigationBarDataItem = /** @class */ (function (_super) {\r\n    __extends(NavigationBarDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function NavigationBarDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"NavigationBarDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(NavigationBarDataItem.prototype, \"name\", {\r\n        /**\r\n         * @return Name\r\n         */\r\n        get: function () {\r\n            return this.properties[\"name\"];\r\n        },\r\n        /**\r\n         * Name of the navigation bar item.\r\n         *\r\n         * @param value  Name\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"name\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return NavigationBarDataItem;\r\n}(DataItem));\r\nexport { NavigationBarDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * NavigationBar class can be used to create a multi-level breadcrumb-style\r\n * navigation control.\r\n *\r\n * @see {@link INavigationBarEvents} for a list of available events\r\n * @see {@link INavigationBarAdapters} for a list of available Adapters\r\n * @todo Implement better\r\n * @important\r\n */\r\nvar NavigationBar = /** @class */ (function (_super) {\r\n    __extends(NavigationBar, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function NavigationBar() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"NavigationBar\";\r\n        var interfaceColors = new InterfaceColorSet();\r\n        var textLink = new TextLink();\r\n        textLink.valign = \"middle\";\r\n        textLink.paddingTop = 8;\r\n        textLink.paddingBottom = 8;\r\n        _this.paddingBottom = 2;\r\n        _this.links = new ListTemplate(textLink);\r\n        _this._disposers.push(new ListDisposer(_this.links));\r\n        _this._disposers.push(textLink);\r\n        _this._linksIterator = new $iter.ListIterator(_this.links, function () { return _this.links.create(); });\r\n        _this._linksIterator.createNewItems = true;\r\n        var triangle = new Triangle();\r\n        triangle.direction = \"right\";\r\n        triangle.width = 8;\r\n        triangle.height = 12;\r\n        triangle.fill = interfaceColors.getFor(\"alternativeBackground\");\r\n        triangle.fillOpacity = 0.5;\r\n        triangle.valign = \"middle\";\r\n        triangle.marginLeft = 10;\r\n        triangle.marginRight = 10;\r\n        _this.separators = new ListTemplate(triangle);\r\n        _this._disposers.push(new ListDisposer(_this.separators));\r\n        _this._disposers.push(triangle);\r\n        var activeLink = new TextLink();\r\n        _this.activeLink = activeLink;\r\n        activeLink.copyFrom(textLink);\r\n        activeLink.valign = \"middle\";\r\n        activeLink.fontWeight = \"bold\";\r\n        _this.width = percent(100);\r\n        _this.layout = \"grid\";\r\n        _this.dataFields.name = \"name\";\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Completely redraws the navigation bar.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    NavigationBar.prototype.validateDataElements = function () {\r\n        this.removeChildren();\r\n        this._linksIterator.reset();\r\n        _super.prototype.validateDataElements.call(this);\r\n        //@todo: dispose\r\n    };\r\n    /**\r\n     * Creates a visual element for a data item (nav item).\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    NavigationBar.prototype.validateDataElement = function (dataItem) {\r\n        _super.prototype.validateDataElement.call(this, dataItem);\r\n        var textLink;\r\n        if (dataItem.index < this.dataItems.length - 1) {\r\n            textLink = this._linksIterator.getLast();\r\n            textLink.parent = this;\r\n            var separator = this.separators.create();\r\n            separator.parent = this;\r\n            separator.valign = \"middle\";\r\n        }\r\n        else {\r\n            textLink = this.activeLink;\r\n            textLink.events.copyFrom(this.links.template.events);\r\n            textLink.hide(0);\r\n            textLink.show();\r\n            textLink.parent = this;\r\n        }\r\n        textLink.dataItem = dataItem;\r\n        textLink.text = dataItem.name;\r\n        textLink.validate();\r\n    };\r\n    return NavigationBar;\r\n}(Component));\r\nexport { NavigationBar };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"NavigationBar\"] = NavigationBar;\r\nregistry.registeredClasses[\"NavigationBarDataItem\"] = NavigationBarDataItem;\r\n//# sourceMappingURL=NavigationBar.js.map","/**\r\n * Module that defines everything related to building OHLCs.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Candlestick } from \"./Candlestick\";\r\nimport { Line } from \"../../core/elements/Line\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to creates OHLCs.\r\n *\r\n * @see {@link IOHLCEvents} for a list of available events\r\n * @see {@link IOHLCAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar OHLC = /** @class */ (function (_super) {\r\n    __extends(OHLC, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function OHLC() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"OHLC\";\r\n        _this.layout = \"none\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    OHLC.prototype.createAssets = function () {\r\n        //super.createAssets();\r\n        this.openLine = this.createChild(Line);\r\n        this.openLine.shouldClone = false;\r\n        this.highLowLine = this.createChild(Line);\r\n        this.highLowLine.shouldClone = false;\r\n        this.closeLine = this.createChild(Line);\r\n        this.closeLine.shouldClone = false;\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[OHLC]].\r\n     *\r\n     * @param source Source OHLC\r\n     */\r\n    OHLC.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (this.openLine) {\r\n            this.openLine.copyFrom(source.openLine);\r\n        }\r\n        if (this.highLowLine) {\r\n            this.highLowLine.copyFrom(source.highLowLine);\r\n        }\r\n        if (this.closeLine) {\r\n            this.closeLine.copyFrom(source.closeLine);\r\n        }\r\n    };\r\n    return OHLC;\r\n}(Candlestick));\r\nexport { OHLC };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"OHLC\"] = OHLC;\r\n//# sourceMappingURL=OHLC.js.map","/**\r\n * Pie tick module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Tick } from \"../elements/Tick\";\r\nimport { MutableValueDisposer, MultiDisposer } from \"../../core/utils/Disposer\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws an tick line for a pie slice connecting it to a related label.\r\n *\r\n * @see {@link IPieTickEvents} for a list of available events\r\n * @see {@link IPieTickAdapters} for a list of available Adapters\r\n */\r\nvar PieTick = /** @class */ (function (_super) {\r\n    __extends(PieTick, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieTick() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A label element this tick is attached to.\r\n         */\r\n        _this._label = new MutableValueDisposer();\r\n        /**\r\n         * A slice element this tick is attached to.\r\n         */\r\n        _this._slice = new MutableValueDisposer();\r\n        _this.className = \"PieTick\";\r\n        _this.element = _this.paper.add(\"polyline\");\r\n        _this._disposers.push(_this._label);\r\n        _this._disposers.push(_this._slice);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the tick element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PieTick.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        var slice = this.slice;\r\n        var label = this.label;\r\n        var series = slice.dataItem.component;\r\n        if (slice && slice.radius > 0 && label && label.text) {\r\n            var x0 = slice.dx + slice.slice.dx + slice.pixelX + slice.ix * slice.radius * slice.scale;\r\n            var y0 = slice.dy + slice.slice.dy + slice.pixelY + slice.iy * slice.radiusY * slice.scale;\r\n            var x1 = void 0;\r\n            var y1 = void 0;\r\n            var x2 = void 0;\r\n            var y2 = void 0;\r\n            if (series.alignLabels) {\r\n                x1 = label.pixelX - this.length;\r\n                y1 = label.pixelY;\r\n                x2 = label.pixelX;\r\n                y2 = y1;\r\n                if (label.horizontalCenter == \"right\") {\r\n                    x1 += 2 * this.length;\r\n                    x2 = x1 - this.length;\r\n                }\r\n            }\r\n            else {\r\n                var r = label.pixelRadius(slice.radius);\r\n                x1 = x0 + r * slice.ix;\r\n                y1 = y0 + r * slice.iy;\r\n                x2 = x1;\r\n                y2 = y1;\r\n            }\r\n            this.element.attr({ \"points\": [x0, y0, x1, y1, x2, y2] });\r\n        }\r\n    };\r\n    Object.defineProperty(PieTick.prototype, \"slice\", {\r\n        /**\r\n         * @return Slice\r\n         */\r\n        get: function () {\r\n            return this._slice.get();\r\n        },\r\n        /**\r\n         * Slice element tick is attached to.\r\n         *\r\n         * @param slice  Slice\r\n         */\r\n        set: function (slice) {\r\n            this._slice.set(slice, new MultiDisposer([\r\n                slice.events.on(\"transformed\", this.invalidate, this),\r\n                slice.events.on(\"validated\", this.invalidate, this)\r\n            ]));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieTick.prototype, \"label\", {\r\n        /**\r\n         * @return Label\r\n         */\r\n        get: function () {\r\n            return this._label.get();\r\n        },\r\n        /**\r\n         * Label element tick is attached to.\r\n         *\r\n         * @param label  Label\r\n         */\r\n        set: function (label) {\r\n            this._label.set(label, label.events.on(\"transformed\", this.invalidate, this, false));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PieTick;\r\n}(Tick));\r\nexport { PieTick };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PieTick\"] = PieTick;\r\n//# sourceMappingURL=PieTick.js.map","/**\r\n * Module that defines everything related to building RadarColumns.\r\n * It is a container which has radarColumn element which is a Slice.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Column } from \"./Column\";\r\nimport { Slice } from \"../../core/elements/Slice\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Class used to creates RadarColumns.\r\n *\r\n * @see {@link IRadarColumnEvents} for a list of available events\r\n * @see {@link IRadarColumnAdapters} for a list of available Adapters\r\n * @todo Usage example\r\n * @important\r\n */\r\nvar RadarColumn = /** @class */ (function (_super) {\r\n    __extends(RadarColumn, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RadarColumn() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"RadarColumn\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * @ignore\r\n     */\r\n    RadarColumn.prototype.createAssets = function () {\r\n        this.radarColumn = this.createChild(Slice);\r\n        this.radarColumn.shouldClone = false;\r\n        this.radarColumn.strokeOpacity = undefined;\r\n        // some dirty hack so that if user access column, it won't get error\r\n        this.column = this.radarColumn;\r\n    };\r\n    /**\r\n     * Copies all parameters from another [[RadarColumn]].\r\n     *\r\n     * @param source Source RadarColumn\r\n     */\r\n    RadarColumn.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        if (this.radarColumn) {\r\n            this.radarColumn.copyFrom(source.radarColumn);\r\n        }\r\n    };\r\n    /**\r\n     * X coordinate for the slice tooltip.\r\n     *\r\n     * @return X\r\n     * @ignore\r\n     */\r\n    RadarColumn.prototype.getTooltipX = function () {\r\n        var value = this.getPropertyValue(\"tooltipX\");\r\n        if (!$type.isNumber(value)) {\r\n            return this.radarColumn.getTooltipX();\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Y coordinate for the slice tooltip.\r\n     *\r\n     * @return Y\r\n     * @ignore\r\n     */\r\n    RadarColumn.prototype.getTooltipY = function () {\r\n        var value = this.getPropertyValue(\"tooltipX\");\r\n        if (!$type.isNumber(value)) {\r\n            return this.radarColumn.getTooltipY();\r\n        }\r\n        return value;\r\n    };\r\n    return RadarColumn;\r\n}(Column));\r\nexport { RadarColumn };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RadarColumn\"] = RadarColumn;\r\n//# sourceMappingURL=RadarColumn.js.map","/**\r\n * SankeyLink module\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { FlowDiagramLink } from \"./FlowDiagramLink\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Polyspline } from \"../../core/elements/Polyspline\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $smoothing from \"../../core/rendering/Smoothing\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * This class creates a link (waved color-filled line) between two nodes in a\r\n * Sankey Diagram.\r\n *\r\n * @see {@link ISankeyLinkEvents} for a list of available events\r\n * @see {@link ISankeyLinkAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar SankeyLink = /** @class */ (function (_super) {\r\n    __extends(SankeyLink, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SankeyLink() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"SankeyLink\";\r\n        // TODO can this be removed ?\r\n        new InterfaceColorSet();\r\n        _this.tension = 0.8;\r\n        _this.controlPointDistance = 0.2;\r\n        _this.startAngle = 0;\r\n        _this.endAngle = 0;\r\n        _this.linkWidth = 0;\r\n        _this.startX = 0;\r\n        _this.endX = 0;\r\n        _this.startY = 0;\r\n        _this.endY = 0;\r\n        _this.middleLine = _this.createChild(Polyspline);\r\n        _this.middleLine.shouldClone = false;\r\n        _this.middleLine.strokeOpacity = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * (Re)validates (redraws) the link.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    SankeyLink.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        if (!this.isTemplate) {\r\n            var x0 = this.startX;\r\n            var y0 = this.startY;\r\n            var x1 = this.endX;\r\n            var y1 = this.endY;\r\n            if (!$type.isNumber(x1)) {\r\n                x1 = x0;\r\n            }\r\n            if (!$type.isNumber(y1)) {\r\n                y1 = y0;\r\n            }\r\n            var startAngle = this.startAngle;\r\n            var endAngle = this.endAngle;\r\n            var w = this.linkWidth;\r\n            var path = \"\";\r\n            var xt0 = x0;\r\n            var yt0 = y0;\r\n            var xt1 = x1;\r\n            var yt1 = y1;\r\n            var xb0 = x0 + w * $math.sin(startAngle);\r\n            var xb1 = x1 + w * $math.sin(endAngle);\r\n            var yb0 = y0 + w * $math.cos(startAngle);\r\n            var yb1 = y1 + w * $math.cos(endAngle);\r\n            var xm0 = x0 + w / 2 * $math.sin(startAngle);\r\n            var xm1 = x1 + w / 2 * $math.sin(endAngle);\r\n            var ym0 = y0 + w / 2 * $math.cos(startAngle);\r\n            var ym1 = y1 + w / 2 * $math.cos(endAngle);\r\n            this.zIndex = this.zIndex || this.dataItem.index;\r\n            var tensionX = this.tension + (1 - this.tension) * $math.sin(startAngle);\r\n            var tensionY = this.tension + (1 - this.tension) * $math.cos(startAngle);\r\n            this.middleLine.tensionX = tensionX;\r\n            this.middleLine.tensionY = tensionY;\r\n            if ($type.isNumber(w) && ($type.isNumber(x0) && $type.isNumber(x1) && $type.isNumber(y0) && $type.isNumber(y1))) {\r\n                // solves issues with gradient fill of straight lines\r\n                if ($math.round(xt0, 3) == $math.round(xt1, 3)) {\r\n                    xt1 += 0.01;\r\n                }\r\n                if ($math.round(yt0, 3) == $math.round(yt1, 3)) {\r\n                    yt1 += 0.01;\r\n                }\r\n                if ($math.round(xb0, 3) == $math.round(xb1, 3)) {\r\n                    xb1 += 0.01;\r\n                }\r\n                if ($math.round(yb0, 3) == $math.round(yb1, 3)) {\r\n                    yb1 += 0.01;\r\n                }\r\n                var minX = Math.min(xb0, xb1, xt0, xt1);\r\n                var minY = Math.min(yb0, yb1, yt0, yt1);\r\n                var maxX = Math.max(xb0, xb1, xt0, xt1);\r\n                var maxY = Math.max(yb0, yb1, yt0, yt1);\r\n                this._bbox = {\r\n                    x: minX,\r\n                    y: minY,\r\n                    width: maxX - minX,\r\n                    height: maxY - minY\r\n                };\r\n                var cpd = this.controlPointDistance;\r\n                var kxt0 = xt0 + (xt1 - xt0) * cpd * $math.cos(startAngle);\r\n                var kyt0 = yt0 + (yt1 - yt0) * cpd * $math.sin(startAngle);\r\n                var kxt1 = xt1 - (xt1 - xt0) * cpd * $math.cos(endAngle);\r\n                var kyt1 = yt1 - (yt1 - yt0) * cpd * $math.sin(endAngle);\r\n                var kxm0 = xm0 + (xm1 - xm0) * cpd * $math.cos(startAngle);\r\n                var kym0 = ym0 + (ym1 - ym0) * cpd * $math.sin(startAngle);\r\n                var kxm1 = xm1 - (xm1 - xm0) * cpd * $math.cos(endAngle);\r\n                var kym1 = ym1 - (ym1 - ym0) * cpd * $math.sin(endAngle);\r\n                var angle = $math.getAngle({ x: kxt0, y: kyt0 }, { x: kxt1, y: kyt1 });\r\n                var dx = (w / $math.cos(angle) - w) / $math.tan(angle) * $math.cos(startAngle);\r\n                var dy = (w / $math.sin(angle) - w) * $math.tan(angle) * $math.sin(startAngle);\r\n                var kxb0 = -dx / 2 + xb0 + (xb1 - xb0) * cpd * $math.cos(startAngle);\r\n                var kyb0 = -dy / 2 + yb0 + (yb1 - yb0) * cpd * $math.sin(startAngle);\r\n                var kxb1 = -dx / 2 + xb1 - (xb1 - xb0) * cpd * $math.cos(endAngle);\r\n                var kyb1 = -dy / 2 + yb1 - (yb1 - yb0) * cpd * $math.sin(endAngle);\r\n                this.middleLine.segments = [[{ x: xm0, y: ym0 }, { x: kxm0, y: kym0 }, { x: kxm1, y: kym1 }, { x: xm1, y: ym1 }]];\r\n                kxt0 += dx / 2;\r\n                kyt0 += dy / 2;\r\n                kxt1 += dx / 2;\r\n                kyt1 += dy / 2;\r\n                path += $path.moveTo({ x: xt0, y: yt0 });\r\n                path += new $smoothing.Tension(tensionX, tensionY).smooth([{ x: xt0, y: yt0 }, { x: kxt0, y: kyt0 }, { x: kxt1, y: kyt1 }, { x: xt1, y: yt1 }]);\r\n                path += $path.lineTo({ x: xb1, y: yb1 });\r\n                path += new $smoothing.Tension(tensionX, tensionY).smooth([{ x: xb1, y: yb1 }, { x: kxb1, y: kyb1 }, { x: kxb0, y: kyb0 }, { x: xb0, y: yb0 }]);\r\n                path += $path.closePath();\r\n            }\r\n            this.link.path = path;\r\n            if (this.maskBullets) {\r\n                this.bulletsMask.path = path;\r\n                this.bulletsContainer.mask = this.bulletsMask;\r\n            }\r\n            this.positionBullets();\r\n        }\r\n    };\r\n    Object.defineProperty(SankeyLink.prototype, \"startX\", {\r\n        /**\r\n         * @return Start X\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startX\");\r\n        },\r\n        /**\r\n         * [startX description]\r\n         *\r\n         * @todo Description\r\n         * @param value  Start X\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startX\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SankeyLink.prototype, \"endX\", {\r\n        /**\r\n         * @return End X\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endX\");\r\n        },\r\n        /**\r\n         * [endX description]\r\n         *\r\n         * @todo Description\r\n         * @param value  End X\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"endX\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SankeyLink.prototype, \"startY\", {\r\n        /**\r\n         * @return Start Y\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startY\");\r\n        },\r\n        /**\r\n         * [startY description]\r\n         *\r\n         * @todo Description\r\n         * @param value  Start Y\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startY\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SankeyLink.prototype, \"endY\", {\r\n        /**\r\n         * @return End Y\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endY\");\r\n        },\r\n        /**\r\n         * [endY description]\r\n         *\r\n         * @todo Description\r\n         * @param value End Y\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"endY\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SankeyLink.prototype, \"linkWidth\", {\r\n        /**\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"linkWidth\");\r\n        },\r\n        /**\r\n         * [linkWidth description]\r\n         *\r\n         * @todo Description\r\n         * @param value [description]\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"linkWidth\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SankeyLink.prototype, \"controlPointDistance\", {\r\n        /**\r\n         * @return relative control point distance\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"controlPointDistance\");\r\n        },\r\n        /**\r\n         * Distance of control point of a link, defines relative distance from a node at which linke should bend\r\n         * @default 0.2\r\n         * @param value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"controlPointDistance\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SankeyLink.prototype, \"tension\", {\r\n        /**\r\n         * @return tension value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tension\");\r\n        },\r\n        /**\r\n         * Tension of a spline, 1 would make the link to have sharp edges\r\n         * @default 0.8\r\n         * @param value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tension\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return SankeyLink;\r\n}(FlowDiagramLink));\r\nexport { SankeyLink };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"SankeyLink\"] = SankeyLink;\r\n//# sourceMappingURL=SankeyLink.js.map","/**\r\n * SankeyNode module\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { FlowDiagramNode } from \"./FlowDiagramNode\";\r\nimport { LabelBullet } from \"./LabelBullet\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a node in a Sankey Diagram.\r\n *\r\n * A Sankey node is a block with a value, which represents its size on the\r\n * diagram.\r\n *\r\n * Nodes are connected via [[SankeyLink]] elements.\r\n *\r\n * @see {@link ISankeyNodeEvents} for a list of available events\r\n * @see {@link ISankeyNodeAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar SankeyNode = /** @class */ (function (_super) {\r\n    __extends(SankeyNode, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SankeyNode() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * [nextInCoord description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         */\r\n        _this.nextInCoord = 0;\r\n        /**\r\n         * [nextOutCoord description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         */\r\n        _this.nextOutCoord = 0;\r\n        _this.className = \"SankeyNode\";\r\n        _this.width = 10;\r\n        _this.height = 10;\r\n        var nameLabel = _this.createChild(LabelBullet);\r\n        nameLabel.shouldClone = false;\r\n        //@should we auto update these locations if position is changed?\r\n        nameLabel.locationX = 1;\r\n        nameLabel.locationY = 0.5;\r\n        nameLabel.label.text = \"{name}\";\r\n        //nameLabel.label.textElement.hideOversized = false;\r\n        nameLabel.width = 150;\r\n        nameLabel.height = 150;\r\n        nameLabel.label.horizontalCenter = \"left\";\r\n        nameLabel.label.padding(0, 5, 0, 5);\r\n        _this.nameLabel = nameLabel;\r\n        var valueLabel = _this.createChild(LabelBullet);\r\n        valueLabel.shouldClone = false;\r\n        valueLabel.label.hideOversized = false;\r\n        valueLabel.locationX = 0.5;\r\n        valueLabel.locationY = 0.5;\r\n        valueLabel.width = 150;\r\n        valueLabel.height = 150;\r\n        //valueLabel.label.text = \"{value}\";\r\n        valueLabel.label.horizontalCenter = \"middle\";\r\n        _this.valueLabel = valueLabel;\r\n        var hiddenState = _this.hiddenState;\r\n        hiddenState.properties.fill = new InterfaceColorSet().getFor(\"disabledBackground\");\r\n        hiddenState.properties.opacity = 0.5;\r\n        hiddenState.properties.visible = true;\r\n        _this.background.hiddenState.copyFrom(hiddenState);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Invalidates all links, attached to this node.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    SankeyNode.prototype.invalidateLinks = function () {\r\n        var _this = this;\r\n        _super.prototype.invalidateLinks.call(this);\r\n        this.nextInCoord = 0;\r\n        this.nextOutCoord = 0;\r\n        var chart = this.chart;\r\n        if (chart) {\r\n            var orientation_1 = chart.orientation;\r\n            if (this._incomingSorted) {\r\n                $iter.each(this._incomingSorted, function (dataItem) {\r\n                    var link = dataItem.link;\r\n                    var value = dataItem.getWorkingValue(\"value\");\r\n                    if ($type.isNumber(value)) {\r\n                        link.parent = _this.chart.linksContainer;\r\n                        var x = void 0;\r\n                        var y = void 0;\r\n                        var angle = void 0;\r\n                        if (orientation_1 == \"horizontal\") {\r\n                            x = _this.pixelX + _this.dx;\r\n                            y = _this.nextInCoord + _this.pixelY + _this.dy;\r\n                            angle = 0;\r\n                        }\r\n                        else {\r\n                            y = _this.pixelY + _this.dy;\r\n                            x = _this.nextInCoord + _this.pixelX + _this.dx;\r\n                            angle = 90;\r\n                        }\r\n                        link.endX = x;\r\n                        link.endY = y;\r\n                        link.startAngle = angle;\r\n                        link.endAngle = angle;\r\n                        link.gradient.rotation = angle;\r\n                        link.linkWidth = value * chart.valueHeight;\r\n                        if (!dataItem.fromNode) {\r\n                            if (orientation_1 == \"horizontal\") {\r\n                                link.maxWidth = 200;\r\n                                link.startX = _this.pixelX + _this.dx - link.maxWidth;\r\n                                link.startY = link.endY;\r\n                            }\r\n                            else {\r\n                                link.maxHeight = 200;\r\n                                link.startX = link.endX;\r\n                                link.startY = _this.pixelY + _this.dy - link.maxHeight;\r\n                            }\r\n                            // TODO is this needed ?\r\n                            $utils.used(link.gradient);\r\n                            link.fill = dataItem.toNode.color;\r\n                            var stop_1 = link.gradient.stops.getIndex(0);\r\n                            if (stop_1) {\r\n                                if (link.colorMode == \"gradient\") {\r\n                                    stop_1.color = _this.color;\r\n                                }\r\n                                stop_1.opacity = 0;\r\n                                link.fill = link.gradient;\r\n                                link.stroke = link.gradient;\r\n                                link.gradient.validate();\r\n                            }\r\n                        }\r\n                        //link.validate();\r\n                        _this.nextInCoord += link.linkWidth;\r\n                    }\r\n                });\r\n            }\r\n            if (this._outgoingSorted) {\r\n                $iter.each(this._outgoingSorted, function (dataItem) {\r\n                    var link = dataItem.link;\r\n                    link.parent = _this.chart.linksContainer;\r\n                    var value = dataItem.getWorkingValue(\"value\");\r\n                    if ($type.isNumber(value)) {\r\n                        var x = void 0;\r\n                        var y = void 0;\r\n                        var angle = void 0;\r\n                        if (orientation_1 == \"horizontal\") {\r\n                            angle = 0;\r\n                            x = _this.pixelX + _this.pixelWidth + _this.dx - 1;\r\n                            y = _this.nextOutCoord + _this.pixelY + _this.dy;\r\n                        }\r\n                        else {\r\n                            angle = 90;\r\n                            x = _this.nextOutCoord + _this.pixelX + _this.dx;\r\n                            y = _this.pixelY + _this.pixelHeight + _this.dy - 1;\r\n                        }\r\n                        link.startX = x;\r\n                        link.startY = y;\r\n                        link.startAngle = angle;\r\n                        link.endAngle = angle;\r\n                        link.gradient.rotation = angle;\r\n                        link.linkWidth = value * _this.chart.valueHeight;\r\n                        if (!dataItem.toNode) {\r\n                            if (orientation_1 == \"horizontal\") {\r\n                                link.maxWidth = 200;\r\n                                link.endX = _this.pixelX + link.maxWidth + _this.dx;\r\n                                link.endY = link.startY;\r\n                            }\r\n                            else {\r\n                                link.maxHeight = 200;\r\n                                link.endX = link.startX;\r\n                                link.endY = _this.pixelY + link.maxHeight + _this.dy;\r\n                            }\r\n                            link.opacity = _this.opacity;\r\n                            var stop_2 = link.gradient.stops.getIndex(1);\r\n                            if (stop_2) {\r\n                                if (link.colorMode == \"gradient\") {\r\n                                    stop_2.color = _this.color;\r\n                                }\r\n                                stop_2.opacity = 0;\r\n                                link.fill = link.gradient;\r\n                                link.stroke = link.gradient;\r\n                                link.gradient.validate();\r\n                            }\r\n                        }\r\n                        //link.validate();\r\n                        _this.nextOutCoord += link.linkWidth;\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        this.positionBullet(this.nameLabel);\r\n        this.positionBullet(this.valueLabel);\r\n    };\r\n    /**\r\n     * Positions the bullet so it is centered within the node element.\r\n     *\r\n     * @param bullet  Target bullet\r\n     */\r\n    SankeyNode.prototype.positionBullet = function (bullet) {\r\n        if (bullet) {\r\n            bullet.x = this.measuredWidth * bullet.locationX;\r\n            bullet.y = this.measuredHeight * bullet.locationY;\r\n        }\r\n    };\r\n    Object.defineProperty(SankeyNode.prototype, \"level\", {\r\n        /**\r\n         * @return Level\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"level\");\r\n        },\r\n        /**\r\n         * A level node is displayed at. (0 - ...)\r\n         *\r\n         * Levels are measured from left to right.\r\n         *\r\n         * The nodes in the left-most column will have `level = 0`.\r\n         *\r\n         * Nodes in second column - `level = 1`, etc.\r\n         *\r\n         * @param value  Level\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"level\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies properties and labels from another [[SankeyNode]].\r\n     *\r\n     * @param source  Source node\r\n     */\r\n    SankeyNode.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.nameLabel.copyFrom(source.nameLabel);\r\n        this.valueLabel.copyFrom(source.valueLabel);\r\n    };\r\n    return SankeyNode;\r\n}(FlowDiagramNode));\r\nexport { SankeyNode };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"SankeyNode\"] = SankeyNode;\r\n//# sourceMappingURL=SankeyNode.js.map","/**\r\n * A module with functionality for buildin a scrollbar with an XY graph in it.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Scrollbar } from \"../../core/elements/Scrollbar\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { List } from \"../../core/utils/List\";\r\nimport { MutableValueDisposer } from \"../../core/utils/Disposer\";\r\nimport { XYChart } from \"../types/XYChart\";\r\nimport { ValueAxis } from \"../axes/ValueAxis\";\r\nimport { DateAxis } from \"../axes/DateAxis\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport { DesaturateFilter } from \"../../core/rendering/filters/DesaturateFilter\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { color } from \"../../core/utils/Color\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A special version of the Scrollbar that has an XY chart in it.\r\n *\r\n * Used mainly as an advanced scrollbar with a preview for other XY charts.\r\n *\r\n * However, can be used as standalone element.\r\n *\r\n * @see {@link IXYChartScrollbarEvents} for a list of available events\r\n * @see {@link IXYChartScrollbarAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar XYChartScrollbar = /** @class */ (function (_super) {\r\n    __extends(XYChartScrollbar, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function XYChartScrollbar() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * A chart element Scrollbar is for.\r\n         */\r\n        _this._chart = new MutableValueDisposer();\r\n        _this.className = \"XYChartScrollbar\";\r\n        var interfaceColors = new InterfaceColorSet();\r\n        _this.padding(0, 0, 0, 0);\r\n        var scrollbarChart = _this.createChild(XYChart);\r\n        scrollbarChart.shouldClone = false;\r\n        scrollbarChart.margin(0, 0, 0, 0);\r\n        scrollbarChart.padding(0, 0, 0, 0);\r\n        scrollbarChart.interactionsEnabled = false;\r\n        _this._scrollbarChart = scrollbarChart;\r\n        if (!$utils.isIE()) {\r\n            var filter = new DesaturateFilter();\r\n            filter.filterUnits = \"userSpaceOnUse\";\r\n            scrollbarChart.plotContainer.filters.push(filter);\r\n        }\r\n        _this._disposers.push(_this._scrollbarChart);\r\n        _this.minHeight = 60;\r\n        _this.minWidth = 60;\r\n        var unselectedOverlay = _this.createChild(Sprite);\r\n        unselectedOverlay.shouldClone = false;\r\n        unselectedOverlay.setElement(_this.paper.add(\"path\"));\r\n        unselectedOverlay.fill = interfaceColors.getFor(\"background\");\r\n        unselectedOverlay.fillOpacity = 0.8;\r\n        unselectedOverlay.interactionsEnabled = false;\r\n        unselectedOverlay.isMeasured = false;\r\n        unselectedOverlay.toBack();\r\n        _this._unselectedOverlay = unselectedOverlay;\r\n        _this._disposers.push(_this._unselectedOverlay);\r\n        scrollbarChart.toBack();\r\n        _this.background.cornerRadius(0, 0, 0, 0);\r\n        var thumbBackground = _this.thumb.background;\r\n        thumbBackground.cornerRadius(0, 0, 0, 0);\r\n        thumbBackground.fillOpacity = 0;\r\n        thumbBackground.fill = interfaceColors.getFor(\"background\");\r\n        var hoverState = thumbBackground.states.getKey(\"hover\");\r\n        if (hoverState) {\r\n            hoverState.properties.fillOpacity = 0.2;\r\n        }\r\n        var downState = thumbBackground.states.getKey(\"down\");\r\n        if (downState) {\r\n            downState.properties.fillOpacity = 0.4;\r\n        }\r\n        _this._disposers.push(_this._chart);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(XYChartScrollbar.prototype, \"series\", {\r\n        /**\r\n         * A list of series that are used to draw graph(s) on the scrollbar.\r\n         *\r\n         * @readonly\r\n         * @return Series\r\n         */\r\n        get: function () {\r\n            if (!this._series) {\r\n                this._series = new List();\r\n                this._disposers.push(this._series.events.on(\"inserted\", this.handleSeriesAdded, this, false));\r\n                this._disposers.push(this._series.events.on(\"removed\", this.handleSeriesRemoved, this, false));\r\n            }\r\n            return this._series;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Decorates a new series when they are pushed into a `series` list.\r\n     *\r\n     * @param event Event\r\n     */\r\n    XYChartScrollbar.prototype.handleSeriesAdded = function (event) {\r\n        var _this = this;\r\n        var sourceSeries = event.newValue;\r\n        if (!sourceSeries.xAxis || !sourceSeries.yAxis) {\r\n            return;\r\n        }\r\n        var scrollbarChart = this.scrollbarChart;\r\n        scrollbarChart.zoomOutButton.disabled = true;\r\n        this.chart = sourceSeries.chart;\r\n        // Ensure that scrollbar chart shares the same locale as parent chart\r\n        scrollbarChart.language.locale = this.chart.language.locale;\r\n        var addXAxis = true;\r\n        var addYAxis = true;\r\n        // check if we haven't added clone of x or y axis before\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            if (series != sourceSeries) {\r\n                if (series.xAxis == sourceSeries.xAxis && _this.scrollbarChart.xAxes.length > 0) {\r\n                    addXAxis = false;\r\n                }\r\n                if (series.yAxis == sourceSeries.yAxis && _this.scrollbarChart.yAxes.length > 0) {\r\n                    addYAxis = false;\r\n                }\r\n            }\r\n        });\r\n        sourceSeries.events.on(\"beforedisposed\", function () {\r\n            _this.series.removeValue(sourceSeries);\r\n        });\r\n        var interfaceColors = new InterfaceColorSet();\r\n        var series = sourceSeries.clone();\r\n        if ($utils.isIE()) {\r\n            series.stroke = color(\"#aaaaaa\");\r\n            series.fill = series.stroke;\r\n            series.propertyFields.fill = undefined;\r\n            series.propertyFields.stroke = undefined;\r\n        }\r\n        sourceSeries.scrollbarSeries = series;\r\n        if (addXAxis) {\r\n            var xAxis = sourceSeries.xAxis.clone();\r\n            scrollbarChart.xAxes.moveValue(xAxis);\r\n            xAxis.title.disabled = true;\r\n            xAxis.rangeChangeDuration = 0;\r\n            //xAxis.id = sourceSeries.uid;\r\n            var renderer = xAxis.renderer;\r\n            renderer.ticks.template.disabled = true;\r\n            renderer.inside = true;\r\n            renderer.labels.template.inside = true;\r\n            renderer.line.strokeOpacity = 0;\r\n            renderer.minLabelPosition = 0.02;\r\n            renderer.maxLabelPosition = 0.98;\r\n            renderer.line.disabled = true;\r\n            renderer.axisFills.template.disabled = true;\r\n            renderer.baseGrid.disabled = true;\r\n            renderer.grid.template.strokeOpacity = 0.05;\r\n            renderer.minWidth = undefined;\r\n            renderer.minHeight = undefined;\r\n            renderer.padding(0, 0, 0, 0);\r\n            renderer.chart = scrollbarChart;\r\n            renderer.margin(0, 0, 0, 0);\r\n            xAxis.width = percent(100);\r\n            var labelsTemplate = renderer.labels.template;\r\n            labelsTemplate.fillOpacity = 0.5;\r\n            xAxis.maxZoomCount = undefined;\r\n            xAxis.minZoomCount = undefined;\r\n            if (xAxis instanceof DateAxis) {\r\n                var vAxis_1 = xAxis;\r\n                var sourceAxis = sourceSeries.xAxis;\r\n                vAxis_1.groupCount = sourceAxis.groupCount * 5;\r\n                vAxis_1.min = undefined;\r\n                vAxis_1.max = undefined;\r\n                this._disposers.push(vAxis_1.clonedFrom.events.on(\"extremeschanged\", function () {\r\n                    if ($type.isNumber(vAxis_1.clonedFrom.minDefined)) {\r\n                        vAxis_1.min = vAxis_1.clonedFrom.minDefined;\r\n                    }\r\n                    if ($type.isNumber(vAxis_1.clonedFrom.maxDefined)) {\r\n                        vAxis_1.max = vAxis_1.clonedFrom.maxDefined;\r\n                    }\r\n                }, undefined, false));\r\n            }\r\n            else if (xAxis instanceof ValueAxis) {\r\n                var vAxis_2 = xAxis;\r\n                vAxis_2.min = undefined;\r\n                vAxis_2.max = undefined;\r\n                if (!$type.isNumber(vAxis_2.clonedFrom.minDefined)) {\r\n                    vAxis_2.min = undefined;\r\n                }\r\n                if (!$type.isNumber(vAxis_2.clonedFrom.maxDefined)) {\r\n                    vAxis_2.max = undefined;\r\n                }\r\n                this._disposers.push(vAxis_2.clonedFrom.events.on(\"extremeschanged\", function () {\r\n                    if ($type.isNumber(vAxis_2.clonedFrom.minDefined)) {\r\n                        vAxis_2.min = vAxis_2.clonedFrom.min;\r\n                    }\r\n                    if ($type.isNumber(vAxis_2.clonedFrom.maxDefined)) {\r\n                        vAxis_2.max = vAxis_2.clonedFrom.max;\r\n                    }\r\n                }, undefined, false));\r\n            }\r\n            series.xAxis = xAxis;\r\n        }\r\n        else {\r\n            this.scrollbarChart.xAxes.each(function (xAxis) {\r\n                if (xAxis.clonedFrom == sourceSeries.xAxis) {\r\n                    series.xAxis = xAxis;\r\n                }\r\n            });\r\n        }\r\n        if (addYAxis) {\r\n            var yAxis = sourceSeries.yAxis.clone();\r\n            scrollbarChart.yAxes.moveValue(yAxis);\r\n            yAxis.title.disabled = true;\r\n            yAxis.rangeChangeDuration = 0;\r\n            var renderer = yAxis.renderer;\r\n            renderer.ticks.template.disabled = true;\r\n            renderer.inside = true;\r\n            renderer.labels.template.inside = true;\r\n            renderer.line.strokeOpacity = 0;\r\n            renderer.minLabelPosition = 0.02;\r\n            renderer.maxLabelPosition = 0.98;\r\n            renderer.line.disabled = true;\r\n            renderer.axisFills.template.disabled = true;\r\n            renderer.grid.template.stroke = interfaceColors.getFor(\"background\");\r\n            renderer.baseGrid.disabled = true;\r\n            renderer.grid.template.strokeOpacity = 0.05;\r\n            renderer.minWidth = undefined;\r\n            renderer.minHeight = undefined;\r\n            renderer.chart = scrollbarChart;\r\n            renderer.padding(0, 0, 0, 0);\r\n            renderer.margin(0, 0, 0, 0);\r\n            yAxis.height = percent(100);\r\n            var labelsTemplate = renderer.labels.template;\r\n            labelsTemplate.fillOpacity = 0.5;\r\n            series.yAxis = yAxis;\r\n            yAxis.maxZoomCount = undefined;\r\n            yAxis.minZoomCount = undefined;\r\n            if (yAxis instanceof DateAxis) {\r\n                var vAxis_3 = yAxis;\r\n                vAxis_3.min = undefined;\r\n                vAxis_3.max = undefined;\r\n                var sourceAxis = sourceSeries.yAxis;\r\n                yAxis.groupCount = sourceAxis.groupCount * 5;\r\n                this._disposers.push(vAxis_3.clonedFrom.events.on(\"extremeschanged\", function () {\r\n                    if ($type.isNumber(vAxis_3.clonedFrom.minDefined)) {\r\n                        vAxis_3.min = vAxis_3.clonedFrom.minDefined;\r\n                    }\r\n                    if ($type.isNumber(vAxis_3.clonedFrom.maxDefined)) {\r\n                        vAxis_3.max = vAxis_3.clonedFrom.maxDefined;\r\n                    }\r\n                }));\r\n            }\r\n            else if (yAxis instanceof ValueAxis) {\r\n                var vAxis_4 = yAxis;\r\n                vAxis_4.min = undefined;\r\n                vAxis_4.max = undefined;\r\n                if (!$type.isNumber(vAxis_4.clonedFrom.minDefined)) {\r\n                    vAxis_4.min = undefined;\r\n                }\r\n                if (!$type.isNumber(vAxis_4.clonedFrom.maxDefined)) {\r\n                    vAxis_4.max = undefined;\r\n                }\r\n                this._disposers.push(vAxis_4.clonedFrom.events.on(\"extremeschanged\", function () {\r\n                    if ($type.isNumber(vAxis_4.clonedFrom.minDefined)) {\r\n                        vAxis_4.min = vAxis_4.clonedFrom.minDefined;\r\n                    }\r\n                    if ($type.isNumber(vAxis_4.clonedFrom.maxDefined)) {\r\n                        vAxis_4.max = vAxis_4.clonedFrom.maxDefined;\r\n                    }\r\n                }));\r\n            }\r\n        }\r\n        else {\r\n            this.scrollbarChart.yAxes.each(function (yAxis) {\r\n                if (yAxis.clonedFrom == sourceSeries.yAxis) {\r\n                    series.yAxis = yAxis;\r\n                }\r\n            });\r\n        }\r\n        series.rangeChangeDuration = 0;\r\n        series.interpolationDuration = 0;\r\n        series.defaultState.transitionDuration = 0;\r\n        series.showOnInit = false;\r\n        this._disposers.push(series.events.on(\"validated\", this.zoomOutAxes, this, false));\r\n        // data might be set drectly on series\r\n        this._disposers.push(sourceSeries.events.on(\"datavalidated\", function () {\r\n            if (series.data != sourceSeries.data) { // data setter doesn't check this\r\n                series.data = sourceSeries.data;\r\n            }\r\n        }, undefined, false));\r\n        series.defaultState.properties.visible = true;\r\n        scrollbarChart.series.push(series);\r\n        this.updateByOrientation();\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYChartScrollbar.prototype.updateByOrientation = function () {\r\n        var _this = this;\r\n        if (this._scrollbarChart) {\r\n            $iter.each(this._scrollbarChart.xAxes.iterator(), function (xAxis) {\r\n                var renderer = xAxis.renderer;\r\n                if (_this.orientation == \"vertical\") {\r\n                    renderer.grid.template.disabled = true;\r\n                    renderer.labels.template.disabled = true;\r\n                    renderer.minGridDistance = 10;\r\n                }\r\n                else {\r\n                    renderer.grid.template.disabled = false;\r\n                    renderer.labels.template.disabled = false;\r\n                    renderer.minGridDistance = xAxis.clonedFrom.renderer.minGridDistance;\r\n                }\r\n            });\r\n            $iter.each(this._scrollbarChart.yAxes.iterator(), function (yAxis) {\r\n                var renderer = yAxis.renderer;\r\n                if (_this.orientation == \"horizontal\") {\r\n                    renderer.grid.template.disabled = true;\r\n                    renderer.labels.template.disabled = true;\r\n                    renderer.minGridDistance = 10;\r\n                }\r\n                else {\r\n                    renderer.grid.template.disabled = false;\r\n                    renderer.labels.template.disabled = false;\r\n                    renderer.minGridDistance = yAxis.clonedFrom.renderer.minGridDistance;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Cleans up after series are removed from Scrollbar.\r\n     *\r\n     * @param event  Event\r\n     */\r\n    XYChartScrollbar.prototype.handleSeriesRemoved = function (event) {\r\n        var sourceSeries = event.oldValue;\r\n        var scrollbarChart = this.scrollbarChart;\r\n        scrollbarChart.series.each(function (series) {\r\n            if (series && series.clonedFrom == sourceSeries) {\r\n                scrollbarChart.series.removeValue(series);\r\n            }\r\n        });\r\n        if (scrollbarChart.series.length == 0) {\r\n            scrollbarChart.xAxes.clear();\r\n            scrollbarChart.yAxes.clear();\r\n        }\r\n        try {\r\n            sourceSeries.events.off(\"validated\", this.zoomOutAxes, this);\r\n        }\r\n        catch (err) {\r\n        }\r\n    };\r\n    Object.defineProperty(XYChartScrollbar.prototype, \"scrollbarChart\", {\r\n        /**\r\n         * A chart element that is used to display graphs in the Scrollbar.\r\n         *\r\n         * This is not the same as `chart`. It's a totally independent instance of\r\n         * [[XYChart]] with separate config, series, etc.\r\n         *\r\n         * It can be configured just like any other [[XYChart]].\r\n         *\r\n         * @readonly\r\n         * @return Scrollbar's internal chart\r\n         */\r\n        get: function () {\r\n            return this._scrollbarChart;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYChartScrollbar.prototype, \"chart\", {\r\n        /**\r\n         * @return Chart\r\n         */\r\n        get: function () {\r\n            return this._chart.get();\r\n        },\r\n        /**\r\n         * A chart that Scrollbar belongs to.\r\n         *\r\n         * @param chart  Chart\r\n         */\r\n        set: function (chart) {\r\n            if (this._chart.get() !== chart) {\r\n                this._chart.set(chart, chart.events.on(\"datavalidated\", this.handleDataChanged, this, false));\r\n                this.handleDataChanged();\r\n                this._scrollbarChart.dataProvider = chart; // this makes scrollbar chart do not validate data untill charts' data is validated\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYChartScrollbar.prototype, \"unselectedOverlay\", {\r\n        /**\r\n         * A [[Sprite]] object representing overlay that is used to dim area of the\r\n         * scrollbar that is currently not selected.\r\n         *\r\n         * Use its `fillOpacity` to set opacity of the fill, with `0` (zero)\r\n         * completely disabling the dimming, and `1` making unselected area completely\r\n         * blank.\r\n         *\r\n         * @since 4.6.1\r\n         * @readonly\r\n         * @return Unselected area curtain element\r\n         */\r\n        get: function () {\r\n            return this._unselectedOverlay;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates Scrollbar's internal chart's data when the main chart's data\r\n     * changes.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChartScrollbar.prototype.handleDataChanged = function () {\r\n        if (this.chart.data != this.scrollbarChart.data) {\r\n            this.scrollbarChart.data = this.chart.data;\r\n        }\r\n        else {\r\n            // add data is handled in XYChart\r\n            // invalidating all data caused the problem: https://github.com/amcharts/amcharts4/issues/2096\r\n            this.scrollbarChart.invalidateRawData();\r\n        }\r\n    };\r\n    /**\r\n     * Zooms out all axes on the internal chart.\r\n     */\r\n    XYChartScrollbar.prototype.zoomOutAxes = function () {\r\n        var scrollbarChart = this.scrollbarChart;\r\n        $iter.each(scrollbarChart.xAxes.iterator(), function (x) {\r\n            x.zoom({ start: 0, end: 1 }, true, true);\r\n        });\r\n        $iter.each(scrollbarChart.yAxes.iterator(), function (y) {\r\n            y.zoom({ start: 0, end: 1 }, true, true);\r\n        });\r\n    };\r\n    /**\r\n     * Updates scrollbar thumb.\r\n     */\r\n    XYChartScrollbar.prototype.updateThumb = function () {\r\n        _super.prototype.updateThumb.call(this);\r\n        if (this._unselectedOverlay) {\r\n            var thumb = this.thumb;\r\n            var x = thumb.pixelX || 0;\r\n            var y = thumb.pixelY || 0;\r\n            var w = thumb.pixelWidth || 0;\r\n            var h = thumb.pixelHeight || 0;\r\n            var path = \"\";\r\n            if (this.orientation == \"horizontal\") {\r\n                path = $path.rectToPath({\r\n                    x: -1,\r\n                    y: 0,\r\n                    width: x,\r\n                    height: h\r\n                });\r\n                path += $path.rectToPath({\r\n                    x: x + w,\r\n                    y: 0,\r\n                    width: (this.pixelWidth || 0) - x - w,\r\n                    height: h\r\n                });\r\n            }\r\n            else {\r\n                path = $path.rectToPath({\r\n                    x: 0,\r\n                    y: 0,\r\n                    width: w,\r\n                    height: y\r\n                });\r\n                path += $path.rectToPath({\r\n                    x: 0,\r\n                    y: y + h,\r\n                    width: w,\r\n                    height: (this.pixelHeight || 0) - y - h\r\n                });\r\n            }\r\n            this._unselectedOverlay.path = path;\r\n        }\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    XYChartScrollbar.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            if ($type.hasValue(config.series) && $type.isArray(config.series)) {\r\n                for (var i = 0, len = config.series.length; i < len; i++) {\r\n                    var series = config.series[i];\r\n                    if ($type.hasValue(series) && $type.isString(series)) {\r\n                        if (this.map.hasKey(series)) {\r\n                            config.series[i] = this.map.getKey(series);\r\n                        }\r\n                        else {\r\n                            throw Error(\"XYChartScrollbar error: Series with id `\" + series + \"` does not exist.\");\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    return XYChartScrollbar;\r\n}(Scrollbar));\r\nexport { XYChartScrollbar };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"XYChartScrollbar\"] = XYChartScrollbar;\r\n//# sourceMappingURL=XYChartScrollbar.js.map","/**\r\n * Candlestick Series module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ColumnSeries, ColumnSeriesDataItem } from \"./ColumnSeries\";\r\nimport { visualProperties } from \"../../core/Sprite\";\r\nimport { Candlestick } from \"../elements/Candlestick\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[CandlestickSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar CandlestickSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(CandlestickSeriesDataItem, _super);\r\n    /**\r\n     * Defines a type of [[Component]] this data item is used for\r\n     * @todo Disabled to work around TS bug (see if we can re-enable it again)\r\n     */\r\n    //public _component!: CandlestickSeries;\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CandlestickSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.values.lowValueX = {};\r\n        _this.values.lowValueY = {};\r\n        _this.values.highValueX = {};\r\n        _this.values.highValueY = {};\r\n        _this.className = \"CandlestickSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(CandlestickSeriesDataItem.prototype, \"lowValueX\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.lowValueX.value;\r\n        },\r\n        /**\r\n         * Low value for horizontal axis.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"lowValueX\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CandlestickSeriesDataItem.prototype, \"lowValueY\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.lowValueY.value;\r\n        },\r\n        /**\r\n         * Low value for vertical axis.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"lowValueY\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CandlestickSeriesDataItem.prototype, \"highValueX\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.highValueX.value;\r\n        },\r\n        /**\r\n         * High value for horizontal axis.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"highValueX\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CandlestickSeriesDataItem.prototype, \"highValueY\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.highValueY.value;\r\n        },\r\n        /**\r\n         * High value for vertical axis.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"highValueY\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CandlestickSeriesDataItem.prototype, \"closeValueX\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.valueX.value;\r\n        },\r\n        /**\r\n         * Close value for horizontal axis.\r\n         *\r\n         * This is an alias for `valueX` added for convenience only.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"valueX\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CandlestickSeriesDataItem.prototype, \"closeValueY\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.valueY.value;\r\n        },\r\n        /**\r\n         * Close value for vertical axis.\r\n         *\r\n         * This is an alias for `valueX` added for convenience only.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"valueY\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return CandlestickSeriesDataItem;\r\n}(ColumnSeriesDataItem));\r\nexport { CandlestickSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a candlestick graph.\r\n *\r\n * @see {@link ICandlestickSeriesEvents} for a list of available Events\r\n * @see {@link ICandlestickSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar CandlestickSeries = /** @class */ (function (_super) {\r\n    __extends(CandlestickSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CandlestickSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"CandlestickSeries\";\r\n        _this.groupFields.lowValueX = \"low\";\r\n        _this.groupFields.lowValueY = \"low\";\r\n        _this.groupFields.highValueX = \"high\";\r\n        _this.groupFields.highValueY = \"high\";\r\n        _this.strokeOpacity = 1;\r\n        var interfaceColors = new InterfaceColorSet();\r\n        var positiveColor = interfaceColors.getFor(\"positive\");\r\n        var negativeColor = interfaceColors.getFor(\"negative\");\r\n        _this.dropFromOpenState.properties.fill = negativeColor;\r\n        _this.dropFromOpenState.properties.stroke = negativeColor;\r\n        _this.riseFromOpenState.properties.fill = positiveColor;\r\n        _this.riseFromOpenState.properties.stroke = positiveColor;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    CandlestickSeries.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Candlestick Series\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    CandlestickSeries.prototype.createDataItem = function () {\r\n        return new CandlestickSeriesDataItem();\r\n    };\r\n    /**\r\n     * Validates data item's element, effectively redrawing it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    CandlestickSeries.prototype.validateDataElementReal = function (dataItem) {\r\n        _super.prototype.validateDataElementReal.call(this, dataItem);\r\n        this.validateCandlestick(dataItem);\r\n    };\r\n    CandlestickSeries.prototype.validateCandlestick = function (dataItem) {\r\n        var column = dataItem.column;\r\n        if (column) {\r\n            var lowLine_1 = column.lowLine;\r\n            var highLine_1 = column.highLine;\r\n            if (this.baseAxis == this.xAxis) {\r\n                var x = column.pixelWidth / 2;\r\n                lowLine_1.x = x;\r\n                highLine_1.x = x;\r\n                var open_1 = dataItem.getWorkingValue(this.yOpenField);\r\n                var close_1 = dataItem.getWorkingValue(this.yField);\r\n                var yOpen = this.yAxis.getY(dataItem, this.yOpenField);\r\n                var yClose = this.yAxis.getY(dataItem, this.yField);\r\n                var yLow = this.yAxis.getY(dataItem, this.yLowField);\r\n                var yHigh = this.yAxis.getY(dataItem, this.yHighField);\r\n                var pixelY = column.pixelY;\r\n                lowLine_1.y1 = yLow - pixelY;\r\n                highLine_1.y1 = yHigh - pixelY;\r\n                if (open_1 < close_1) {\r\n                    lowLine_1.y2 = yOpen - pixelY;\r\n                    highLine_1.y2 = yClose - pixelY;\r\n                }\r\n                else {\r\n                    lowLine_1.y2 = yClose - pixelY;\r\n                    highLine_1.y2 = yOpen - pixelY;\r\n                }\r\n            }\r\n            if (this.baseAxis == this.yAxis) {\r\n                var y = column.pixelHeight / 2;\r\n                lowLine_1.y = y;\r\n                highLine_1.y = y;\r\n                var open_2 = dataItem.getWorkingValue(this.xOpenField);\r\n                var close_2 = dataItem.getWorkingValue(this.xField);\r\n                var xOpen = this.xAxis.getX(dataItem, this.xOpenField);\r\n                var xClose = this.xAxis.getX(dataItem, this.xField);\r\n                var xLow = this.xAxis.getX(dataItem, this.xLowField);\r\n                var xHigh = this.xAxis.getX(dataItem, this.xHighField);\r\n                var pixelX = column.pixelX;\r\n                lowLine_1.x1 = xLow - pixelX;\r\n                highLine_1.x1 = xHigh - pixelX;\r\n                if (open_2 < close_2) {\r\n                    lowLine_1.x2 = xOpen - pixelX;\r\n                    highLine_1.x2 = xClose - pixelX;\r\n                }\r\n                else {\r\n                    lowLine_1.x2 = xClose - pixelX;\r\n                    highLine_1.x2 = xOpen - pixelX;\r\n                }\r\n            }\r\n            $iter.each(this.axisRanges.iterator(), function (axisRange) {\r\n                // LOW LINE\r\n                var rangeColumn = dataItem.rangesColumns.getKey(axisRange.uid);\r\n                if (rangeColumn) {\r\n                    var rangeLowLine = rangeColumn.lowLine;\r\n                    rangeLowLine.x = lowLine_1.x;\r\n                    rangeLowLine.y = lowLine_1.y;\r\n                    rangeLowLine.x1 = lowLine_1.x1;\r\n                    rangeLowLine.x2 = lowLine_1.x2;\r\n                    rangeLowLine.y1 = lowLine_1.y1;\r\n                    rangeLowLine.y2 = lowLine_1.y2;\r\n                    // HIGH LINE\r\n                    var rangehighLine = rangeColumn.highLine;\r\n                    rangehighLine.x = highLine_1.x;\r\n                    rangehighLine.y = highLine_1.y;\r\n                    rangehighLine.x1 = highLine_1.x1;\r\n                    rangehighLine.x2 = highLine_1.x2;\r\n                    rangehighLine.y1 = highLine_1.y1;\r\n                    rangehighLine.y2 = highLine_1.y2;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Object.defineProperty(CandlestickSeries.prototype, \"xLowField\", {\r\n        /**\r\n         * A data field to look for \"low\" value for horizontal axis.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Field name\r\n         */\r\n        get: function () {\r\n            return this._xLowField;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CandlestickSeries.prototype, \"yLowField\", {\r\n        /**\r\n         * A data field to look for \"low\" value for vertical axis.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Field name\r\n         */\r\n        get: function () {\r\n            return this._yLowField;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CandlestickSeries.prototype, \"xHighField\", {\r\n        /**\r\n         * A data field to look for \"high\" value for horizontal axis.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Field name\r\n         */\r\n        get: function () {\r\n            return this._xHighField;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CandlestickSeries.prototype, \"yHighField\", {\r\n        /**\r\n         * A data field to look for \"high\" value for vertical axis.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Field name\r\n         */\r\n        get: function () {\r\n            return this._yHighField;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets up which data fields to use for data access.\r\n     */\r\n    CandlestickSeries.prototype.defineFields = function () {\r\n        _super.prototype.defineFields.call(this);\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (xAxis && yAxis) {\r\n            if (this.baseAxis == xAxis) {\r\n                var yAxisFieldName = $utils.capitalize(yAxis.axisFieldName);\r\n                this._yLowField = (\"low\" + yAxisFieldName + \"Y\");\r\n                this._yHighField = (\"high\" + yAxisFieldName + \"Y\");\r\n            }\r\n            if (this.baseAxis == yAxis) {\r\n                var xAxisFieldName = $utils.capitalize(xAxis.axisFieldName);\r\n                this._xLowField = (\"low\" + xAxisFieldName + \"X\");\r\n                this._xHighField = (\"high\" + xAxisFieldName + \"X\");\r\n            }\r\n            this.addValueField(xAxis, this._xValueFields, this._xLowField);\r\n            this.addValueField(xAxis, this._xValueFields, this._xHighField);\r\n            this.addValueField(yAxis, this._yValueFields, this._yLowField);\r\n            this.addValueField(yAxis, this._yValueFields, this._yHighField);\r\n        }\r\n    };\r\n    /**\r\n     * Creates elements in related legend container, that mimics the look of this\r\n     * Series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker  Legend item container\r\n     */\r\n    CandlestickSeries.prototype.createLegendMarker = function (marker) {\r\n        var w = marker.pixelWidth;\r\n        var h = marker.pixelHeight;\r\n        marker.removeChildren();\r\n        var column = marker.createChild(Candlestick);\r\n        column.shouldClone = false;\r\n        column.copyFrom(this.columns.template);\r\n        var cw;\r\n        var ch;\r\n        var highLine = column.lowLine;\r\n        var lowLine = column.highLine;\r\n        if (this.baseAxis == this.yAxis) {\r\n            cw = w / 3;\r\n            ch = h;\r\n            highLine.y = h / 2;\r\n            lowLine.y = h / 2;\r\n            highLine.x2 = w / 3;\r\n            lowLine.x2 = w / 3;\r\n            lowLine.x = w / 3 * 2;\r\n            column.column.x = w / 3;\r\n        }\r\n        else {\r\n            cw = w;\r\n            ch = h / 3;\r\n            highLine.x = w / 2;\r\n            lowLine.x = w / 2;\r\n            highLine.y2 = h / 3;\r\n            lowLine.y2 = h / 3;\r\n            lowLine.y = h / 3 * 2;\r\n            column.column.y = h / 3;\r\n        }\r\n        column.width = cw;\r\n        column.height = ch;\r\n        $object.copyProperties(this, marker, visualProperties);\r\n        $object.copyProperties(this.columns.template, column, visualProperties);\r\n        column.stroke = this.riseFromOpenState.properties.stroke;\r\n        column.fill = column.stroke;\r\n        var legendDataItem = marker.dataItem;\r\n        legendDataItem.color = column.fill;\r\n        legendDataItem.colorOrig = column.fill;\r\n    };\r\n    /**\r\n     * Returns an element to use for Candlestick\r\n     * @ignore\r\n     * @return Element.\r\n     */\r\n    CandlestickSeries.prototype.createColumnTemplate = function () {\r\n        return new Candlestick();\r\n    };\r\n    return CandlestickSeries;\r\n}(ColumnSeries));\r\nexport { CandlestickSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CandlestickSeries\"] = CandlestickSeries;\r\nregistry.registeredClasses[\"CandlestickSeriesDataItem\"] = CandlestickSeriesDataItem;\r\n//# sourceMappingURL=CandlestickSeries.js.map","/**\r\n * Column series module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { XYSeries, XYSeriesDataItem } from \"./XYSeries\";\r\nimport { visualProperties } from \"../../core/Sprite\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { Dictionary } from \"../../core/utils/Dictionary\";\r\nimport { ValueAxis } from \"../axes/ValueAxis\";\r\nimport { CategoryAxis } from \"../axes/CategoryAxis\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Column } from \"../elements/Column\";\r\nimport { RoundedRectangle } from \"../../core/elements/RoundedRectangle\";\r\nimport { percent, Percent } from \"../../core/utils/Percent\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { Disposer } from \"../../core/utils/Disposer\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[ColumnSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar ColumnSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(ColumnSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ColumnSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ColumnSeriesDataItem\";\r\n        _this.locations[\"dateX\"] = 0.5;\r\n        _this.locations[\"dateY\"] = 0.5;\r\n        _this.locations[\"categoryX\"] = 0.5;\r\n        _this.locations[\"categoryY\"] = 0.5;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnSeriesDataItem.prototype, \"column\", {\r\n        /**\r\n         * @return Column\r\n         */\r\n        get: function () {\r\n            return this._column;\r\n        },\r\n        /**\r\n         * A column used to draw a column for this data item.\r\n         *\r\n         * @param column\r\n         */\r\n        set: function (column) {\r\n            this.setColumn(column);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnSeriesDataItem.prototype.setColumn = function (column) {\r\n        var _this = this;\r\n        if (this._column && column != this._column) {\r\n            $array.remove(this.sprites, this._column);\r\n        }\r\n        this._column = column;\r\n        if (column) {\r\n            var prevDataItem = column.dataItem;\r\n            if (prevDataItem && prevDataItem != this) {\r\n                prevDataItem.column = undefined;\r\n            }\r\n            this.addSprite(column);\r\n            this._disposers.push(new Disposer(function () {\r\n                // TODO investigate why component is undefined\r\n                // https://codepen.io/team/amcharts/pen/dac4be245d658233a6d7e5597df2208b?editors=0010\r\n                if (_this.component) {\r\n                    _this.component.columns.removeValue(column);\r\n                }\r\n            }));\r\n        }\r\n    };\r\n    Object.defineProperty(ColumnSeriesDataItem.prototype, \"width\", {\r\n        get: function () {\r\n            var width = this.properties.width;\r\n            if (this._adapterO) {\r\n                width = this._adapterO.apply(\"width\", width);\r\n            }\r\n            return width;\r\n        },\r\n        set: function (value) {\r\n            if (this.properties.width != value) {\r\n                this.properties.width = value;\r\n                if (this.component) {\r\n                    this.component.validateDataElement(this);\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColumnSeriesDataItem.prototype, \"rangesColumns\", {\r\n        /**\r\n         * A dictionary storing axes ranges columns by axis uid\r\n         */\r\n        get: function () {\r\n            if (!this._rangesColumns) {\r\n                this._rangesColumns = new Dictionary();\r\n            }\r\n            return this._rangesColumns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ColumnSeriesDataItem;\r\n}(XYSeriesDataItem));\r\nexport { ColumnSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a column graph.\r\n *\r\n * @see {@link IColumnSeriesEvents} for a list of available Events\r\n * @see {@link IColumnSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar ColumnSeries = /** @class */ (function (_super) {\r\n    __extends(ColumnSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ColumnSeries() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Start location within cell for columns.\r\n         */\r\n        _this._startLocation = 0;\r\n        /**\r\n         * End location within cell for columns.\r\n         */\r\n        _this._endLocation = 1;\r\n        _this.className = \"ColumnSeries\";\r\n        _this.width = percent(100);\r\n        _this.height = percent(100);\r\n        _this.strokeOpacity = 0;\r\n        _this.fillOpacity = 1;\r\n        _this.clustered = true;\r\n        var columnsContainer = _this.mainContainer.createChild(Container);\r\n        columnsContainer.shouldClone = false;\r\n        columnsContainer.isMeasured = false;\r\n        columnsContainer.layout = \"none\";\r\n        _this._columnsContainer = columnsContainer;\r\n        _this.columns.template.pixelPerfect = false;\r\n        _this.tooltipColorSource = _this.columns.template;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnSeries.prototype, \"columnsContainer\", {\r\n        /**\r\n         * A container that columns are created in.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        get: function () {\r\n            return this._columnsContainer;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    ColumnSeries.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Column Series\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    ColumnSeries.prototype.createDataItem = function () {\r\n        return new ColumnSeriesDataItem();\r\n    };\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ColumnSeries.prototype.validate = function () {\r\n        //@todo Check if we can do better than use `instanceof`\r\n        // find start/end locations based on clustered/stacked settings\r\n        // go through chart series instead of base axis series, because axis series doesn't maintain order\r\n        var _this = this;\r\n        this.group.node.removeAttribute(\"fill\");\r\n        if (this.chart && this.xAxis && this.yAxis) {\r\n            var baseAxisSeries = this.chart.series;\r\n            var clusterCount_1 = 0;\r\n            var index_1 = 0;\r\n            var sortedByAxis_1 = [];\r\n            $iter.each(baseAxisSeries.iterator(), function (series) {\r\n                if (series instanceof ColumnSeries) {\r\n                    if (_this.baseAxis == series.baseAxis) {\r\n                        var index_2;\r\n                        if (_this.baseAxis == _this.xAxis) {\r\n                            index_2 = _this.chart.yAxes.indexOf(series.yAxis);\r\n                        }\r\n                        else {\r\n                            index_2 = _this.chart.xAxes.indexOf(series.xAxis);\r\n                        }\r\n                        sortedByAxis_1.push({ series: series, axis: index_2 });\r\n                    }\r\n                }\r\n            });\r\n            sortedByAxis_1.sort(function (a, b) { return a.axis - b.axis; });\r\n            var prevAxisIndex_1;\r\n            $array.each(sortedByAxis_1, function (sortedItem) {\r\n                var series = sortedItem.series;\r\n                if (series instanceof ColumnSeries) {\r\n                    if ((!series.stacked && series.clustered) || (prevAxisIndex_1 != sortedItem.axis && series.clustered)) {\r\n                        clusterCount_1++;\r\n                    }\r\n                    if (series == _this) {\r\n                        index_1 = clusterCount_1 - 1;\r\n                    }\r\n                }\r\n                prevAxisIndex_1 = sortedItem.axis;\r\n            });\r\n            if (!this.clustered) {\r\n                index_1 = 0;\r\n                clusterCount_1 = 1;\r\n            }\r\n            var renderer = this.baseAxis.renderer;\r\n            var cellStartLocation = renderer.cellStartLocation;\r\n            var cellEndLocation = renderer.cellEndLocation;\r\n            this._startLocation = cellStartLocation + (index_1 / clusterCount_1) * (cellEndLocation - cellStartLocation);\r\n            this._endLocation = cellStartLocation + (index_1 + 1) / clusterCount_1 * (cellEndLocation - cellStartLocation);\r\n            var xAxis = this.xAxis;\r\n            var yAxis = this.yAxis;\r\n            if (xAxis instanceof CategoryAxis && yAxis instanceof ValueAxis) {\r\n                if (xAxis.sortBySeries == this) {\r\n                    this.sortCategoryAxis(xAxis, \"valueY\");\r\n                }\r\n            }\r\n            if (yAxis instanceof CategoryAxis && xAxis instanceof ValueAxis) {\r\n                if (yAxis.sortBySeries == this) {\r\n                    this.sortCategoryAxis(yAxis, \"valueX\");\r\n                }\r\n            }\r\n        }\r\n        _super.prototype.validate.call(this);\r\n        for (var i = 0; i < this.startIndex; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            this.disableUnusedColumns(dataItem);\r\n        }\r\n        for (var i = this.dataItems.length - 1; i > this.endIndex; i--) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            this.disableUnusedColumns(dataItem);\r\n        }\r\n        this._propertiesChanged = false;\r\n    };\r\n    ColumnSeries.prototype.sortCategoryAxis = function (axis, key) {\r\n        var _this = this;\r\n        this.dataItems.values.sort(function (x, y) {\r\n            return y.values[key].workingValue - x.values[key].workingValue;\r\n        });\r\n        var i = 0;\r\n        this.dataItems.each(function (dataItem) {\r\n            dataItem._index = i;\r\n            i++;\r\n        });\r\n        axis.dataItems.each(function (dataItem) {\r\n            var axis = dataItem.component;\r\n            var currentPosition = axis.categoryToPosition(dataItem.category) - dataItem.deltaPosition;\r\n            var seriesDataItem = axis.getSeriesDataItemByCategory(dataItem.category, _this);\r\n            if (seriesDataItem) {\r\n                var index = _this.dataItems.indexOf(seriesDataItem);\r\n                dataItem._index = index;\r\n                var deltaPosition = $math.round((index + 0.5) / _this.dataItems.length - currentPosition, 3);\r\n                if (dataItem.deltaAnimation && !dataItem.deltaAnimation.isDisposed() && dataItem.deltaAnimation.animationOptions[0].to == deltaPosition) {\r\n                    // void\r\n                }\r\n                else if (deltaPosition != $math.round(dataItem.deltaPosition, 3)) {\r\n                    if (dataItem.deltaAnimation) {\r\n                        dataItem.deltaAnimation.stop();\r\n                    }\r\n                    dataItem.deltaAnimation = dataItem.animate({ property: \"deltaPosition\", from: -deltaPosition, to: 0 }, axis.interpolationDuration, axis.interpolationEasing);\r\n                    _this._disposers.push(dataItem.deltaAnimation);\r\n                }\r\n            }\r\n        });\r\n        axis.dataItems.values.sort(function (x, y) {\r\n            return x.index - y.index;\r\n        });\r\n    };\r\n    /**\r\n     * Validates data item's element, effectively redrawing it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    ColumnSeries.prototype.validateDataElement = function (dataItem) {\r\n        // important oder here, first real, then super. we need this to know size\r\n        if (this.chart && this.xAxis && this.yAxis) {\r\n            this.validateDataElementReal(dataItem);\r\n            _super.prototype.validateDataElement.call(this, dataItem);\r\n        }\r\n    };\r\n    /**\r\n     * Returns relative start location for the data item.\r\n     *\r\n     * @param dataItem  Data item\r\n     * @return Location (0-1)\r\n     */\r\n    ColumnSeries.prototype.getStartLocation = function (dataItem) {\r\n        var startLocation = this._startLocation;\r\n        if (this.baseAxis == this.xAxis) {\r\n            startLocation += dataItem.locations[this.xOpenField] - 0.5;\r\n        }\r\n        else {\r\n            startLocation += dataItem.locations[this.yOpenField] - 0.5;\r\n        }\r\n        return startLocation;\r\n    };\r\n    /**\r\n     * [handleDataItemWorkingValueChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    /*\r\n   public handleDataItemWorkingValueChange(dataItem?: this[\"_dataItem\"], name?: string): void {\r\n       if (this.simplifiedProcessing) {\r\n           this.validateDataElement(dataItem);\r\n       }\r\n       else {\r\n           super.handleDataItemWorkingValueChange(dataItem, name);\r\n       }\r\n   }*/\r\n    /**\r\n     * Returns relative end location for the data item.\r\n     *\r\n     * @param dataItem  Data item\r\n     * @return Location (0-1)\r\n     */\r\n    ColumnSeries.prototype.getEndLocation = function (dataItem) {\r\n        var endLocation = this._endLocation;\r\n        if (this.baseAxis == this.xAxis) {\r\n            endLocation += dataItem.locations[this.xField] - 0.5;\r\n        }\r\n        else {\r\n            endLocation += dataItem.locations[this.yField] - 0.5;\r\n        }\r\n        return endLocation;\r\n    };\r\n    /**\r\n     * Validates data item's elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    ColumnSeries.prototype.validateDataElementReal = function (dataItem) {\r\n        var _this = this;\r\n        //\tif (dataItem.hasValue([this.xField, this.yField])) { // todo: this doesn't work with categories, think of a better way\r\n        var l;\r\n        var r;\r\n        var t;\r\n        var b;\r\n        var startLocation = this.getStartLocation(dataItem);\r\n        var endLocation = this.getEndLocation(dataItem);\r\n        var xField = this.xField;\r\n        var xOpenField = this.xOpenField;\r\n        var yField = this.yField;\r\n        var yOpenField = this.yOpenField;\r\n        var template = this.columns.template;\r\n        var percentWidth = template.percentWidth;\r\n        var percentHeight = template.percentHeight;\r\n        var pixelWidth = template.pixelWidth;\r\n        var pixelHeight = template.pixelHeight;\r\n        var maxWidth = template.maxWidth;\r\n        var maxHeight = template.maxHeight;\r\n        var paddingLeft = template.pixelPaddingLeft;\r\n        var paddingRight = template.pixelPaddingRight;\r\n        var paddingTop = template.pixelPaddingTop;\r\n        var paddingBottom = template.pixelPaddingBottom;\r\n        var outOfBounds = false;\r\n        var diw = dataItem.width;\r\n        if ($type.hasValue(diw)) {\r\n            if ($type.isNumber(diw)) {\r\n                pixelWidth = diw;\r\n            }\r\n            if (diw instanceof Percent) {\r\n                percentWidth = diw.value * 100;\r\n            }\r\n        }\r\n        // two category axes\r\n        if ((this.xAxis instanceof CategoryAxis) && (this.yAxis instanceof CategoryAxis)) {\r\n            if (!dataItem.hasValue(this._xValueFields) || !dataItem.hasValue(this._yValueFields)) {\r\n                return;\r\n            }\r\n            startLocation = 0;\r\n            endLocation = 1;\r\n            if (!$type.isNaN(percentWidth)) {\r\n                var offset = $math.round((endLocation - startLocation) * (1 - percentWidth / 100) / 2, 5);\r\n                startLocation += offset;\r\n                endLocation -= offset;\r\n            }\r\n            l = this.xAxis.getX(dataItem, xOpenField, startLocation);\r\n            r = this.xAxis.getX(dataItem, xField, endLocation);\r\n            // in case width is set in pixels\r\n            if ($type.isNaN(percentWidth)) {\r\n                var offset = ((r - l) - pixelWidth) / 2;\r\n                l += offset;\r\n                r -= offset;\r\n            }\r\n            // in case max width is set in pixels\r\n            if (!$type.isNaN(maxWidth) && maxWidth < Math.abs(r - l)) {\r\n                var offset = ((r - l) - maxWidth) / 2;\r\n                l += offset;\r\n                r -= offset;\r\n            }\r\n            startLocation = 0;\r\n            endLocation = 1;\r\n            if (!$type.isNaN(percentHeight)) {\r\n                var offset = $math.round((1 - percentHeight / 100) / 2, 5);\r\n                startLocation += offset;\r\n                endLocation -= offset;\r\n            }\r\n            t = this.yAxis.getY(dataItem, yOpenField, startLocation);\r\n            b = this.yAxis.getY(dataItem, yField, endLocation);\r\n            // in case width is set in pixels\r\n            if ($type.isNaN(percentHeight)) {\r\n                var offset = ((b - t) - pixelHeight) / 2;\r\n                b += offset;\r\n                t -= offset;\r\n            }\r\n            // in case max width is set in pixels\r\n            if (!$type.isNaN(maxHeight) && maxHeight < Math.abs(b - t)) {\r\n                var offset = ((b - t) - maxHeight) / 2;\r\n                b += offset;\r\n                t -= offset;\r\n            }\r\n            r = this.fixHorizontalCoordinate(r);\r\n            l = this.fixHorizontalCoordinate(l);\r\n            t = this.fixVerticalCoordinate(t);\r\n            b = this.fixVerticalCoordinate(b);\r\n        }\r\n        else if (this.baseAxis == this.xAxis) {\r\n            if (!dataItem.hasValue(this._yValueFields)) {\r\n                return;\r\n            }\r\n            // in case width is set in percent\r\n            if (!$type.isNaN(percentWidth)) {\r\n                var offset = $math.round((endLocation - startLocation) * (1 - percentWidth / 100) / 2, 5);\r\n                startLocation += offset;\r\n                endLocation -= offset;\r\n            }\r\n            l = this.xAxis.getX(dataItem, xOpenField, startLocation);\r\n            r = this.xAxis.getX(dataItem, xField, endLocation);\r\n            // in case width is set in pixels\r\n            if ($type.isNaN(percentWidth)) {\r\n                var offset = ((r - l) - pixelWidth) / 2;\r\n                l += offset;\r\n                r -= offset;\r\n            }\r\n            // in case width is set in pixels\r\n            if (!$type.isNaN(maxWidth) && maxWidth < Math.abs(r - l)) {\r\n                var offset = ((r - l) - maxWidth) / 2;\r\n                l += offset;\r\n                r -= offset;\r\n            }\r\n            var bottomLocation = dataItem.locations[yOpenField];\r\n            var topLocation = dataItem.locations[yField];\r\n            // otherwise gantt chart will start items in the middle of a cell\r\n            if (this.yAxis instanceof ValueAxis) {\r\n                if (this.dataFields[this.yField] != this.dataFields[this.yOpenField]) {\r\n                    bottomLocation = 0;\r\n                    topLocation = 0;\r\n                }\r\n            }\r\n            b = this.yAxis.getY(dataItem, yOpenField, bottomLocation);\r\n            t = this.yAxis.getY(dataItem, yField, topLocation);\r\n            // used to save location for bullets, but it's not a good approach\r\n            // dataItem.locations[xField] = startLocation + (endLocation - startLocation) / 2;\r\n            var axisLenght = Math.ceil(this.yAxis.axisLength);\r\n            if ((t < 0 && b < 0) || (t > axisLenght && b > axisLenght)) {\r\n                outOfBounds = true;\r\n            }\r\n            t = this.fixVerticalCoordinate(t);\r\n            b = this.fixVerticalCoordinate(b);\r\n            if (Math.abs(r - l) - paddingLeft - paddingRight == 0) {\r\n                outOfBounds = true;\r\n            }\r\n        }\r\n        // horizontal bars\r\n        else {\r\n            if (!dataItem.hasValue(this._xValueFields)) {\r\n                return;\r\n            }\r\n            if (!$type.isNaN(percentHeight)) {\r\n                var offset = $math.round((endLocation - startLocation) * (1 - percentHeight / 100) / 2, 5);\r\n                startLocation += offset;\r\n                endLocation -= offset;\r\n            }\r\n            t = this.yAxis.getY(dataItem, yOpenField, startLocation);\r\n            b = this.yAxis.getY(dataItem, yField, endLocation);\r\n            // in case height is set in pixels\r\n            if ($type.isNaN(percentHeight)) {\r\n                var offset = ((b - t) - pixelHeight) / 2;\r\n                b -= offset;\r\n                t += offset;\r\n            }\r\n            // in case height is set in pixels\r\n            if (!$type.isNaN(maxHeight) && maxHeight < Math.abs(b - t)) {\r\n                var offset = ((b - t) - maxHeight) / 2;\r\n                b -= offset;\r\n                t += offset;\r\n            }\r\n            var rightLocation = dataItem.locations[xField];\r\n            var leftLocation = dataItem.locations[xOpenField];\r\n            // otherwise gantt chart will start items in the middle of a cell\r\n            if (this.xAxis instanceof ValueAxis) {\r\n                if (this.dataFields[this.xField] != this.dataFields[this.xOpenField]) {\r\n                    rightLocation = 0;\r\n                    leftLocation = 0;\r\n                }\r\n            }\r\n            r = this.xAxis.getX(dataItem, xField, rightLocation);\r\n            l = this.xAxis.getX(dataItem, xOpenField, leftLocation);\r\n            // used to save location for bullets, but it's not a good approach\r\n            // dataItem.locations[yField] = startLocation + (endLocation - startLocation) / 2;\r\n            var axisLenght = Math.ceil(this.xAxis.axisLength);\r\n            if ((r < 0 && l < 0) || (r > axisLenght && l > axisLenght)) {\r\n                outOfBounds = true;\r\n            }\r\n            r = this.fixHorizontalCoordinate(r);\r\n            l = this.fixHorizontalCoordinate(l);\r\n            if (Math.abs(t - b) - paddingTop - paddingBottom == 0) {\r\n                outOfBounds = true;\r\n            }\r\n        }\r\n        var w = Math.abs(r - l);\r\n        var h = Math.abs(b - t);\r\n        var x = Math.min(l, r);\r\n        var y = Math.min(t, b);\r\n        if (!outOfBounds) {\r\n            var column_1;\r\n            if (!dataItem.column) {\r\n                column_1 = this.columns.create();\r\n                //$object.forceCopyProperties(this.columns.template, column, visualProperties);\r\n                $object.copyProperties(this, column_1, visualProperties); // need this because 3d columns are not in the same container\r\n                $object.copyProperties(this.columns.template, column_1, visualProperties); // second time, no force, so that columns.template would override series properties\r\n                dataItem.addSprite(column_1);\r\n                dataItem.column = column_1;\r\n                column_1.paper = this.paper; // sometimes pattern is not drawn if is set with adapter without this.\r\n                // accessibility\r\n                if (this.itemsFocusable()) {\r\n                    this.role = \"menu\";\r\n                    column_1.role = \"menuitem\";\r\n                    column_1.focusable = true;\r\n                }\r\n                else {\r\n                    this.role = \"list\";\r\n                    column_1.role = \"listitem\";\r\n                    column_1.focusable = false;\r\n                }\r\n                if (column_1.focusable) {\r\n                    column_1.events.on(\"focus\", function (ev) {\r\n                        column_1.readerTitle = _this.populateString(_this.itemReaderText, dataItem);\r\n                    }, undefined, false);\r\n                    column_1.events.on(\"blur\", function (ev) {\r\n                        column_1.readerTitle = \"\";\r\n                    }, undefined, false);\r\n                }\r\n                if (column_1.hoverable) {\r\n                    column_1.events.on(\"over\", function (ev) {\r\n                        column_1.readerTitle = _this.populateString(_this.itemReaderText, dataItem);\r\n                    }, undefined, false);\r\n                    column_1.events.on(\"out\", function (ev) {\r\n                        column_1.readerTitle = \"\";\r\n                    }, undefined, false);\r\n                }\r\n                column_1.parent = this.columnsContainer;\r\n                column_1.virtualParent = this;\r\n            }\r\n            else {\r\n                column_1 = dataItem.column;\r\n                if (this._propertiesChanged) {\r\n                    $object.copyProperties(this, column_1, visualProperties);\r\n                    $object.copyProperties(this.columns.template, column_1, visualProperties);\r\n                    $array.each(visualProperties, function (property) {\r\n                        column_1[property] = column_1[property];\r\n                    });\r\n                }\r\n            }\r\n            column_1.width = w;\r\n            column_1.height = h;\r\n            column_1.x = x;\r\n            column_1.y = y;\r\n            column_1.realX = l;\r\n            column_1.realY = t;\r\n            column_1.realWidth = r - l;\r\n            column_1.realHeight = b - t;\r\n            this.setColumnStates(column_1);\r\n            if (column_1.invalid) {\r\n                column_1.validate(); // validate as if it was used previously, it will flicker with previous dimensions\r\n            }\r\n            column_1.__disabled = false;\r\n            //column.returnAfterTemp();\r\n            $iter.each(this.axisRanges.iterator(), function (axisRange) {\r\n                var rangeColumn = dataItem.rangesColumns.getKey(axisRange.uid);\r\n                if (!rangeColumn) {\r\n                    rangeColumn = _this.columns.create();\r\n                    //$object.forceCopyProperties(this.columns.template, rangeColumn, visualProperties);\r\n                    $object.copyProperties(axisRange.contents, rangeColumn, visualProperties); // need this because 3d columns are not in the same container\r\n                    dataItem.addSprite(rangeColumn);\r\n                    dataItem.rangesColumns.setKey(axisRange.uid, rangeColumn);\r\n                    rangeColumn.paper = _this.paper; // sometimes pattern is not drawn if is set with adapter without this.\r\n                }\r\n                rangeColumn.parent = axisRange.contents;\r\n                rangeColumn.width = w;\r\n                rangeColumn.height = h;\r\n                rangeColumn.x = x;\r\n                rangeColumn.y = y;\r\n                _this.setColumnStates(rangeColumn);\r\n                if (rangeColumn.invalid) {\r\n                    rangeColumn.validate(); // validate as if it was used previously, it will flicker with previous dimensions\r\n                }\r\n                rangeColumn.__disabled = false;\r\n                //rangeColumn.returnAfterTemp();\r\n            });\r\n        }\r\n        else {\r\n            this.disableUnusedColumns(dataItem);\r\n        }\r\n        dataItem.itemWidth = w;\r\n        dataItem.itemHeight = h;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    ColumnSeries.prototype.disableUnusedColumns = function (dataItem) {\r\n        if (dataItem) {\r\n            if (dataItem.column) {\r\n                // otherwise might flicker when enabling\r\n                dataItem.column.width = 0;\r\n                dataItem.column.height = 0;\r\n                dataItem.column.__disabled = true;\r\n            }\r\n            $iter.each(this.axisRanges.iterator(), function (axisRange) {\r\n                var rangeColumn = dataItem.rangesColumns.getKey(axisRange.uid);\r\n                if (rangeColumn) {\r\n                    // otherwise might flicker when enabling\r\n                    rangeColumn.width = 0;\r\n                    rangeColumn.height = 0;\r\n                    rangeColumn.__disabled = true;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Apply different state/coloring to columns based on the change value.\r\n     *\r\n     * @param sprite  Sprite to apply state to\r\n     * @todo Do not apply accessibility to wicks of the candlesticks\r\n     */\r\n    ColumnSeries.prototype.setColumnStates = function (sprite) {\r\n        if (this._dropFromOpenState || this._dropFromPreviousState || this._riseFromOpenState || this._riseFromPreviousState) {\r\n            var dataItem = sprite.dataItem;\r\n            if (this.xAxis instanceof ValueAxis || this.yAxis instanceof ValueAxis) {\r\n                var open_1;\r\n                var value = void 0;\r\n                var change = void 0;\r\n                if (this.baseAxis == this.yAxis) {\r\n                    if (this.xOpenField && this.xField && this.xAxis instanceof ValueAxis) {\r\n                        open_1 = dataItem.getValue(this.xOpenField);\r\n                        value = dataItem.getValue(this.xField);\r\n                        change = dataItem.getValue(this.xAxis.axisFieldName + \"X\", \"previousChange\");\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.yOpenField && this.yField && this.yAxis instanceof ValueAxis) {\r\n                        open_1 = dataItem.getValue(this.yOpenField);\r\n                        value = dataItem.getValue(this.yField);\r\n                        change = dataItem.getValue(this.yAxis.axisFieldName + \"Y\", \"previousChange\");\r\n                    }\r\n                }\r\n                if (value < open_1) {\r\n                    dataItem.droppedFromOpen = true;\r\n                    sprite.defaultState.copyFrom(this._dropFromOpenState);\r\n                    sprite.setState(this._dropFromOpenState, 0);\r\n                }\r\n                else {\r\n                    dataItem.droppedFromOpen = false;\r\n                    sprite.defaultState.copyFrom(this._riseFromOpenState);\r\n                    sprite.setState(this._riseFromOpenState, 0);\r\n                }\r\n                if (change < 0) {\r\n                    dataItem.droppedFromPrevious = true;\r\n                    sprite.defaultState.copyFrom(this._dropFromPreviousState);\r\n                    sprite.setState((this._dropFromPreviousState), 0);\r\n                }\r\n                else {\r\n                    dataItem.droppedFromPrevious = false;\r\n                    sprite.defaultState.copyFrom(this._riseFromPreviousState);\r\n                    sprite.setState((this._riseFromPreviousState), 0);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(ColumnSeries.prototype, \"columns\", {\r\n        /**\r\n         * A list of column elements in the series.\r\n         *\r\n         * @return Columns\r\n         */\r\n        get: function () {\r\n            if (!this._columns) {\r\n                this._columns = new ListTemplate(this.createColumnTemplate());\r\n                this._disposers.push(new ListDisposer(this._columns));\r\n                this._disposers.push(this._columns.template);\r\n            }\r\n            return this._columns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates and returns a column element to use as a template.\r\n     *\r\n     * @return Column template\r\n     */\r\n    ColumnSeries.prototype.createColumnTemplate = function () {\r\n        return new Column();\r\n    };\r\n    Object.defineProperty(ColumnSeries.prototype, \"clustered\", {\r\n        /**\r\n         * @return Clustered?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"clustered\");\r\n        },\r\n        /**\r\n         * Cluster this series columns?\r\n         *\r\n         * Setting to `false` will make columns overlap with other series.\r\n         *\r\n         * @default true\r\n         * @param value  Clustered?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"clustered\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColumnSeries.prototype, \"dropFromOpenState\", {\r\n        /**\r\n         * @return State\r\n         */\r\n        get: function () {\r\n            if (!this._dropFromOpenState) {\r\n                this._dropFromOpenState = this.states.create(\"dropFromOpenState\");\r\n            }\r\n            return this._dropFromOpenState;\r\n        },\r\n        /**\r\n         * A state to apply to a column when close value is lower than open value.\r\n         *\r\n         * Can be used to differentiate appearance based on value relations.\r\n         *\r\n         * NOTE: this will work only if at least one axis is [[ValueAxis]].\r\n         *\r\n         * @readonly You can modify state object, but can't overwrite it\r\n         * @param  value  State\r\n         */\r\n        set: function (value) {\r\n            this._dropFromOpenState = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColumnSeries.prototype, \"dropFromPreviousState\", {\r\n        /**\r\n         * @return State\r\n         */\r\n        get: function () {\r\n            if (!this._dropFromPreviousState) {\r\n                this._dropFromPreviousState = this.states.create(\"dropFromPreviousState\");\r\n            }\r\n            return this._dropFromPreviousState;\r\n        },\r\n        /**\r\n         * A state to apply to a column when its value is lower value of a previous\r\n         * column.\r\n         *\r\n         * Can be used to differentiate appearance based on value relations.\r\n         *\r\n         * @readonly You can modify state object, but can't overwrite it\r\n         * @param  value  State\r\n         */\r\n        set: function (value) {\r\n            this._dropFromPreviousState = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColumnSeries.prototype, \"riseFromOpenState\", {\r\n        /**\r\n         * @return State\r\n         */\r\n        get: function () {\r\n            if (!this._riseFromOpenState) {\r\n                this._riseFromOpenState = this.states.create(\"riseFromOpenState\");\r\n            }\r\n            return this._riseFromOpenState;\r\n        },\r\n        /**\r\n         * A state to apply to a column when close value is same or higher than open\r\n         * value.\r\n         *\r\n         * Can be used to differentiate appearance based on value relations.\r\n         *\r\n         * NOTE: this will work only if at least one axis is [[ValueAxis]].\r\n         *\r\n         * @readonly You can modify state object, but can't overwrite it\r\n         * @param  value  State\r\n         */\r\n        set: function (value) {\r\n            this._riseFromOpenState = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColumnSeries.prototype, \"riseFromPreviousState\", {\r\n        /**\r\n         * @return State\r\n         */\r\n        get: function () {\r\n            if (!this._riseFromPreviousState) {\r\n                this._riseFromPreviousState = this.states.create(\"riseFromPreviousState\");\r\n            }\r\n            return this._riseFromPreviousState;\r\n        },\r\n        /**\r\n         * A state to apply to a column when its value is same or higher than value\r\n         * of a previous column.\r\n         *\r\n         * Can be used to differentiate appearance based on value relations.\r\n         *\r\n         * @readonly You can modify state object, but can't overwrite it\r\n         * @param  value  State\r\n         */\r\n        set: function (value) {\r\n            this._riseFromPreviousState = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates value of the related legend item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    ColumnSeries.prototype.updateLegendValue = function (dataItem, notRange) {\r\n        var _this = this;\r\n        _super.prototype.updateLegendValue.call(this, dataItem, notRange);\r\n        if (this.legendDataItem) {\r\n            var marker = this.legendDataItem.marker;\r\n            var fromOpenState_1;\r\n            var fromPreviousState_1;\r\n            if (dataItem) {\r\n                if (dataItem.droppedFromOpen) {\r\n                    fromOpenState_1 = this._dropFromOpenState;\r\n                }\r\n                else {\r\n                    fromOpenState_1 = this._riseFromOpenState;\r\n                }\r\n                if (dataItem.droppedFromPrevious) {\r\n                    fromPreviousState_1 = this._dropFromPreviousState;\r\n                }\r\n                else {\r\n                    fromPreviousState_1 = this._riseFromPreviousState;\r\n                }\r\n            }\r\n            $iter.each(marker.children.iterator(), function (child) {\r\n                if (dataItem) {\r\n                    child.setState(fromPreviousState_1);\r\n                    child.setState(fromOpenState_1);\r\n                }\r\n                else {\r\n                    // todo: think what to do here, maybe apply above states based on totals?\r\n                    child.setState(_this._riseFromPreviousState);\r\n                    child.setState(_this._riseFromOpenState);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Creates elements in related legend container, that mimics the look of this\r\n     * Series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker  Legend item container\r\n     */\r\n    ColumnSeries.prototype.createLegendMarker = function (marker) {\r\n        var w = marker.pixelWidth;\r\n        var h = marker.pixelHeight;\r\n        marker.removeChildren();\r\n        var column = marker.createChild(RoundedRectangle);\r\n        column.shouldClone = false;\r\n        $object.copyProperties(this, column, visualProperties);\r\n        column.copyFrom(this.columns.template);\r\n        column.padding(0, 0, 0, 0); // if columns will have padding (which is often), legend marker will be very narrow\r\n        column.width = w;\r\n        column.height = h;\r\n        var legendDataItem = marker.dataItem;\r\n        legendDataItem.color = this.fill;\r\n        legendDataItem.colorOrig = this.fill;\r\n    };\r\n    /**\r\n     * Copies all properties from another instance of [[ColumnSeries]].\r\n     *\r\n     * @param source  Source series\r\n     */\r\n    ColumnSeries.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.columns.template.copyFrom(source.columns.template);\r\n    };\r\n    /**\r\n    * returns bullet x location\r\n    * @ignore\r\n    */\r\n    ColumnSeries.prototype.getBulletLocationX = function (bullet, field) {\r\n        if (this.baseAxis == this.xAxis) {\r\n            var bulletLocationX = bullet.locationX;\r\n            if (!$type.isNumber(bulletLocationX)) {\r\n                bulletLocationX = 0.5;\r\n            }\r\n            var endLocation = this.getEndLocation(bullet.dataItem);\r\n            var startLocation = this.getStartLocation(bullet.dataItem);\r\n            return endLocation - (endLocation - startLocation) * bulletLocationX;\r\n        }\r\n        else {\r\n            return _super.prototype.getBulletLocationX.call(this, bullet, field);\r\n        }\r\n    };\r\n    /**\r\n    * returns bullet y location\r\n    * @ignore\r\n    */\r\n    ColumnSeries.prototype.getBulletLocationY = function (bullet, field) {\r\n        if (this.baseAxis == this.yAxis) {\r\n            var bulletLocationY = bullet.locationY;\r\n            if (!$type.isNumber(bulletLocationY)) {\r\n                bulletLocationY = 0.5;\r\n            }\r\n            var endLocation = this.getEndLocation(bullet.dataItem);\r\n            var startLocation = this.getStartLocation(bullet.dataItem);\r\n            return endLocation - (endLocation - startLocation) * bulletLocationY;\r\n        }\r\n        else {\r\n            return _super.prototype.getBulletLocationY.call(this, bullet, field);\r\n        }\r\n    };\r\n    ColumnSeries.prototype.getAdjustedXLocation = function (dataItem, field, bulletLocationX) {\r\n        //if (this.baseAxis == this.xAxis) {\r\n        if (!$type.isNumber(bulletLocationX)) {\r\n            if (dataItem) {\r\n                bulletLocationX = dataItem.locations[field];\r\n            }\r\n            else {\r\n                bulletLocationX = 0.5;\r\n            }\r\n        }\r\n        return this._endLocation - (this._endLocation - this._startLocation) * (1 - bulletLocationX);\r\n        //}\r\n        //else {\r\n        //\treturn super.getAdjustedXLocation(dataItem, field);\r\n        //}\r\n    };\r\n    ColumnSeries.prototype.getAdjustedYLocation = function (dataItem, field, bulletLocationY) {\r\n        //if (this.baseAxis == this.yAxis) {\r\n        if (!$type.isNumber(bulletLocationY)) {\r\n            if (dataItem) {\r\n                bulletLocationY = dataItem.locations[field];\r\n            }\r\n            else {\r\n                bulletLocationY = 0.5;\r\n            }\r\n        }\r\n        return this._endLocation - (this._endLocation - this._startLocation) * bulletLocationY;\r\n        //}\r\n        //else {\r\n        //\treturn super.getAdjustedYLocation(dataItem, field);\r\n        //}\r\n    };\r\n    /**\r\n     * @ignore Exclude from docs\r\n     */\r\n    ColumnSeries.prototype.fixVerticalCoordinate = function (coordinate) {\r\n        var paddingBottom = this.columns.template.pixelPaddingBottom;\r\n        var paddingTop = this.columns.template.pixelPaddingTop;\r\n        var minY = -paddingTop;\r\n        var maxY = this.yAxis.axisLength + paddingBottom;\r\n        return $math.fitToRange(coordinate, minY, maxY);\r\n    };\r\n    /**\r\n     * @ignore Exclude from docs\r\n     */\r\n    ColumnSeries.prototype.fixHorizontalCoordinate = function (coordinate) {\r\n        var paddingLeft = this.columns.template.pixelPaddingLeft;\r\n        var paddingRight = this.columns.template.pixelPaddingRight;\r\n        var minX = -paddingLeft;\r\n        var maxX = this.xAxis.axisLength + paddingRight;\r\n        return $math.fitToRange(coordinate, minX, maxX);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    ColumnSeries.prototype.disposeData = function () {\r\n        _super.prototype.disposeData.call(this);\r\n        this.columns.clear();\r\n    };\r\n    return ColumnSeries;\r\n}(XYSeries));\r\nexport { ColumnSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ColumnSeries\"] = ColumnSeries;\r\nregistry.registeredClasses[\"ColumnSeriesDataItem\"] = ColumnSeriesDataItem;\r\n//# sourceMappingURL=ColumnSeries.js.map","/**\r\n * 3D column series module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ColumnSeries, ColumnSeriesDataItem } from \"../series/ColumnSeries\";\r\nimport { Column3D } from \"../elements/Column3D\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\nvar ColumnSeries3DDataItem = /** @class */ (function (_super) {\r\n    __extends(ColumnSeries3DDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ColumnSeries3DDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ColumnSeries3DDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return ColumnSeries3DDataItem;\r\n}(ColumnSeriesDataItem));\r\nexport { ColumnSeries3DDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a 3D column graph.\r\n *\r\n * @see {@link IColumnSeries3DEvents} for a list of available Events\r\n * @see {@link IColumnSeries3DAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar ColumnSeries3D = /** @class */ (function (_super) {\r\n    __extends(ColumnSeries3D, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ColumnSeries3D() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ColumnSeries3D\";\r\n        _this.columns.template.column3D.applyOnClones = true;\r\n        _this.columns.template.hiddenState.properties.visible = true;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnSeries3D.prototype, \"columnsContainer\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            var chart = this.chart;\r\n            if (chart && chart.columnsContainer && chart.leftAxesContainer.layout != \"vertical\" && chart.rightAxesContainer.layout != \"vertical\" && chart.bottomAxesContainer.layout != \"horizontal\" && chart.topAxesContainer.layout != \"horizontal\") {\r\n                return chart.columnsContainer;\r\n            }\r\n            else {\r\n                return this._columnsContainer;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Validates data item's elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    ColumnSeries3D.prototype.validateDataElementReal = function (dataItem) {\r\n        _super.prototype.validateDataElementReal.call(this, dataItem);\r\n        if (dataItem.column) {\r\n            dataItem.column.dx = this.dx;\r\n            dataItem.column.dy = this.dy;\r\n        }\r\n    };\r\n    /**\r\n     * Validates data item's elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ColumnSeries3D.prototype.validateDataElements = function () {\r\n        _super.prototype.validateDataElements.call(this);\r\n        if (this.chart) {\r\n            this.chart.invalidateLayout();\r\n        }\r\n    };\r\n    /**\r\n     * Returns an element to use for 3D bar.\r\n     * @ignore\r\n     * @return Element.\r\n     */\r\n    ColumnSeries3D.prototype.createColumnTemplate = function () {\r\n        return new Column3D();\r\n    };\r\n    Object.defineProperty(ColumnSeries3D.prototype, \"depth\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Depth (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"depth\");\r\n        },\r\n        /**\r\n         * Depth (height) of the slices in the series in pixels.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Depth (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"depth\", value, true);\r\n            var template = this.columns.template; // todo: Cone is not Rectangle3D, maybe we should do some I3DShape?\r\n            template.column3D.depth = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColumnSeries3D.prototype, \"angle\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Angle (0-360)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"angle\");\r\n        },\r\n        /**\r\n         * Angle of view for the slices in series. (0-360)\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @param value  Angle (0-360)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"angle\", value);\r\n            var template = this.columns.template;\r\n            template.column3D.angle = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ColumnSeries3D;\r\n}(ColumnSeries));\r\nexport { ColumnSeries3D };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ColumnSeries3D\"] = ColumnSeries3D;\r\nregistry.registeredClasses[\"ColumnSeries3DDataItem\"] = ColumnSeries3DDataItem;\r\n//# sourceMappingURL=ColumnSeries3D.js.map","/**\r\n * ConeSeries module\r\n * Not recommended using if you use scrollbars or your chart is zoomable in some other way.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ColumnSeries, ColumnSeriesDataItem } from \"./ColumnSeries\";\r\nimport { ConeColumn } from \"../elements/ConeColumn\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[ConeSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar ConeSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(ConeSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ConeSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ConeSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return ConeSeriesDataItem;\r\n}(ColumnSeriesDataItem));\r\nexport { ConeSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a cone graph.\r\n *\r\n * @see {@link IConeSeriesEvents} for a list of available Events\r\n * @see {@link IConeSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar ConeSeries = /** @class */ (function (_super) {\r\n    __extends(ConeSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ConeSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ConeSeries\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns an element to use for Candlestick\r\n     * @ignore\r\n     * @return Element.\r\n     */\r\n    ConeSeries.prototype.createColumnTemplate = function () {\r\n        return new ConeColumn();\r\n    };\r\n    /**\r\n     * Returns an SVG path to use as series mask.\r\n     *\r\n     * @return SVG path\r\n     */\r\n    ConeSeries.prototype.getMaskPath = function () {\r\n        var dx = 0;\r\n        var dy = 0;\r\n        var column = this.columns.getIndex(0);\r\n        if (column) {\r\n            if (this.baseAxis == this.xAxis) {\r\n                dy = column.coneColumn.innerWidth / 2 + 1;\r\n            }\r\n            else {\r\n                dx = column.coneColumn.innerHeight / 2 + 1;\r\n            }\r\n            return $path.rectToPath({\r\n                x: -dx,\r\n                y: 0,\r\n                width: this.xAxis.axisLength + dx,\r\n                height: this.yAxis.axisLength + dy\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Validates data item's elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    ConeSeries.prototype.validateDataElementReal = function (dataItem) {\r\n        _super.prototype.validateDataElementReal.call(this, dataItem);\r\n        var column = dataItem.column;\r\n        if (column) {\r\n            var coneColumn = dataItem.column.coneColumn;\r\n            coneColumn.fill = dataItem.column.fill;\r\n            if (this.baseAxis == this.yAxis) {\r\n                coneColumn.orientation = \"horizontal\";\r\n            }\r\n            else {\r\n                coneColumn.orientation = \"vertical\";\r\n            }\r\n        }\r\n    };\r\n    return ConeSeries;\r\n}(ColumnSeries));\r\nexport { ConeSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ConeSeries\"] = ConeSeries;\r\nregistry.registeredClasses[\"ConeSeriesDataItem\"] = ConeSeriesDataItem;\r\n//# sourceMappingURL=ConeSeries.js.map","/**\r\n * CurvedColumnSeries module.\r\n *\r\n * Not recommended using if you use scrollbars or your chart is zoomable in some other way.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ColumnSeries, ColumnSeriesDataItem } from \"./ColumnSeries\";\r\nimport { CurvedColumn } from \"../elements/CurvedColumn\";\r\nimport { registry } from \"../../core/Registry\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[CurvedColumnSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar CurvedColumnSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(CurvedColumnSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CurvedColumnSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"CurvedColumnSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return CurvedColumnSeriesDataItem;\r\n}(ColumnSeriesDataItem));\r\nexport { CurvedColumnSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a curved columns graph.\r\n *\r\n * @see {@link ICurvedColumnSeriesEvents} for a list of available Events\r\n * @see {@link ICurvedColumnSeriesAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar CurvedColumnSeries = /** @class */ (function (_super) {\r\n    __extends(CurvedColumnSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function CurvedColumnSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"CurvedColumnSeries\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns an element to use for the curved column.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Element.\r\n     */\r\n    CurvedColumnSeries.prototype.createColumnTemplate = function () {\r\n        return new CurvedColumn();\r\n    };\r\n    /**\r\n     * Validates data item's elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    CurvedColumnSeries.prototype.validateDataElementReal = function (dataItem) {\r\n        _super.prototype.validateDataElementReal.call(this, dataItem);\r\n        var column = dataItem.column;\r\n        column = dataItem.column;\r\n        if (column) {\r\n            var curvedColumn = dataItem.column.curvedColumn;\r\n            curvedColumn.fill = dataItem.column.fill;\r\n            if (this.baseAxis == this.yAxis) {\r\n                column.orientation = \"horizontal\";\r\n            }\r\n            else {\r\n                column.orientation = \"vertical\";\r\n            }\r\n        }\r\n    };\r\n    return CurvedColumnSeries;\r\n}(ColumnSeries));\r\nexport { CurvedColumnSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"CurvedColumnSeries\"] = CurvedColumnSeries;\r\nregistry.registeredClasses[\"CurvedColumnSeriesDataItem\"] = CurvedColumnSeriesDataItem;\r\n//# sourceMappingURL=CurvedColumnSeries.js.map","/**\r\n * Defines Funnel Chart Series.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { PercentSeries, PercentSeriesDataItem } from \"./PercentSeries\";\r\nimport { FunnelSlice } from \"../elements/FunnelSlice\";\r\nimport { FunnelTick } from \"../elements/FunnelTick\";\r\nimport { ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { Disposer } from \"../../core/utils/Disposer\";\r\nimport { options } from \"../../core/Options\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n//@todo: sequenced?\r\n/**\r\n * Defines a [[DataItem]] for [[FunnelSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar FunnelSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(FunnelSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FunnelSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"FunnelSeriesDataItem\";\r\n        // this helps to invalidate series when value is 0 an it is hidden (no other events are triggered then)\r\n        _this.events.on(\"visibilitychanged\", function () {\r\n            if (_this.component) {\r\n                _this.component.invalidateDataItems();\r\n            }\r\n        }, _this, false);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(FunnelSeriesDataItem.prototype, \"sliceLink\", {\r\n        /**\r\n         * A [[FunnelSlice]] element, related to this data item ([[FunnelSlice]]).\r\n         *\r\n         * @readonly\r\n         * @return Slice element\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._sliceLink) {\r\n                var sliceLink_1 = this.component.sliceLinks.create();\r\n                this._sliceLink = sliceLink_1;\r\n                this._disposers.push(sliceLink_1);\r\n                sliceLink_1.parent = this.component.slicesContainer;\r\n                this._disposers.push(new Disposer(function () {\r\n                    if (_this.component) {\r\n                        _this.component.sliceLinks.removeValue(sliceLink_1);\r\n                    }\r\n                }));\r\n                this.addSprite(sliceLink_1);\r\n                sliceLink_1.visible = this.visible;\r\n            }\r\n            return this._sliceLink;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FunnelSeriesDataItem;\r\n}(PercentSeriesDataItem));\r\nexport { FunnelSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a FunnelSlice series on a [[SlicedChart]].\r\n *\r\n * @see {@link IFunnelSeriesEvents} for a list of available Events\r\n * @see {@link IFunnelSeriesAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/sliced-chart/} for documentation\r\n * @important\r\n */\r\nvar FunnelSeries = /** @class */ (function (_super) {\r\n    __extends(FunnelSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FunnelSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this._nextY = 0;\r\n        _this.className = \"FunnelSeries\";\r\n        _this.orientation = \"vertical\";\r\n        _this.width = percent(100);\r\n        _this.height = percent(100);\r\n        _this.slicesContainer.width = percent(100);\r\n        _this.slicesContainer.height = percent(100);\r\n        _this._disposers.push(_this.slicesContainer.events.on(\"maxsizechanged\", _this.invalidateDataItems, _this, false));\r\n        _this.labelsOpposite = true;\r\n        _this.labelsContainer.layout = \"absolute\";\r\n        _this.bottomRatio = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Creates a [[FunnelSlice]] element.\r\n     *\r\n     * @return Slice\r\n     */\r\n    FunnelSeries.prototype.createSlice = function () {\r\n        return new FunnelSlice();\r\n    };\r\n    /**\r\n     * Creates a [[FunnelTick]] element.\r\n     *\r\n     * @return Tick\r\n     */\r\n    FunnelSeries.prototype.createTick = function () {\r\n        return new FunnelTick();\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    FunnelSeries.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Funnel Series\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    FunnelSeries.prototype.createDataItem = function () {\r\n        return new FunnelSeriesDataItem();\r\n    };\r\n    /**\r\n     * Inits FunnelSlice.\r\n     *\r\n     * @param slice to init\r\n     */\r\n    FunnelSeries.prototype.initSlice = function (slice) {\r\n        slice.isMeasured = false;\r\n        slice.defaultState.properties.scale = 1;\r\n        slice.observe(\"scale\", this.handleSliceScale, this);\r\n        slice.observe([\"dx\", \"dy\", \"x\", \"y\"], this.handleSliceMove, this);\r\n        slice.tooltipText = \"{category}: {value.percent.formatNumber('#.#')}% ({value.value})\";\r\n        var hoverState = slice.states.create(\"hover\");\r\n        hoverState.properties.expandDistance = 0.2;\r\n    };\r\n    /**\r\n     * [initLabel description]\r\n     *\r\n     * @todo Description\r\n     * @param label [description]\r\n     */\r\n    FunnelSeries.prototype.initLabel = function (label) {\r\n        _super.prototype.initLabel.call(this, label);\r\n        label.verticalCenter = \"middle\";\r\n        label.horizontalCenter = \"middle\";\r\n        label.isMeasured = true;\r\n        label.padding(5, 5, 5, 5);\r\n    };\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    FunnelSeries.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        this._nextY = 0;\r\n    };\r\n    /**\r\n     * [validateDataElements description]\r\n     *\r\n     * @todo Description\r\n     * @ignore Exclude from docs\r\n     */\r\n    FunnelSeries.prototype.validateDataElements = function () {\r\n        var _this = this;\r\n        var slicesContainer = this.slicesContainer;\r\n        var labelsContainer = this.labelsContainer;\r\n        var labelTemplate = this.labels.template;\r\n        if (this.alignLabels) {\r\n            labelTemplate.interactionsEnabled = true;\r\n            slicesContainer.isMeasured = true;\r\n            labelsContainer.isMeasured = true;\r\n        }\r\n        else {\r\n            labelTemplate.interactionsEnabled = false;\r\n            slicesContainer.isMeasured = false;\r\n            labelsContainer.isMeasured = false;\r\n        }\r\n        var total = 0;\r\n        var count = 0;\r\n        this.dataItems.each(function (dItem) {\r\n            if ($type.hasValue(dItem.value)) {\r\n                count++;\r\n                if (dItem.value > 0) {\r\n                    total += Math.abs(dItem.getWorkingValue(\"value\") / dItem.value);\r\n                }\r\n                else {\r\n                    if (_this.ignoreZeroValues) {\r\n                        count--;\r\n                    }\r\n                    else {\r\n                        if (!dItem.visible || dItem.__disabled || dItem.isHiding) {\r\n                            count--;\r\n                        }\r\n                        else {\r\n                            total += 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this._total = 1 / count * total;\r\n        this._count = count;\r\n        _super.prototype.validateDataElements.call(this);\r\n        this.arrangeLabels();\r\n    };\r\n    /**\r\n     * [getNextValue description]\r\n     *\r\n     * @todo Description\r\n     * @param dataItem  [description]\r\n     * @return [description]\r\n     */\r\n    FunnelSeries.prototype.getNextValue = function (dataItem) {\r\n        var index = dataItem.index;\r\n        var nextValue = dataItem.getWorkingValue(\"value\");\r\n        if (index < this.dataItems.length - 1) {\r\n            var nextItem = this.dataItems.getIndex(index + 1);\r\n            nextValue = nextItem.getWorkingValue(\"value\");\r\n            if (!nextItem.visible || nextItem.isHiding || nextItem.__disabled || (nextItem.value == 0 && this.ignoreZeroValues)) {\r\n                return this.getNextValue(nextItem);\r\n            }\r\n        }\r\n        return nextValue;\r\n    };\r\n    /**\r\n     * [formDataElement description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    FunnelSeries.prototype.formDataElement = function () {\r\n    };\r\n    /**\r\n     * Validates data item's element, effectively redrawing it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    FunnelSeries.prototype.validateDataElement = function (dataItem) {\r\n        var _this = this;\r\n        //if ($type.hasValue(dataItem.value)) {\r\n        // FunnelSlice\r\n        var slice = dataItem.slice;\r\n        slice.orientation = this.orientation;\r\n        var sliceLink = dataItem.sliceLink;\r\n        sliceLink.orientation = this.orientation;\r\n        var tick = dataItem.tick;\r\n        var label = dataItem.label;\r\n        tick.slice = slice;\r\n        tick.label = label;\r\n        if ($type.hasValue(dataItem.value)) {\r\n            this.decorateSlice(dataItem);\r\n            $array.each(dataItem.sprites, function (sprite) {\r\n                if (dataItem.value == 0 && _this.ignoreZeroValues) {\r\n                    sprite.__disabled = true;\r\n                }\r\n                else {\r\n                    sprite.__disabled = false;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            $array.each(dataItem.sprites, function (sprite) {\r\n                sprite.__disabled = true;\r\n            });\r\n        }\r\n        if (dataItem.index == this.dataItems.length - 1) {\r\n            sliceLink.disabled = true;\r\n        }\r\n        // do this at the end, otherwise bullets won't be positioned properly\r\n        _super.prototype.validateDataElement.call(this, dataItem);\r\n        sliceLink.fill = slice.fill;\r\n        //}\r\n    };\r\n    /**\r\n     * [decorateSlice description]\r\n     *\r\n     * @todo Description\r\n     * @param dataItem [description]\r\n     */\r\n    FunnelSeries.prototype.decorateSlice = function (dataItem) {\r\n        var slice = dataItem.slice;\r\n        var sliceLink = dataItem.sliceLink;\r\n        var label = dataItem.label;\r\n        var tick = dataItem.tick;\r\n        var maxWidth = this.slicesContainer.innerWidth;\r\n        var maxHeight = this.slicesContainer.innerHeight;\r\n        var nextValue = this.getNextValue(dataItem);\r\n        var workingValue = Math.abs(dataItem.getWorkingValue(\"value\"));\r\n        var bottomRatio = this.bottomRatio;\r\n        var d = 1;\r\n        if (dataItem.value != 0) {\r\n            d = workingValue / Math.abs(dataItem.value);\r\n        }\r\n        else {\r\n            if (dataItem.__disabled || dataItem.isHiding || !dataItem.visible) {\r\n                d = 0.000001;\r\n            }\r\n        }\r\n        if (this.ignoreZeroValues && dataItem.value == 0) {\r\n            dataItem.__disabled = true;\r\n            return;\r\n        }\r\n        else {\r\n            dataItem.__disabled = false;\r\n        }\r\n        if (this._nextY == Infinity) {\r\n            this._nextY = 0;\r\n        }\r\n        if (this.orientation == \"vertical\") {\r\n            var linkHeight = sliceLink.pixelHeight * d;\r\n            maxHeight = maxHeight + linkHeight; // to avoid one link gap in the bottom\r\n            slice.topWidth = workingValue / this.dataItem.values.value.high * maxWidth;\r\n            slice.bottomWidth = (workingValue - (workingValue - nextValue) * bottomRatio) / this.dataItem.values.value.high * maxWidth;\r\n            sliceLink.topWidth = slice.bottomWidth;\r\n            sliceLink.bottomWidth = (workingValue - (workingValue - nextValue)) / this.dataItem.values.value.high * maxWidth;\r\n            slice.y = this._nextY;\r\n            slice.height = Math.min(100000, $math.max(0, maxHeight / this._count * d / this._total - linkHeight));\r\n            slice.x = maxWidth / 2;\r\n            if (!this.alignLabels) {\r\n                label.x = slice.x;\r\n            }\r\n            else {\r\n                label.x = undefined;\r\n            }\r\n            label.y = slice.pixelY + slice.pixelHeight * tick.locationY;\r\n            this._nextY += slice.pixelHeight + linkHeight;\r\n            sliceLink.y = this._nextY - linkHeight;\r\n            sliceLink.x = slice.x;\r\n        }\r\n        else {\r\n            var linkWidth = sliceLink.pixelWidth * d;\r\n            maxWidth = maxWidth + linkWidth; // to avoid one link gap in the bottom\r\n            slice.topWidth = workingValue / this.dataItem.values.value.high * maxHeight;\r\n            slice.bottomWidth = (workingValue - (workingValue - nextValue) * bottomRatio) / this.dataItem.values.value.high * maxHeight;\r\n            sliceLink.topWidth = slice.bottomWidth;\r\n            sliceLink.bottomWidth = (workingValue - (workingValue - nextValue)) / this.dataItem.values.value.high * maxHeight;\r\n            slice.x = this._nextY;\r\n            slice.width = Math.min(100000, maxWidth / this._count * d * 1 / this._total - linkWidth);\r\n            slice.y = maxHeight / 2;\r\n            if (!this.alignLabels) {\r\n                label.y = slice.y;\r\n            }\r\n            else {\r\n                label.y = this.labelsContainer.measuredHeight;\r\n            }\r\n            label.x = slice.pixelX + slice.pixelWidth * tick.locationX;\r\n            this._nextY += slice.pixelWidth + linkWidth;\r\n            sliceLink.x = this._nextY - linkWidth;\r\n            sliceLink.y = slice.y;\r\n        }\r\n    };\r\n    FunnelSeries.prototype.getLastLabel = function (index) {\r\n        if (index > 0) {\r\n            var lastLabel = this.labels.getIndex(index);\r\n            if (lastLabel.__disabled || !lastLabel.visible) {\r\n                return this.getLastLabel(index - 1);\r\n            }\r\n            else {\r\n                return lastLabel;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * [arrangeLabels description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    FunnelSeries.prototype.arrangeLabels = function () {\r\n        if (this.alignLabels) {\r\n            var count = this.labels.length;\r\n            if (count > 1) {\r\n                var lastLabel = this.getLastLabel(count - 1);\r\n                if (lastLabel) {\r\n                    var lastY = lastLabel.pixelY;\r\n                    var lastX = lastLabel.pixelX;\r\n                    if (count > 1) {\r\n                        for (var i = count - 2; i >= 0; i--) {\r\n                            var label = this.labels.getIndex(i);\r\n                            if (label.visible && !label.__disabled) {\r\n                                if (label.invalid) {\r\n                                    label.validate();\r\n                                }\r\n                                if (this.orientation == \"vertical\") {\r\n                                    if (label.pixelY + label.measuredHeight > lastY) {\r\n                                        label.y = Math.min(1000000, lastY - label.measuredHeight);\r\n                                    }\r\n                                }\r\n                                // horizontal\r\n                                else {\r\n                                    if (label.pixelX + label.measuredWidth > lastX) {\r\n                                        label.x = Math.min(1000000, lastX - label.measuredWidth);\r\n                                    }\r\n                                }\r\n                                lastY = label.pixelY;\r\n                                lastX = label.pixelX;\r\n                            }\r\n                        }\r\n                        lastY = 0;\r\n                        lastX = 0;\r\n                        for (var i = 0; i < count; i++) {\r\n                            var label = this.labels.getIndex(i);\r\n                            if (label.visible && !label.__disabled) {\r\n                                if (label.invalid) {\r\n                                    label.validate();\r\n                                }\r\n                                if (this.orientation == \"vertical\") {\r\n                                    if (label.pixelY < lastY) {\r\n                                        label.y = Math.min(1000000, lastY);\r\n                                    }\r\n                                }\r\n                                // horizontal\r\n                                else {\r\n                                    if (label.pixelX < lastX) {\r\n                                        label.x = Math.min(1000000, lastX);\r\n                                    }\r\n                                }\r\n                                lastY += label.measuredHeight;\r\n                                lastX += label.measuredWidth;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Positions series bullet.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param bullet  Bullet\r\n     */\r\n    FunnelSeries.prototype.positionBullet = function (bullet) {\r\n        _super.prototype.positionBullet.call(this, bullet);\r\n        var dataItem = bullet.dataItem;\r\n        var slice = dataItem.slice;\r\n        var locationX = bullet.locationX;\r\n        if (!$type.isNumber(locationX)) {\r\n            locationX = 0.5;\r\n        }\r\n        var locationY = bullet.locationY;\r\n        if (!$type.isNumber(locationY)) {\r\n            locationY = 1;\r\n        }\r\n        bullet.x = slice.pixelX + slice.measuredWidth * locationX;\r\n        bullet.y = slice.pixelY + slice.measuredHeight * locationY;\r\n    };\r\n    Object.defineProperty(FunnelSeries.prototype, \"orientation\", {\r\n        /**\r\n         * @return Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"orientation\");\r\n        },\r\n        /**\r\n         * Orientation of the funnel slices: \"horizontal\" or \"vertical\" (default).\r\n         *\r\n         * @default \"vertical\"\r\n         * @param value Orientation\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"orientation\", value)) {\r\n                this.labelsOpposite = this.labelsOpposite;\r\n                this.invalidate();\r\n                if (value == \"vertical\") {\r\n                    this.ticks.template.locationX = 1;\r\n                    this.ticks.template.locationY = 0.5;\r\n                    this.labels.template.rotation = 0;\r\n                    this.layout = \"horizontal\";\r\n                }\r\n                else {\r\n                    this.ticks.template.locationX = 0.5;\r\n                    this.ticks.template.locationY = 1;\r\n                    this.labels.template.rotation = -90;\r\n                    this.layout = \"vertical\";\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FunnelSeries.prototype, \"bottomRatio\", {\r\n        /**\r\n         * @return {number}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"bottomRatio\");\r\n        },\r\n        /**\r\n         * Indicates how slice's bottom will change in relation to slices top AND\r\n         * next slices top.\r\n         *\r\n         * Basically it's a relative value (0-1) that indicates bottom width\r\n         * position between current slice's top width and the top withd of the next\r\n         * one.\r\n         *\r\n         * The scale goes from 0 (closer to current slice width) to 1 (closer to next\r\n         * slice with).\r\n         *\r\n         * `0` (default) will mean that bottom will be the same as top, resulting in\r\n         * a prefectly square slice.\r\n         *\r\n         * From the data-viz standpoint `0` is a correct setting, since area of the\r\n         * slices will depict their value correctly.\r\n         *\r\n         * `1` will mean that slice will become trapezoid with its bottom matching\r\n         * width of the next slice.\r\n         *\r\n         * `0.5` will make bottom width be in the middle of width of current slice\r\n         * and the next slice.\r\n         *\r\n         * @default 0\r\n         * @param {number}\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"bottomRatio\", value)) {\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FunnelSeries.prototype, \"sliceLinks\", {\r\n        /**\r\n         * A list of elements linking each actual slice.\r\n         *\r\n         * Please note that links are [[FunnelSlice]] objects, just like real links,\r\n         * so they have all the same configuration options.\r\n         *\r\n         * You can use `template` of this link, to specify how links will look.\r\n         *\r\n         * ```TypeScript\r\n         * series.sliceLinks.template.fillOpacity = 0.5;\r\n         * ```\r\n         * ```JavaScript\r\n         * series.sliceLinks.template.fillOpacity = 0.5;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     \"type\": \"FunnelSeries\",\r\n         *      // ...\r\n         *      \"sliceLinks\": {\r\n         *        \"fillOpacity\": 0.5\r\n         *      }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @return Funnel links\r\n         */\r\n        get: function () {\r\n            if (!this._sliceLinks) {\r\n                var sliceLink = new FunnelSlice();\r\n                sliceLink.applyOnClones = true;\r\n                sliceLink.fillOpacity = 0.5;\r\n                sliceLink.expandDistance = -0.3;\r\n                sliceLink.hiddenState.properties.opacity = 0;\r\n                this._disposers.push(sliceLink);\r\n                this._sliceLinks = new ListTemplate(sliceLink);\r\n                this._disposers.push(new ListDisposer(this._sliceLinks));\r\n            }\r\n            return this._sliceLinks;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param duration  Duration of reveal animation (ms)\r\n     * @return Animation\r\n     */\r\n    FunnelSeries.prototype.show = function (duration) {\r\n        var _this = this;\r\n        var startIndex = this.startIndex;\r\n        var endIndex = this.endIndex;\r\n        var interpolationDuration = this.defaultState.transitionDuration;\r\n        if ($type.isNumber(duration)) {\r\n            interpolationDuration = duration;\r\n        }\r\n        if (!options.animationsEnabled) {\r\n            interpolationDuration = 0;\r\n        }\r\n        var delay = 0;\r\n        $iter.each($iter.indexed(this.dataItems.iterator()), function (a) {\r\n            var i = a[0];\r\n            var dataItem = a[1];\r\n            if (_this.sequencedInterpolation) {\r\n                delay = _this.sequencedInterpolationDelay * i + interpolationDuration * (i - startIndex) / (endIndex - startIndex);\r\n            }\r\n            dataItem.show(interpolationDuration, delay, [\"value\"]);\r\n        });\r\n        var animation = _super.prototype.show.call(this, duration);\r\n        return animation;\r\n    };\r\n    /**\r\n     * Hides series.\r\n     *\r\n     * @param duration  Duration of hiding animation (ms)\r\n     * @return Animation\r\n     */\r\n    FunnelSeries.prototype.hide = function (duration) {\r\n        var _this = this;\r\n        var fields = [\"value\"];\r\n        var value = 0;\r\n        var startIndex = this.startIndex;\r\n        var endIndex = this.endIndex;\r\n        var delay = 0;\r\n        var interpolationDuration = this.hiddenState.transitionDuration;\r\n        if ($type.isNumber(duration)) {\r\n            interpolationDuration = duration;\r\n        }\r\n        if (!options.animationsEnabled) {\r\n            interpolationDuration = 0;\r\n        }\r\n        $iter.each($iter.indexed(this.dataItems.iterator()), function (a) {\r\n            var i = a[0];\r\n            var dataItem = a[1];\r\n            if (_this.sequencedInterpolation) {\r\n                delay = _this.sequencedInterpolationDelay * i + interpolationDuration * (i - startIndex) / (endIndex - startIndex);\r\n            }\r\n            dataItem.hide(interpolationDuration, delay, value, fields);\r\n        });\r\n        var animation = _super.prototype.hide.call(this, duration);\r\n        if (animation && !animation.isFinished()) {\r\n            animation.delay(delay);\r\n        }\r\n        return animation;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    FunnelSeries.prototype.setAlignLabels = function (value) {\r\n        _super.prototype.setAlignLabels.call(this, value);\r\n        this.ticks.template.disabled = !value;\r\n        var labelsContainer = this.labelsContainer;\r\n        if (labelsContainer) {\r\n            // do not align\r\n            if (!value) {\r\n                labelsContainer.width = percent(100);\r\n                labelsContainer.height = percent(100);\r\n            }\r\n            //align\r\n            else {\r\n                labelsContainer.height = undefined;\r\n                labelsContainer.width = undefined;\r\n                labelsContainer.margin(10, 10, 10, 10);\r\n            }\r\n        }\r\n        this.labelsOpposite = this.labelsOpposite;\r\n    };\r\n    Object.defineProperty(FunnelSeries.prototype, \"labelsOpposite\", {\r\n        /**\r\n         * @return Labels on opposite side?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"labelsOpposite\");\r\n        },\r\n        /**\r\n         * Put labels on the oppsite side of the series?\r\n         *\r\n         * This setting is only used if `alignLabels = true`.\r\n         *\r\n         * If set to `true` (default) labels will be drawn to the right (on vertical\r\n         * series), or to the bottom (on horizontal series).\r\n         *\r\n         * If set to `false`, labels will be positioned to the left or top\r\n         * respectively.\r\n         *\r\n         * @default true\r\n         * @since 4.1.13\r\n         * @param  value  Labels on opposite side?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"labelsOpposite\", value);\r\n            var labelTemplate = this.labels.template;\r\n            var labelAlign = \"none\";\r\n            var labelValign = \"none\";\r\n            if (!this.alignLabels) {\r\n                if (this.orientation == \"vertical\") {\r\n                    labelAlign = \"center\";\r\n                }\r\n                else {\r\n                    labelValign = \"middle\";\r\n                }\r\n            }\r\n            else {\r\n                // opposite (left/bottom)\r\n                if (value) {\r\n                    this.labelsContainer.toFront();\r\n                    // left\r\n                    if (this.orientation == \"vertical\") {\r\n                        this.ticks.template.locationX = 1;\r\n                        labelTemplate.horizontalCenter = \"left\";\r\n                        labelAlign = \"right\";\r\n                    }\r\n                    // bottom\r\n                    else {\r\n                        this.ticks.template.locationY = 1;\r\n                        labelTemplate.horizontalCenter = \"right\";\r\n                        labelValign = \"bottom\";\r\n                    }\r\n                }\r\n                // non oposite (right/top)\r\n                else {\r\n                    this.labelsContainer.toBack();\r\n                    // right\r\n                    if (this.orientation == \"vertical\") {\r\n                        this.ticks.template.locationX = 0;\r\n                        labelAlign = \"left\";\r\n                    }\r\n                    // top\r\n                    else {\r\n                        labelValign = \"top\";\r\n                        this.ticks.template.locationY = 0;\r\n                    }\r\n                }\r\n            }\r\n            labelTemplate.align = labelAlign;\r\n            labelTemplate.valign = labelValign;\r\n            this.validateLayout();\r\n            this.ticks.each(function (tick) {\r\n                tick.invalidate();\r\n            });\r\n            this.invalidateDataItems();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FunnelSeries;\r\n}(PercentSeries));\r\nexport { FunnelSeries };\r\n/**\r\n * bboxter class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"FunnelSeries\"] = FunnelSeries;\r\nregistry.registeredClasses[\"FunnelSeriesDataItem\"] = FunnelSeriesDataItem;\r\n//# sourceMappingURL=FunnelSeries.js.map","/**\r\n * Line series module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { XYSeries, XYSeriesDataItem } from \"./XYSeries\";\r\nimport { visualProperties } from \"../../core/Sprite\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { LineSeriesSegment } from \"./LineSeriesSegment\";\r\nimport { ValueAxis } from \"../axes/ValueAxis\";\r\nimport { DateAxis } from \"../axes/DateAxis\";\r\nimport { DurationAxis } from \"../axes/DurationAxis\";\r\nimport { CategoryAxis } from \"../axes/CategoryAxis\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Line } from \"../../core/elements/Line\";\r\nimport { Label } from \"../../core/elements/Label\";\r\nimport { Rectangle } from \"../../core/elements/Rectangle\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport { Bullet } from \"../elements/Bullet\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[LineSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar LineSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(LineSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function LineSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"LineSeriesDataItem\";\r\n        return _this;\r\n    }\r\n    return LineSeriesDataItem;\r\n}(XYSeriesDataItem));\r\nexport { LineSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a line graph.\r\n *\r\n * @see {@link ILineSeriesEvents} for a list of available Events\r\n * @see {@link ILineSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar LineSeries = /** @class */ (function (_super) {\r\n    __extends(LineSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function LineSeries() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Minimum distance in pixels between two adjacent points.\r\n         *\r\n         * If the distance is less than this setting, a point is skipped.\r\n         *\r\n         * This allows acceptable performance with huge amounts of data points.\r\n         *\r\n         * @default 0.5\r\n         */\r\n        _this.minDistance = 0.5;\r\n        _this.segments = new ListTemplate(_this.createSegment());\r\n        _this.segments.template.applyOnClones = true;\r\n        _this._disposers.push(new ListDisposer(_this.segments));\r\n        _this._disposers.push(_this.segments.template);\r\n        _this._segmentsIterator = new $iter.ListIterator(_this.segments, function () { return _this.segments.create(); });\r\n        _this._segmentsIterator.createNewItems = true;\r\n        _this.className = \"LineSeries\";\r\n        _this.strokeOpacity = 1;\r\n        _this.fillOpacity = 0;\r\n        _this.connect = true;\r\n        _this.tensionX = 1;\r\n        _this.tensionY = 1;\r\n        _this.autoGapCount = 1.1;\r\n        _this.segmentsContainer = _this.mainContainer.createChild(Container);\r\n        _this.segmentsContainer.isMeasured = false;\r\n        // line series might have multiple segments and it has a separate sprite for fill and stroke for each segment. So we need to observe all the changes on series and set them on the segments\r\n        // todo: we need list here, otherwise everything will be redrawn event on change of properties like tooltipX or similar.\r\n        // this.addEventListener(SpriteEvent.PROPERTY_CHANGED, this.validateDataElements, false, this);\r\n        _this.bulletsContainer.toFront();\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    LineSeries.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Line Series\");\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    LineSeries.prototype.createSegment = function () {\r\n        return new LineSeriesSegment();\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    LineSeries.prototype.createDataItem = function () {\r\n        return new LineSeriesDataItem();\r\n    };\r\n    /**\r\n     * Inits data item's working values.\r\n     *\r\n     * @param dataItem  Data item\r\n     * @param index     Data item's index\r\n     */\r\n    LineSeries.prototype.setInitialWorkingValues = function (dataItem) {\r\n        // this makes data items animate when added\r\n        var yAxis = this._yAxis.get();\r\n        var xAxis = this._xAxis.get();\r\n        if (this.appeared && this.visible) {\r\n            var previousDataItem = this.dataItems.getIndex(dataItem.index - 1);\r\n            dataItem.component = this; // as these values are set before, we don't know component yet\r\n            if (this.baseAxis == xAxis) {\r\n                if (yAxis instanceof ValueAxis) {\r\n                    var initialY = yAxis.minZoomed;\r\n                    if (previousDataItem) {\r\n                        initialY = previousDataItem.values[\"valueY\"].workingValue;\r\n                    }\r\n                    // this makes line animate from previous point to newly added point\r\n                    dataItem.setWorkingValue(\"valueY\", initialY, 0);\r\n                    dataItem.setWorkingValue(\"valueY\", dataItem.values.valueY.value);\r\n                    if (xAxis instanceof DateAxis) {\r\n                        dataItem.setWorkingLocation(\"dateX\", dataItem.locations.dateX - 1, 0); // instantly move it to previous\r\n                        dataItem.setWorkingLocation(\"dateX\", dataItem.locations.dateX); // animate to it's location\r\n                    }\r\n                    else if (xAxis instanceof DurationAxis) {\r\n                        if (previousDataItem) {\r\n                            var value = dataItem.valueX;\r\n                            dataItem.setWorkingValue(\"valueX\", previousDataItem.valueX, 0); // instantly move it to previous\r\n                            dataItem.setWorkingValue(\"valueX\", value); // animate to new value\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (this.baseAxis == yAxis) {\r\n                if (xAxis instanceof ValueAxis) {\r\n                    var initialX = xAxis.minZoomed;\r\n                    if (previousDataItem) {\r\n                        initialX = previousDataItem.values[\"valueX\"].workingValue;\r\n                    }\r\n                    dataItem.setWorkingValue(\"valueX\", initialX, 0);\r\n                    dataItem.setWorkingValue(\"valueX\", dataItem.values.valueX.value);\r\n                    if (yAxis instanceof DateAxis) {\r\n                        dataItem.setWorkingLocation(\"dateY\", dataItem.locations.dateX - 1, 0); // instantly move it to previous\r\n                        dataItem.setWorkingLocation(\"dateY\", dataItem.locations.dateY); // animate to it's location\r\n                    }\r\n                    else if (yAxis instanceof DurationAxis) {\r\n                        if (previousDataItem) {\r\n                            var value = dataItem.valueY;\r\n                            dataItem.setWorkingValue(\"valueY\", previousDataItem.valueY, 0); // instantly move it to previous\r\n                            dataItem.setWorkingValue(\"valueY\", value); // animate to new value\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (this.baseAxis == xAxis) {\r\n                if (yAxis instanceof ValueAxis) {\r\n                    if (xAxis instanceof DateAxis) {\r\n                        dataItem.setWorkingLocation(\"dateX\", dataItem.locations.dateX);\r\n                    }\r\n                    if (xAxis instanceof CategoryAxis) {\r\n                        dataItem.setWorkingLocation(\"categoryX\", dataItem.locations.categoryX);\r\n                    }\r\n                }\r\n            }\r\n            if (this.baseAxis == yAxis) {\r\n                if (xAxis instanceof ValueAxis) {\r\n                    if (yAxis instanceof DateAxis) {\r\n                        dataItem.setWorkingLocation(\"dateY\", dataItem.locations.dateY);\r\n                    }\r\n                    if (yAxis instanceof CategoryAxis) {\r\n                        dataItem.setWorkingLocation(\"categoryY\", dataItem.locations.categoryY);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Updates corresponding legend data item with current values.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    LineSeries.prototype.updateLegendValue = function (dataItem, notRange) {\r\n        _super.prototype.updateLegendValue.call(this, dataItem, notRange);\r\n        //This is hack to save some methos, used to set tooltip color source only\r\n        if (dataItem && dataItem.segment) {\r\n            this.tooltipColorSource = dataItem.segment;\r\n        }\r\n    };\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    LineSeries.prototype.validate = function () {\r\n        var _this = this;\r\n        _super.prototype.validate.call(this);\r\n        if (this.xAxis && this.yAxis) {\r\n            this._segmentsIterator.reset();\r\n            this.openSegmentWrapper(this._adjustedStartIndex);\r\n            $iter.each(this.axisRanges.iterator(), function (range) {\r\n                _this.openSegmentWrapper(_this._adjustedStartIndex, range);\r\n            });\r\n            $iter.each(this._segmentsIterator.iterator(), function (segment) {\r\n                segment.__disabled = true;\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * [sliceData description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    LineSeries.prototype.sliceData = function () {\r\n        var startIndex = this.startIndex;\r\n        var endIndex = this.endIndex;\r\n        // we need extra one item to both sides with values for line series, otherwise the line will not continue out of bounds of the chart while scrolling\r\n        // find first to the left\r\n        // TODO use iterator instead\r\n        for (var i = this.startIndex - 1; i >= 0; i--) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            if (dataItem && dataItem.hasValue(this._xValueFields) && dataItem.hasValue(this._yValueFields)) {\r\n                startIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        this._adjustedStartIndex = this.findAdjustedIndex(startIndex, [\"stroke\", \"strokeWidth\", \"strokeDasharray\", \"strokeOpacity\", \"fill\", \"fillOpacity\", \"opacity\"]);\r\n        // find first to the right\r\n        // TODO use iterator instead\r\n        for (var i = this.endIndex, len = this.dataItems.length; i < len; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            if (dataItem && dataItem.hasValue(this._xValueFields) && dataItem.hasValue(this._yValueFields)) {\r\n                endIndex = i + 1;\r\n                break;\r\n            }\r\n        }\r\n        this._workingStartIndex = startIndex;\r\n        this._workingEndIndex = endIndex;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    LineSeries.prototype.findAdjustedIndex = function (adjustedIndex, properties) {\r\n        var _this = this;\r\n        var propertyFields = this.propertyFields;\r\n        var startIndex = adjustedIndex;\r\n        $array.each(properties, function (property) {\r\n            if ($type.hasValue(propertyFields[property])) {\r\n                for (var i = startIndex; i >= 0; i--) {\r\n                    var dataItem = _this.dataItems.getIndex(i);\r\n                    if (dataItem) {\r\n                        if ($type.hasValue(dataItem.properties[property])) {\r\n                            if (adjustedIndex > i) {\r\n                                adjustedIndex = i;\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return adjustedIndex;\r\n    };\r\n    /**\r\n     * Wraps openSegment call with iterative solution to prevent stack overflow\r\n     *\r\n     * @param openIndex  Index\r\n     * @param axisRange  Range\r\n     */\r\n    LineSeries.prototype.openSegmentWrapper = function (openIndex, axisRange) {\r\n        var params = {\r\n            \"index\": openIndex,\r\n            \"axisRange\": axisRange\r\n        };\r\n        do {\r\n            params = this.openSegment(params.index, params.axisRange);\r\n        } while (params);\r\n    };\r\n    LineSeries.prototype.getSegment = function () {\r\n        var segment = this._segmentsIterator.getFirst();\r\n        if (segment.isDisposed()) {\r\n            this.segments.removeValue(segment);\r\n            return this.getSegment();\r\n        }\r\n        return segment;\r\n    };\r\n    /**\r\n     * [openSegment description]\r\n     *\r\n     * @todo Description\r\n     * @param openIndex  [description]\r\n     * @param axisRange  [description]\r\n     */\r\n    LineSeries.prototype.openSegment = function (openIndex, axisRange) {\r\n        var addToClose = false;\r\n        var points = [];\r\n        openIndex = Math.min(openIndex, this.dataItems.length);\r\n        var endIndex = Math.min(this._workingEndIndex, this.dataItems.length);\r\n        this._workingEndIndex = Math.min(this._workingEndIndex, this.dataItems.length);\r\n        var closeIndex;\r\n        var propertiesChanged = false;\r\n        var segment = this.getSegment();\r\n        segment.__disabled = false;\r\n        if (axisRange) {\r\n            segment.parent = axisRange.contents;\r\n            $object.copyProperties(axisRange.contents, segment, visualProperties);\r\n        }\r\n        else {\r\n            $object.copyProperties(this, segment, visualProperties);\r\n            segment.filters.clear();\r\n            segment.parent = this.segmentsContainer;\r\n        }\r\n        this.group.node.removeAttribute(\"fill\");\r\n        var connect = this.connect;\r\n        var valuesFound = false; // some flag to avoid multiple closes if no values found\r\n        for (var i = openIndex; i < endIndex; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            dataItem.segment = segment;\r\n            if (dataItem.hasProperties) {\r\n                // if this is first item of segment\r\n                if (i == openIndex) {\r\n                    this.updateSegmentProperties(dataItem.properties, segment);\r\n                }\r\n                else {\r\n                    // this time we only need to know if properties changed, so we don't pass segment\r\n                    propertiesChanged = this.updateSegmentProperties(dataItem.properties, segment, true);\r\n                }\r\n            }\r\n            if (dataItem.hasValue(this._xValueFields) && dataItem.hasValue(this._yValueFields)) {\r\n                this.addPoints(points, dataItem, this.xField, this.yField);\r\n                valuesFound = true;\r\n            }\r\n            else {\r\n                // if no values in first data item, go to next\r\n                if (i == openIndex) {\r\n                    continue;\r\n                }\r\n                else {\r\n                    // stop cycle\r\n                    if (!connect && valuesFound) {\r\n                        closeIndex = i;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            closeIndex = i;\r\n            if (this.baseAxis instanceof DateAxis) {\r\n                var next = this.dataItems.getIndex(i + 1);\r\n                if (next && this.baseAxis.makeGap(next, dataItem)) {\r\n                    addToClose = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (propertiesChanged) {\r\n                break;\r\n            }\r\n        }\r\n        return this.closeSegment(segment, points, openIndex, closeIndex, axisRange, addToClose);\r\n    };\r\n    /**\r\n     * [addPoints description]\r\n     *\r\n     * @todo Description\r\n     * @param points    [description]\r\n     * @param dataItem  [description]\r\n     * @param xField    [description]\r\n     * @param yField    [description]\r\n     * @param backwards [description]\r\n     */\r\n    LineSeries.prototype.addPoints = function (points, dataItem, xField, yField, backwards) {\r\n        var point = this.getPoint(dataItem, xField, yField, dataItem.workingLocations[xField], dataItem.workingLocations[yField]);\r\n        if (!backwards) {\r\n            dataItem.point = point;\r\n        }\r\n        points.push(point);\r\n    };\r\n    /**\r\n     * [closeSegment description]\r\n     *\r\n     * @todo Description\r\n     * @param segment    [description]\r\n     * @param points     [description]\r\n     * @param openIndex  [description]\r\n     * @param closeIndex [description]\r\n     * @param axisRange  [description]\r\n     */\r\n    LineSeries.prototype.closeSegment = function (segment, points, openIndex, closeIndex, axisRange, add) {\r\n        var closePoints = [];\r\n        if (this.dataFields[this._xOpenField] ||\r\n            this.dataFields[this._yOpenField] ||\r\n            this.stacked) {\r\n            for (var i = closeIndex; i >= openIndex; i--) {\r\n                var dataItem = this.dataItems.getIndex(i);\r\n                if (dataItem.hasValue(this._xValueFields) && dataItem.hasValue(this._yValueFields)) { // not sure, this means that open point will only be added if value is also set for this point, but maybe it's ok.\r\n                    this.addPoints(closePoints, dataItem, this.xOpenField, this.yOpenField, true);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var baseAxis = this.baseAxis;\r\n            var count = points.length;\r\n            var xAxis = this.xAxis;\r\n            var yAxis = this.yAxis;\r\n            if (count > 0) {\r\n                if (baseAxis == xAxis) {\r\n                    closePoints.push({ x: points[count - 1].x, y: yAxis.basePoint.y }); // last x\r\n                    closePoints.push({ x: points[0].x, y: yAxis.basePoint.y }); // first x\r\n                }\r\n                else {\r\n                    closePoints.push({ x: xAxis.basePoint.x, y: points[count - 1].y }); // last y\r\n                    closePoints.push({ x: xAxis.basePoint.x, y: points[0].y }); // first y\r\n                }\r\n            }\r\n        }\r\n        this.drawSegment(segment, points, closePoints);\r\n        if (add) {\r\n            closeIndex++;\r\n        }\r\n        if (closeIndex < this._workingEndIndex - 1) {\r\n            return { \"index\": closeIndex, \"axisRange\": axisRange };\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    /**\r\n     * Draws the line segment.\r\n     *\r\n     * @param segment     Segment\r\n     * @param points      Segment points\r\n     * @param closePoints Segment close points\r\n     */\r\n    LineSeries.prototype.drawSegment = function (segment, points, closePoints) {\r\n        segment.drawSegment(points, closePoints, this.tensionX, this.tensionY);\r\n    };\r\n    /**\r\n     * Segement will get its colors from `this.dataItem`, as thats how\r\n     * `getPropertyValue()` method works.\r\n     *\r\n     * We pass `lineSeriesDataItem.properties` as item here each time when a flag\r\n     * `hasProperties` is set to `true` on data item (this means it can contain\r\n     * some properties set).\r\n     *\r\n     * @param itemProperties  Item properties\r\n     * @param segment         Segment\r\n     * @return Properties changed?\r\n     */\r\n    LineSeries.prototype.updateSegmentProperties = function (itemProperties, segment, checkOnly) {\r\n        var changed = false;\r\n        $object.each(itemProperties, function (propertyName, value) {\r\n            // some value must be defined\r\n            if ($type.hasValue(value)) {\r\n                var currentValue = segment[propertyName];\r\n                var currentValueStr = void 0;\r\n                // current value can be Color, number, anything. So we check if it has toString, otherwise just do String().\r\n                // toString() will return hex if it's color. The only problem is that it will return lowercased hex and if we have uppercase in data, it will think that it changed\r\n                if (currentValue) {\r\n                    if (currentValue.toString) {\r\n                        currentValueStr = currentValue.toString();\r\n                    }\r\n                    else {\r\n                        currentValueStr = currentValue; // not doing String(currentValue) as this will make all Objects the same\r\n                    }\r\n                }\r\n                var valueStr = void 0;\r\n                if (value) {\r\n                    if (value.toString) {\r\n                        valueStr = value.toString();\r\n                    }\r\n                    else {\r\n                        valueStr = value; // not doing String(currentValue) as this will make all Objects the same\r\n                    }\r\n                }\r\n                if (currentValue == value || (currentValueStr != undefined && valueStr != undefined && currentValueStr == valueStr)) {\r\n                    // void\r\n                }\r\n                else {\r\n                    if (!checkOnly) {\r\n                        segment[propertyName] = value;\r\n                    }\r\n                    changed = true;\r\n                }\r\n            }\r\n        });\r\n        return changed;\r\n    };\r\n    Object.defineProperty(LineSeries.prototype, \"connect\", {\r\n        /**\r\n         * @return Connect?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"connect\");\r\n        },\r\n        /**\r\n         * Connect the lines over empty data points?\r\n         *\r\n         * If set to `true` the line will connect two adjacent data points by a\r\n         * straight line. Even if there are data points with missing values\r\n         * in-between.\r\n         *\r\n         * If you set this to `false`, the line will break when there are missing\r\n         * values.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/chart-types/xy-chart/#Line_series_with_gaps} for more information about this feature\r\n         * @default true\r\n         * @param value  Connect?\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"connect\", value)) {\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"tensionX\", {\r\n        /**\r\n         * @return Horizontal tension (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tensionX\");\r\n        },\r\n        /**\r\n         * Horizontal tension setting of the line (0-1).\r\n         *\r\n         * Can be used to create smoothed lines. It works like this:\r\n         *\r\n         * Accepted values are in the range between 0 and 1. The biggest value (1)\r\n         * will mean that the \"tension\" is very high, so the line is maximally\r\n         * attracted to the points it connects, hence the straight line.\r\n         *\r\n         * Using smaller numbers will \"relax\" the tension, creating some curving.\r\n         *\r\n         * The smaller the tension setting, the more relaxed the line and the more\r\n         * wide the curve.\r\n         *\r\n         * This setting is for horizontal tension, meaning the curve will bend in\r\n         * such way that it never goes below or above connecting points. To enable\r\n         * vertical bending as well, use `tensionY`.\r\n         *\r\n         * IMPORTANT: line smoothing works best when data items are placed at regular\r\n         * intervals. For setups where data items are spaced erratically, enabling\r\n         * smoothing might result in awkwardly looking lines.\r\n         *\r\n         * @default 1\r\n         * @param value  Horizontal tension (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tensionX\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(LineSeries.prototype, \"tensionY\", {\r\n        /**\r\n         * @return Vertical tension (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"tensionY\");\r\n        },\r\n        /**\r\n         * Can be used to create smoothed lines. It works like this:\r\n         *\r\n         * Accepted values are in the range between 0 and 1. The biggest value (1)\r\n         * will mean that the \"tension\" is very high, so the line is maximally\r\n         * attracted to the points it connects, hence the straight line.\r\n         *\r\n         * Using smaller numbers will \"relax\" the tension, creating some curving.\r\n         *\r\n         * The smaller the tension setting, the more relaxed the line and the more\r\n         * wide the curve.\r\n         *\r\n         * This setting is for vertical tension, meaning the curve might bend in\r\n         * such way that it will go below or above connected points.\r\n         *\r\n         * Combine this setting with `tensionX` to create beautifully looking\r\n         * smoothed line series.\r\n         *\r\n         * @default 1\r\n         * @param value  Vertical tension (0-1)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"tensionY\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates elements in related legend container, that mimics the look of this\r\n     * Series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker  Legend item container\r\n     */\r\n    LineSeries.prototype.createLegendMarker = function (marker) {\r\n        var _this = this;\r\n        var w = marker.pixelWidth;\r\n        var h = marker.pixelHeight;\r\n        marker.disposeChildren();\r\n        var line = marker.createChild(Line);\r\n        line.shouldClone = false;\r\n        //line.copyFrom(<any>this); coppies events which is not good\r\n        $object.copyProperties(this, line, visualProperties);\r\n        line.x2 = w;\r\n        line.y = h / 2;\r\n        line.y2 = 0.00001;\r\n        line.visible = true;\r\n        if (this.fillOpacity > 0) {\r\n            var fill = marker.createChild(Rectangle);\r\n            //fill.copyFrom(<any>this); coppies events which is not good\r\n            $object.copyProperties(this, fill, visualProperties);\r\n            fill.width = w;\r\n            fill.height = h;\r\n            fill.y = 0;\r\n            fill.strokeOpacity = 0;\r\n            fill.visible = true;\r\n            line.y = 0;\r\n        }\r\n        var legendDataItem = marker.dataItem;\r\n        legendDataItem.color = this.stroke;\r\n        legendDataItem.colorOrig = this.fill;\r\n        $iter.eachContinue(this.bullets.iterator(), function (bullet) {\r\n            if ((bullet instanceof Bullet) && !bullet.copyToLegendMarker) {\r\n                return false;\r\n            }\r\n            var hasLabels = false;\r\n            if (bullet instanceof Container) {\r\n                // do not copy bullets with labels\r\n                $iter.each(bullet.children.iterator(), function (child) {\r\n                    if (child instanceof Label) {\r\n                        hasLabels = true;\r\n                        return true;\r\n                    }\r\n                });\r\n            }\r\n            if (!hasLabels) {\r\n                var clone = bullet.clone();\r\n                clone.parent = marker;\r\n                clone.isMeasured = true;\r\n                clone.tooltipText = undefined;\r\n                clone.x = w / 2;\r\n                if (_this.fillOpacity > 0) {\r\n                    clone.y = 0;\r\n                }\r\n                else {\r\n                    clone.y = h / 2;\r\n                }\r\n                clone.visible = true;\r\n                // otherwise will not transit to color after hiding\r\n                if (!$type.hasValue(clone.fill)) {\r\n                    clone.fill = _this.fill;\r\n                }\r\n                if (!$type.hasValue(clone.stroke)) {\r\n                    clone.stroke = _this.stroke;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    LineSeries.prototype.disposeData = function () {\r\n        _super.prototype.disposeData.call(this);\r\n        this.segments.clear();\r\n    };\r\n    Object.defineProperty(LineSeries.prototype, \"autoGapCount\", {\r\n        /**\r\n         * @return Gap count\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"autoGapCount\");\r\n        },\r\n        /**\r\n         * If `connect = false` and distance between two data points is bigger\r\n         * than `baseInterval * autoGapCount`, a line will break automatically.\r\n         *\r\n         * @since 4.2.4\r\n         * @param  value  Gap count\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"autoGapCount\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return LineSeries;\r\n}(XYSeries));\r\nexport { LineSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LineSeries\"] = LineSeries;\r\nregistry.registeredClasses[\"LineSeriesDataItem\"] = LineSeriesDataItem;\r\n//# sourceMappingURL=LineSeries.js.map","/**\r\n * Line series segment module.\r\n * @todo Add description about what this is\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container } from \"../../core/Container\";\r\nimport { Sprite, visualProperties } from \"../../core/Sprite\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport { color } from \"../../core/utils/Color\";\r\nimport * as $smoothing from \"../../core/rendering/Smoothing\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a line series segment.\r\n *\r\n * A line segment can be used to apply different properties to a part of the\r\n * line series, between two data points.\r\n *\r\n * @see {@link ILineSeriesSegmentEvents} for a list of available events\r\n * @see {@link ILineSeriesSegmentAdapters} for a list of available Adapters\r\n * @todo Example\r\n */\r\nvar LineSeriesSegment = /** @class */ (function (_super) {\r\n    __extends(LineSeriesSegment, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function LineSeriesSegment() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"LineSeriesSegment\";\r\n        // Set defaults\r\n        _this.isMeasured = false;\r\n        _this.interactionsEnabled = false;\r\n        _this.layout = \"none\";\r\n        // Create fill element\r\n        var fillSprite = _this.createChild(Sprite);\r\n        _this.fillSprite = fillSprite;\r\n        fillSprite.shouldClone = false;\r\n        fillSprite.setElement(_this.paper.add(\"path\"));\r\n        fillSprite.isMeasured = false;\r\n        _this._disposers.push(fillSprite);\r\n        // Create line element\r\n        var strokeSprite = _this.createChild(Sprite);\r\n        _this.strokeSprite = strokeSprite;\r\n        strokeSprite.shouldClone = false;\r\n        strokeSprite.fill = color();\r\n        strokeSprite.setElement(_this.paper.add(\"path\"));\r\n        strokeSprite.isMeasured = false;\r\n        _this._disposers.push(strokeSprite);\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the series segment.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param points       Points to connect\r\n     * @param closePoints  ?\r\n     * @param smoothnessX  Horizontal bezier setting (?)\r\n     * @param smoothnessY  Vertical bezier setting (?)\r\n     */\r\n    LineSeriesSegment.prototype.drawSegment = function (points, closePoints, smoothnessX, smoothnessY) {\r\n        if (!this.disabled) {\r\n            if (points.length > 0 && closePoints.length > 0) {\r\n                // first moveTo helps to avoid Chrome straight line in the mask bug.\r\n                var path = $path.moveTo({ x: points[0].x - 0.2, y: points[0].y - 0.2 }) + $path.moveTo(points[0]) + new $smoothing.Tension(smoothnessX, smoothnessY).smooth(points);\r\n                if (this.strokeOpacity == 0 || this.strokeSprite.strokeOpacity == 0) {\r\n                    // like this and not if != 0, otherwise ranges stroke won't be drawn.\r\n                }\r\n                else {\r\n                    this.strokeSprite.path = path;\r\n                }\r\n                if (this.fillOpacity > 0 || this.fillSprite.fillOpacity > 0) { // helps to avoid drawing fill object if fill is not visible\r\n                    path += $path.lineTo(closePoints[0]) + new $smoothing.Tension(smoothnessX, smoothnessY).smooth(closePoints);\r\n                    path += $path.lineTo(points[0]);\r\n                    path += $path.closePath();\r\n                    this.fillSprite.path = path;\r\n                }\r\n            }\r\n            else {\r\n                this.fillSprite.path = \"\";\r\n                this.strokeSprite.path = \"\";\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Copies properties from a [[Sprite]] to both line and fill elements.\r\n     *\r\n     * @param source Source [[Sprite]] to copy properties from\r\n     */\r\n    LineSeriesSegment.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        var lineElement = this.strokeSprite;\r\n        $object.copyProperties(source, lineElement.properties, visualProperties);\r\n        lineElement.events.copyFrom(source.strokeSprite.events);\r\n        lineElement.fillOpacity = 0;\r\n        var fillElement = this.fillSprite;\r\n        $object.copyProperties(source, fillElement.properties, visualProperties);\r\n        fillElement.events.copyFrom(source.fillSprite.events);\r\n        fillElement.strokeOpacity = 0;\r\n    };\r\n    return LineSeriesSegment;\r\n}(Container));\r\nexport { LineSeriesSegment };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"LineSeriesSegment\"] = LineSeriesSegment;\r\n//# sourceMappingURL=LineSeriesSegment.js.map","/**\r\n * Candlestick Series module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { CandlestickSeries, CandlestickSeriesDataItem } from \"./CandlestickSeries\";\r\nimport { visualProperties } from \"../../core/Sprite\";\r\nimport { OHLC } from \"../elements/OHLC\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[OHLCSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar OHLCSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(OHLCSeriesDataItem, _super);\r\n    /**\r\n     * Defines a type of [[Component]] this data item is used for\r\n     * @todo Disabled to work around TS bug (see if we can re-enable it again)\r\n     */\r\n    //public _component!: OHLCSeries;\r\n    /**\r\n     * Constructor\r\n     */\r\n    function OHLCSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"OHLCSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return OHLCSeriesDataItem;\r\n}(CandlestickSeriesDataItem));\r\nexport { OHLCSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a candlestick graph.\r\n *\r\n * @see {@link IOHLCSeriesEvents} for a list of available Events\r\n * @see {@link IOHLCSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar OHLCSeries = /** @class */ (function (_super) {\r\n    __extends(OHLCSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function OHLCSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"OHLCSeries\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    OHLCSeries.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"OHLC Series\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    OHLCSeries.prototype.createDataItem = function () {\r\n        return new OHLCSeriesDataItem();\r\n    };\r\n    OHLCSeries.prototype.validateCandlestick = function (dataItem) {\r\n        var column = dataItem.column;\r\n        if (column) {\r\n            var openLine_1 = column.openLine;\r\n            var highLowLine_1 = column.highLowLine;\r\n            var closeLine_1 = column.closeLine;\r\n            if (this.baseAxis == this.xAxis) {\r\n                var x = column.pixelWidth / 2;\r\n                highLowLine_1.x = x;\r\n                // TODO can these be removed ?\r\n                dataItem.getWorkingValue(this.yOpenField);\r\n                dataItem.getWorkingValue(this.yField);\r\n                var yOpen = this.yAxis.getY(dataItem, this.yOpenField);\r\n                var yClose = this.yAxis.getY(dataItem, this.yField);\r\n                var yLow = this.yAxis.getY(dataItem, this.yLowField);\r\n                var yHigh = this.yAxis.getY(dataItem, this.yHighField);\r\n                var pixelY = column.pixelY;\r\n                openLine_1.y1 = yOpen - pixelY;\r\n                openLine_1.y2 = yOpen - pixelY;\r\n                openLine_1.x1 = 0;\r\n                openLine_1.x2 = x;\r\n                closeLine_1.y1 = yClose - pixelY;\r\n                closeLine_1.y2 = yClose - pixelY;\r\n                closeLine_1.x1 = x;\r\n                closeLine_1.x2 = 2 * x;\r\n                highLowLine_1.y1 = yHigh - pixelY;\r\n                highLowLine_1.y2 = yLow - pixelY;\r\n            }\r\n            if (this.baseAxis == this.yAxis) {\r\n                var y = column.pixelHeight / 2;\r\n                highLowLine_1.y = y;\r\n                // TODO can these be removed ?\r\n                dataItem.getWorkingValue(this.xOpenField);\r\n                dataItem.getWorkingValue(this.xField);\r\n                var xOpen = this.xAxis.getX(dataItem, this.xOpenField);\r\n                var xClose = this.xAxis.getX(dataItem, this.xField);\r\n                var xLow = this.xAxis.getX(dataItem, this.xLowField);\r\n                var xHigh = this.xAxis.getX(dataItem, this.xHighField);\r\n                var pixelX = column.pixelX;\r\n                openLine_1.x1 = xOpen - pixelX;\r\n                openLine_1.x2 = xOpen - pixelX;\r\n                openLine_1.y1 = y;\r\n                openLine_1.y2 = 2 * y;\r\n                closeLine_1.x1 = xClose - pixelX;\r\n                closeLine_1.x2 = xClose - pixelX;\r\n                closeLine_1.y1 = 0;\r\n                closeLine_1.y2 = y;\r\n                highLowLine_1.x1 = xHigh - pixelX;\r\n                highLowLine_1.x2 = xLow - pixelX;\r\n            }\r\n            $iter.each(this.axisRanges.iterator(), function (axisRange) {\r\n                var rangeColumn = dataItem.rangesColumns.getKey(axisRange.uid);\r\n                if (rangeColumn) {\r\n                    var rangeOpenLine = rangeColumn.openLine;\r\n                    rangeOpenLine.x = openLine_1.x;\r\n                    rangeOpenLine.y = openLine_1.y;\r\n                    rangeOpenLine.x1 = openLine_1.x1;\r\n                    rangeOpenLine.x2 = openLine_1.x2;\r\n                    rangeOpenLine.y1 = openLine_1.y1;\r\n                    rangeOpenLine.y2 = openLine_1.y2;\r\n                    var rangeCloseLine = rangeColumn.closeLine;\r\n                    rangeCloseLine.x = closeLine_1.x;\r\n                    rangeCloseLine.y = closeLine_1.y;\r\n                    rangeCloseLine.x1 = closeLine_1.x1;\r\n                    rangeCloseLine.x2 = closeLine_1.x2;\r\n                    rangeCloseLine.y1 = closeLine_1.y1;\r\n                    rangeCloseLine.y2 = closeLine_1.y2;\r\n                    var rangeHighLowLine = rangeColumn.highLowLine;\r\n                    rangeHighLowLine.x = highLowLine_1.x;\r\n                    rangeHighLowLine.y = highLowLine_1.y;\r\n                    rangeHighLowLine.x1 = highLowLine_1.x1;\r\n                    rangeHighLowLine.x2 = highLowLine_1.x2;\r\n                    rangeHighLowLine.y1 = highLowLine_1.y1;\r\n                    rangeHighLowLine.y2 = highLowLine_1.y2;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Creates elements in related legend container, that mimics the look of this\r\n     * Series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker  Legend item container\r\n     */\r\n    OHLCSeries.prototype.createLegendMarker = function (marker) {\r\n        var w = marker.pixelWidth;\r\n        var h = marker.pixelHeight;\r\n        marker.removeChildren();\r\n        var column = marker.createChild(OHLC);\r\n        column.shouldClone = false;\r\n        column.copyFrom(this.columns.template);\r\n        var cw;\r\n        var ch;\r\n        var openLine = column.openLine;\r\n        var closeLine = column.closeLine;\r\n        var highLowLine = column.highLowLine;\r\n        if (this.baseAxis == this.yAxis) {\r\n            cw = w / 3;\r\n            ch = h;\r\n            highLowLine.y = h / 2;\r\n            highLowLine.x2 = w;\r\n            openLine.x = w / 3 * 2;\r\n            openLine.y2 = h / 2;\r\n            closeLine.x = w / 3;\r\n            closeLine.y2 = h;\r\n            closeLine.y1 = h / 2;\r\n        }\r\n        else {\r\n            cw = w;\r\n            ch = h / 3;\r\n            highLowLine.x = w / 2;\r\n            highLowLine.y2 = h;\r\n            openLine.y = h / 3 * 2;\r\n            openLine.x2 = w / 2;\r\n            closeLine.y = h / 3;\r\n            closeLine.x2 = w;\r\n            closeLine.x1 = w / 2;\r\n        }\r\n        column.width = cw;\r\n        column.height = ch;\r\n        $object.copyProperties(this, marker, visualProperties);\r\n        $object.copyProperties(this.columns.template, column, visualProperties);\r\n        column.stroke = this.riseFromOpenState.properties.stroke;\r\n        var legendDataItem = marker.dataItem;\r\n        legendDataItem.color = column.stroke;\r\n        legendDataItem.colorOrig = column.stroke;\r\n    };\r\n    /**\r\n     * Returns an element to use for Candlestick\r\n     * @ignore\r\n     * @return Element.\r\n     */\r\n    OHLCSeries.prototype.createColumnTemplate = function () {\r\n        return new OHLC();\r\n    };\r\n    return OHLCSeries;\r\n}(CandlestickSeries));\r\nexport { OHLCSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"OHLCSeries\"] = OHLCSeries;\r\nregistry.registeredClasses[\"OHLCSeriesDataItem\"] = OHLCSeriesDataItem;\r\n//# sourceMappingURL=OHLCSeries.js.map","/**\r\n * Defines Percent Chart Series.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Series, SeriesDataItem } from \"./Series\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { Label } from \"../../core/elements/Label\";\r\nimport { Color } from \"../../core/utils/Color\";\r\nimport { Tick } from \"../elements/Tick\";\r\nimport { ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { ColorSet } from \"../../core/utils/ColorSet\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $ease from \"../../core/utils/Ease\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { Disposer } from \"../../core/utils/Disposer\";\r\nimport { defaultRules, ResponsiveBreakpoints } from \"../../core/utils/Responsive\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n//@todo: sequenced?\r\n/**\r\n * Defines a [[DataItem]] for [[PercentSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar PercentSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(PercentSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PercentSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PercentSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Adds an `id` attribute the the slice element and returns its id.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PercentSeriesDataItem.prototype.uidAttr = function () {\r\n        return this.slice.uidAttr();\r\n    };\r\n    /**\r\n     * Hide the data item (and corresponding visual elements).\r\n     *\r\n     * @param duration  Duration (ms)\r\n     * @param delay     Delay hiding (ms)\r\n     * @param toValue   Target value for animation\r\n     * @param fields    Fields to animate while hiding\r\n     */\r\n    PercentSeriesDataItem.prototype.hide = function (duration, delay, toValue, fields) {\r\n        if (!fields) {\r\n            fields = [\"value\"];\r\n        }\r\n        return _super.prototype.hide.call(this, duration, delay, 0, fields);\r\n    };\r\n    /**\r\n     * Sets visibility of the Data Item.\r\n     *\r\n     * @param value Data Item\r\n     */\r\n    PercentSeriesDataItem.prototype.setVisibility = function (value, noChangeValues) {\r\n        if (!noChangeValues) {\r\n            if (value) {\r\n                this.setWorkingValue(\"value\", this.values[\"value\"].value, 0, 0);\r\n            }\r\n            else {\r\n                this.setWorkingValue(\"value\", 0, 0, 0);\r\n            }\r\n        }\r\n        _super.prototype.setVisibility.call(this, value, noChangeValues);\r\n    };\r\n    /**\r\n     * Show hidden data item (and corresponding visual elements).\r\n     *\r\n     * @param duration  Duration (ms)\r\n     * @param delay     Delay hiding (ms)\r\n     * @param fields    Fields to animate while hiding\r\n     */\r\n    PercentSeriesDataItem.prototype.show = function (duration, delay, fields) {\r\n        if (!fields) {\r\n            fields = [\"value\"];\r\n        }\r\n        return _super.prototype.show.call(this, duration, delay, fields);\r\n    };\r\n    Object.defineProperty(PercentSeriesDataItem.prototype, \"category\", {\r\n        /**\r\n         * @return Category\r\n         */\r\n        get: function () {\r\n            return this.properties.category;\r\n        },\r\n        /**\r\n         * Category.\r\n         *\r\n         * @param value  Category\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"category\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates a marker used in the legend for this slice.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker  Marker container\r\n     */\r\n    PercentSeriesDataItem.prototype.createLegendMarker = function (marker) {\r\n        this.component.createLegendMarker(marker, this);\r\n    };\r\n    Object.defineProperty(PercentSeriesDataItem.prototype, \"legendDataItem\", {\r\n        /**\r\n         * @return Legend data item\r\n         */\r\n        get: function () {\r\n            return this._legendDataItem;\r\n        },\r\n        /**\r\n         * A legend's data item, that corresponds to this data item.\r\n         *\r\n         * @param value  Legend data item\r\n         */\r\n        set: function (value) {\r\n            this._legendDataItem = value;\r\n            if (value.label) {\r\n                value.label.dataItem = this;\r\n            }\r\n            if (value.valueLabel) {\r\n                value.valueLabel.dataItem = this;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PercentSeriesDataItem.prototype, \"tick\", {\r\n        /**\r\n         * A Tick element, related to this data item. (slice)\r\n         *\r\n         * @readonly\r\n         * @return Tick element\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._tick) {\r\n                var tick_1 = this.component.ticks.create();\r\n                this._tick = tick_1;\r\n                this.addSprite(tick_1);\r\n                this._disposers.push(tick_1);\r\n                tick_1.parent = this.component.ticksContainer;\r\n                this._disposers.push(new Disposer(function () {\r\n                    if (_this.component) {\r\n                        _this.component.ticks.removeValue(tick_1);\r\n                    }\r\n                }));\r\n                tick_1.visible = this.visible;\r\n            }\r\n            return this._tick;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PercentSeriesDataItem.prototype, \"label\", {\r\n        /**\r\n         * A Label element, related to this data item. (slice)\r\n         *\r\n         * @readonly\r\n         * @return Label element\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._label) {\r\n                var label_1 = this.component.labels.create();\r\n                this.addSprite(label_1);\r\n                this._label = label_1;\r\n                this._disposers.push(label_1);\r\n                label_1.parent = this.component.labelsContainer;\r\n                this._disposers.push(new Disposer(function () {\r\n                    if (_this.component) {\r\n                        _this.component.labels.removeValue(label_1);\r\n                    }\r\n                }));\r\n                label_1.visible = this.visible;\r\n            }\r\n            return this._label;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PercentSeriesDataItem.prototype, \"slice\", {\r\n        /**\r\n         * An element, related to this data item. (slice)\r\n         *\r\n         * @readonly\r\n         * @return Slice element\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._slice) {\r\n                var component_1 = this.component;\r\n                var slice_1 = component_1.slices.create();\r\n                this.addSprite(slice_1);\r\n                this._slice = slice_1;\r\n                this._disposers.push(slice_1);\r\n                slice_1.parent = component_1.slicesContainer;\r\n                this._disposers.push(new Disposer(function () {\r\n                    component_1.slices.removeValue(slice_1);\r\n                }));\r\n                slice_1.visible = this.visible;\r\n                // Apply accessibility\r\n                if (component_1.itemsFocusable()) {\r\n                    this.component.role = \"menu\";\r\n                    slice_1.role = \"menuitem\";\r\n                    slice_1.focusable = true;\r\n                }\r\n                else {\r\n                    this.component.role = \"list\";\r\n                    slice_1.role = \"listitem\";\r\n                    slice_1.focusable = false;\r\n                }\r\n                // Apply screen reader label\r\n                if (slice_1.focusable) {\r\n                    slice_1.events.on(\"focus\", function (ev) {\r\n                        slice_1.readerTitle = component_1.populateString(component_1.itemReaderText, _this);\r\n                    }, undefined, false);\r\n                    slice_1.events.on(\"blur\", function (ev) {\r\n                        slice_1.readerTitle = \"\";\r\n                    }, undefined, false);\r\n                }\r\n                if (slice_1.hoverable) {\r\n                    slice_1.events.on(\"over\", function (ev) {\r\n                        slice_1.readerTitle = component_1.populateString(component_1.itemReaderText, _this);\r\n                    }, undefined, false);\r\n                    slice_1.events.on(\"out\", function (ev) {\r\n                        slice_1.readerTitle = \"\";\r\n                    }, undefined, false);\r\n                }\r\n            }\r\n            return this._slice;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PercentSeriesDataItem.prototype, \"hiddenInLegend\", {\r\n        /**\r\n         * @return Disabled in legend?\r\n         */\r\n        get: function () {\r\n            return this.properties.hiddenInLegend;\r\n        },\r\n        /**\r\n         * Should dataItem (slice) be hidden in legend?\r\n         *\r\n         * @param value Visible in legend?\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"hiddenInLegend\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PercentSeriesDataItem;\r\n}(SeriesDataItem));\r\nexport { PercentSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[PercentSeries]] which is a base class for [[PieSeries]],\r\n * [[FunnelSeries]], and [[PyramidSeries]].\r\n *\r\n * @see {@link IPercentSeriesEvents} for a list of available Events\r\n * @see {@link IPercentSeriesAdapters} for a list of available Adapters\r\n */\r\nvar PercentSeries = /** @class */ (function (_super) {\r\n    __extends(PercentSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PercentSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PercentSeries\";\r\n        _this._addAllDataItems = false;\r\n        _this.colors = new ColorSet();\r\n        _this.colors.step = 1;\r\n        _this.isMeasured = true;\r\n        _this.calculatePercent = true;\r\n        var slicesContainer = _this.createChild(Container);\r\n        slicesContainer.shouldClone = false;\r\n        slicesContainer.isMeasured = false;\r\n        _this.slicesContainer = slicesContainer;\r\n        var ticksContainer = _this.createChild(Container);\r\n        ticksContainer.shouldClone = false;\r\n        ticksContainer.isMeasured = false;\r\n        ticksContainer.layout = \"none\";\r\n        _this.ticksContainer = ticksContainer;\r\n        var labelsContainer = _this.createChild(Container);\r\n        labelsContainer.shouldClone = false;\r\n        labelsContainer.isMeasured = false;\r\n        labelsContainer.layout = \"none\";\r\n        _this.labelsContainer = labelsContainer;\r\n        _this.alignLabels = false;\r\n        _this.bulletsContainer.toFront();\r\n        // Make all slices focusable\r\n        _this.skipFocusThreshold = 50;\r\n        var defaultState = _this.defaultState;\r\n        defaultState.transitionEasing = $ease.sinOut;\r\n        // Accessibility\r\n        _this.itemReaderText = \"{category}: {value.percent.formatNumber('#.#')}%\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Creates a slice element.\r\n     *\r\n     * @return Slice\r\n     */\r\n    PercentSeries.prototype.createSlice = function () {\r\n        return new Sprite();\r\n    };\r\n    /**\r\n     * Creates a tick element.\r\n     *\r\n     * @return Tick\r\n     */\r\n    PercentSeries.prototype.createTick = function () {\r\n        return new Tick();\r\n    };\r\n    /**\r\n     * Sreates label element.\r\n     *\r\n     * @return label\r\n     */\r\n    PercentSeries.prototype.createLabel = function () {\r\n        return new Label();\r\n    };\r\n    Object.defineProperty(PercentSeries.prototype, \"slices\", {\r\n        /**\r\n         * A list of slice elements for the series.\r\n         *\r\n         * Use its `template` to configure look and behavior of the slices. E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * series.slices.template.stroke = am4core.color(\"#fff\");\r\n         * series.slices.template.strokeWidth = 2;\r\n         * ```\r\n         * ```JavaScript\r\n         * series.slices.template.stroke = am4core.color(\"#fff\");\r\n         * series.slices.template.strokeWidth = 2;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"slices\": {\r\n         *       \"stroke\": \"#fff\",\r\n         *       \"strokeWidth\": 2\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/list-templates/} for more information about list templates\r\n         * @return Slices\r\n         */\r\n        get: function () {\r\n            if (!this._slices) {\r\n                var slice = this.createSlice();\r\n                slice.applyOnClones = true;\r\n                this._disposers.push(slice);\r\n                this.initSlice(slice);\r\n                this._slices = new ListTemplate(slice);\r\n                this._disposers.push(new ListDisposer(this._slices));\r\n            }\r\n            return this._slices;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"ticks\", {\r\n        /**\r\n         * A list of tick elements for the series. Ticks connect slice to its label.\r\n         *\r\n         * Use its `template` to configure look and behavior of the ticks. E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * series.ticks.template.strokeWidth = 2;\r\n         * ```\r\n         * ```JavaScript\r\n         * series.ticks.template.strokeWidth = 2;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"ticks\": {\r\n         *       \"strokeWidth\": 2\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/list-templates/} for more information about list templates\r\n         * @return Ticks\r\n         */\r\n        get: function () {\r\n            if (!this._ticks) {\r\n                var tick = this.createTick();\r\n                tick.applyOnClones = true;\r\n                this._disposers.push(tick);\r\n                this.initTick(tick);\r\n                this._ticks = new ListTemplate(tick);\r\n                this._disposers.push(new ListDisposer(this._ticks));\r\n            }\r\n            return this._ticks;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"labels\", {\r\n        /**\r\n         * A list of slice label elements for the series.\r\n         *\r\n         * Use its `template` to configure look and behavior of the labels. E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * series.labels.template.fill = am4core.color(\"#c00\");\r\n         * series.labels.template.fontSize = 20;\r\n         * ```\r\n         * ```JavaScript\r\n         * series.labels.template.fill = am4core.color(\"#c00\");\r\n         * series.labels.template.fontSize = 20;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"labels\": {\r\n         *       \"stroke\": \"#c00\",\r\n         *       \"fontSize\": 20\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/list-templates/} for more information about list templates\r\n         * @return Labels\r\n         */\r\n        get: function () {\r\n            if (!this._labels) {\r\n                var label = this.createLabel();\r\n                label.applyOnClones = true;\r\n                this._disposers.push(label);\r\n                this.initLabel(label);\r\n                this._labels = new ListTemplate(label);\r\n                this._disposers.push(new ListDisposer(this._labels));\r\n            }\r\n            return this._labels;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    PercentSeries.prototype.createDataItem = function () {\r\n        return new PercentSeriesDataItem();\r\n    };\r\n    /**\r\n     * Creates and returns a new slice element.\r\n     *\r\n     * @param sliceType  Type of the slice element\r\n     * @return Slice\r\n     */\r\n    PercentSeries.prototype.initSlice = function (slice) {\r\n    };\r\n    PercentSeries.prototype.initLabel = function (label) {\r\n        label.text = \"{category}: {value.percent.formatNumber('#.0')}%\";\r\n        label.isMeasured = false;\r\n        label.padding(5, 5, 5, 5);\r\n    };\r\n    PercentSeries.prototype.initTick = function (label) {\r\n    };\r\n    /**\r\n     * Validates (processes) data items.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PercentSeries.prototype.validateDataItems = function () {\r\n        this.colors.reset();\r\n        if (this.patterns) {\r\n            this.patterns.reset();\r\n        }\r\n        _super.prototype.validateDataItems.call(this);\r\n    };\r\n    /**\r\n     * Validates data item's element, effectively redrawing it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    PercentSeries.prototype.validateDataElement = function (dataItem) {\r\n        var slice = dataItem.slice;\r\n        if (slice) {\r\n            if (slice.fill == undefined) {\r\n                if (this.patterns) {\r\n                    if (!$type.hasValue(slice.stroke)) {\r\n                        slice.stroke = this.colors.next();\r\n                    }\r\n                    slice.fill = this.patterns.next();\r\n                    if ($type.hasValue(slice.fillOpacity)) {\r\n                        slice.fill.backgroundOpacity = slice.fillOpacity;\r\n                    }\r\n                    if (slice.stroke instanceof Color) {\r\n                        slice.fill.stroke = slice.stroke;\r\n                        slice.fill.fill = slice.stroke;\r\n                    }\r\n                }\r\n                else {\r\n                    slice.fill = this.colors.next();\r\n                }\r\n            }\r\n            else {\r\n                this.colors.currentStep += this.colors.step;\r\n            }\r\n            if (slice.stroke == undefined) {\r\n                slice.stroke = slice.fill;\r\n            }\r\n        }\r\n        // do this at the end, otherwise bullets won't be positioned properly\r\n        _super.prototype.validateDataElement.call(this, dataItem);\r\n        if (slice) {\r\n            dataItem.bullets.each(function (key, bullet) {\r\n                if (bullet.fill == undefined) {\r\n                    bullet.fill = slice.fill;\r\n                }\r\n                if (bullet.stroke == undefined) {\r\n                    bullet.stroke = slice.stroke;\r\n                }\r\n            });\r\n        }\r\n        this.updateLegendValue(dataItem);\r\n    };\r\n    /**\r\n     * Validates (processes) data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PercentSeries.prototype.validateData = function () {\r\n        _super.prototype.validateData.call(this);\r\n        if (this.chart) {\r\n            this.chart.feedLegend();\r\n        }\r\n    };\r\n    /**\r\n     * Arranges slice labels according to position settings.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItems  Data items\r\n     */\r\n    PercentSeries.prototype.arrangeLabels = function (dataItems) {\r\n        for (var i = 0, len = dataItems.length; i < len; i++) {\r\n            var dataItem = dataItems[i];\r\n            var label = dataItem.label;\r\n            if (label) {\r\n                if (label.invalid) {\r\n                    label.validate();\r\n                }\r\n                var lh = label.measuredHeight;\r\n                if (!label.visible) {\r\n                    lh = 0;\r\n                }\r\n                if (label.pixelY - lh / 2 < -this.maxHeight / 2) {\r\n                    label.y = -this.maxHeight / 2 + lh / 2;\r\n                }\r\n                var nextLabel = this.getNextLabel(i + 1, dataItems);\r\n                var bottom = label.pixelY + lh;\r\n                if (nextLabel) {\r\n                    if (nextLabel.y < bottom) {\r\n                        nextLabel.y = bottom;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    PercentSeries.prototype.arrangeLabels2 = function (dataItems) {\r\n        var previousTop = this.maxHeight / 2;\r\n        for (var i = dataItems.length - 1; i >= 0; i--) {\r\n            var dataItem = dataItems[i];\r\n            var label = dataItem.label;\r\n            if (label) {\r\n                if (label.invalid) {\r\n                    label.validate();\r\n                }\r\n                var lh = label.measuredHeight;\r\n                if (!label.visible) {\r\n                    lh = 0;\r\n                }\r\n                if (i == dataItems.length - 1) {\r\n                    previousTop += lh / 2;\r\n                }\r\n                if (label.pixelY + lh > previousTop) {\r\n                    label.y = previousTop - lh;\r\n                    previousTop = label.y;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns the next label according to `index`.\r\n     *\r\n     * @param index      Current index\r\n     * @param dataItems  Data items\r\n     * @return Label element\r\n     */\r\n    PercentSeries.prototype.getNextLabel = function (index, dataItems) {\r\n        if (dataItems.length >= index) {\r\n            var nextDataItem = dataItems[index];\r\n            if (nextDataItem) {\r\n                if (nextDataItem.label) {\r\n                    if (nextDataItem.visible) {\r\n                        return nextDataItem.label;\r\n                    }\r\n                    else {\r\n                        return this.getNextLabel(index + 1, dataItems);\r\n                    }\r\n                }\r\n                else {\r\n                    return this.getNextLabel(index + 1, dataItems);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(PercentSeries.prototype, \"colors\", {\r\n        /**\r\n         * @return Color set\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"colors\");\r\n        },\r\n        /**\r\n         * A color set to be used for slices.\r\n         *\r\n         * For each new subsequent slice, the chart will assign the next color in\r\n         * this set.\r\n         *\r\n         * @param value  Color set\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"colors\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PercentSeries.prototype, \"patterns\", {\r\n        /**\r\n         * @return Pattern set\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"patterns\");\r\n        },\r\n        /**\r\n         * A [[PatternSet]] to use when creating patterned fills for slices.\r\n         *\r\n         * @since 4.7.5\r\n         * @param value  Pattern set\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"patterns\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Binds related legend data item's visual settings to this series' visual\r\n     * settings.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker    Container\r\n     * @param dataItem  Data item\r\n     */\r\n    PercentSeries.prototype.createLegendMarker = function (marker, dataItem) {\r\n        $iter.each(marker.children.iterator(), function (child) {\r\n            var slice = dataItem.slice;\r\n            child.defaultState.properties.fill = slice.fill;\r\n            child.defaultState.properties.stroke = slice.stroke;\r\n            child.defaultState.properties.fillOpacity = slice.fillOpacity;\r\n            child.defaultState.properties.strokeOpacity = slice.strokeOpacity;\r\n            child.fill = slice.fill;\r\n            child.stroke = slice.stroke;\r\n            child.fillOpacity = slice.fillOpacity;\r\n            child.strokeOpacity = slice.strokeOpacity;\r\n            if (child.fill == undefined) {\r\n                child.__disabled = true;\r\n            }\r\n            var legendDataItem = marker.dataItem;\r\n            legendDataItem.color = slice.fill;\r\n            legendDataItem.colorOrig = slice.fill;\r\n            child.addDisposer(slice.events.on(\"propertychanged\", function (ev) {\r\n                if (ev.property == \"fill\") {\r\n                    child.__disabled = false;\r\n                    if (!child.isActive) {\r\n                        child.fill = slice.fill;\r\n                    }\r\n                    child.defaultState.properties.fill = slice.fill;\r\n                    legendDataItem.color = slice.fill;\r\n                    legendDataItem.colorOrig = slice.fill;\r\n                }\r\n                if (ev.property == \"stroke\") {\r\n                    if (!child.isActive) {\r\n                        child.stroke = slice.stroke;\r\n                    }\r\n                    child.defaultState.properties.stroke = slice.stroke;\r\n                }\r\n            }, undefined, false));\r\n        });\r\n    };\r\n    /**\r\n     * Repositions bullets when slice's size changes.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event  Event\r\n     */\r\n    PercentSeries.prototype.handleSliceScale = function (event) {\r\n        var _this = this;\r\n        var slice = event.target;\r\n        var dataItem = slice.dataItem;\r\n        $iter.each(dataItem.bullets.iterator(), function (a) {\r\n            var value = a[1];\r\n            _this.positionBullet(value);\r\n        });\r\n    };\r\n    /**\r\n     * Repositions bullet and labels when slice moves.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event  Event\r\n     */\r\n    PercentSeries.prototype.handleSliceMove = function (event) {\r\n    };\r\n    /**\r\n     * Copies all properties from another instance of [[PercentSeries]].\r\n     *\r\n     * @param source  Source series\r\n     */\r\n    PercentSeries.prototype.copyFrom = function (source) {\r\n        _super.prototype.copyFrom.call(this, source);\r\n        this.slices.template.copyFrom(source.slices.template);\r\n        this.labels.template.copyFrom(source.labels.template);\r\n        this.ticks.template.copyFrom(source.ticks.template);\r\n        this.colors = source.colors.clone();\r\n    };\r\n    Object.defineProperty(PercentSeries.prototype, \"alignLabels\", {\r\n        /**\r\n         * @return Align labels?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"alignLabels\");\r\n        },\r\n        /**\r\n         * Align labels into nice vertical columns?\r\n         *\r\n         * This will ensure that labels never overlap with each other.\r\n         *\r\n         * Arranging labels into columns makes them more readble, and better user\r\n         * experience.\r\n         *\r\n         * If set to `false` labels will be positioned at `label.radius` distance,\r\n         * and may, in some cases, overlap.\r\n         *\r\n         * @default true\r\n         * @param value  Align labels?\r\n         */\r\n        set: function (value) {\r\n            this.setAlignLabels(value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    PercentSeries.prototype.setAlignLabels = function (value) {\r\n        this.setPropertyValue(\"alignLabels\", value, true);\r\n    };\r\n    Object.defineProperty(PercentSeries.prototype, \"ignoreZeroValues\", {\r\n        /**\r\n         * @return Ignore zero values\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"ignoreZeroValues\");\r\n        },\r\n        /**\r\n         * If set to `true` the chart will not show slices with zero values.\r\n         *\r\n         * @default false\r\n         * @since 4.7.9\r\n         * @param  value  Ignore zero values\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"ignoreZeroValues\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates corresponding legend data item with current values.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    PercentSeries.prototype.updateLegendValue = function (dataItem) {\r\n        if (dataItem) {\r\n            var legendDataItem = dataItem.legendDataItem;\r\n            var legendSettings = dataItem.legendSettings;\r\n            if (legendDataItem && legendSettings) {\r\n                if (legendSettings) {\r\n                    if (legendSettings.labelText) {\r\n                        legendDataItem.label.text = legendSettings.labelText;\r\n                    }\r\n                    if (legendSettings.itemLabelText) {\r\n                        legendDataItem.label.text = legendSettings.itemLabelText;\r\n                    }\r\n                    if (legendSettings.valueText) {\r\n                        legendDataItem.valueLabel.text = legendSettings.valueText;\r\n                    }\r\n                    if (legendSettings.itemValueText) {\r\n                        legendDataItem.valueLabel.text = legendSettings.itemValueText;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return PercentSeries;\r\n}(Series));\r\nexport { PercentSeries };\r\n/**\r\n * bboxter class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PercentSeries\"] = PercentSeries;\r\nregistry.registeredClasses[\"PercentSeriesDataItem\"] = PercentSeriesDataItem;\r\n/**\r\n * Add default responsive rules\r\n */\r\n/**\r\n * Disable labels and ticks.\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.maybeXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof PercentSeries) {\r\n            var state = target.states.create(stateId);\r\n            var labelState = target.labels.template.states.create(stateId);\r\n            labelState.properties.disabled = true;\r\n            var tickState = target.ticks.template.states.create(stateId);\r\n            tickState.properties.disabled = true;\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n//# sourceMappingURL=PercentSeries.js.map","/**\r\n * Defines Pictorial Stacked Series.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { PyramidSeries, PyramidSeriesDataItem } from \"./PyramidSeries\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n//@todo: sequenced?\r\n/**\r\n * Defines a [[DataItem]] for [[PictorialStackedSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar PictorialStackedSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(PictorialStackedSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PictorialStackedSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PictorialStackedSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return PictorialStackedSeriesDataItem;\r\n}(PyramidSeriesDataItem));\r\nexport { PictorialStackedSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a PictorialStacked series on a [[SlicedChart]].\r\n *\r\n * @see {@link IPictorialStackedSeriesEvents} for a list of available Events\r\n * @see {@link IPictorialStackedSeriesAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/sliced-chart/} for documentation\r\n * @important\r\n */\r\nvar PictorialStackedSeries = /** @class */ (function (_super) {\r\n    __extends(PictorialStackedSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PictorialStackedSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PictorialStackedSeries\";\r\n        _this.topWidth = percent(100);\r\n        _this.bottomWidth = percent(100);\r\n        _this.valueIs = \"height\";\r\n        _this.applyTheme();\r\n        _this.startLocation = 0;\r\n        _this.endLocation = 1;\r\n        _this.align = \"center\";\r\n        _this.valign = \"middle\";\r\n        _this._maskSprite = _this.slicesContainer.createChild(Sprite);\r\n        _this._maskSprite.visible = false;\r\n        _this._maskSprite.zIndex = 100;\r\n        _this._maskSprite.shouldClone = false;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sizes the mask to fit the series.\r\n     *\r\n     * @ignore\r\n     */\r\n    PictorialStackedSeries.prototype.validateDataElements = function () {\r\n        var maxWidth = this.slicesContainer.maxWidth;\r\n        var maxHeight = this.slicesContainer.maxHeight;\r\n        var maskSprite = this._maskSprite;\r\n        //maskSprite.validatePosition(); // for some reason size of the maskSprite is 0x0 after we removed validatePosition in afterdraw\r\n        var pictureWidth = maskSprite.measuredWidth / maskSprite.scale;\r\n        var pictureHeight = maskSprite.measuredHeight / maskSprite.scale;\r\n        var scale = $math.min(maxHeight / pictureHeight, maxWidth / pictureWidth);\r\n        if (scale == Infinity) {\r\n            scale = 1; // can't return here, won't draw legend properly\r\n        }\r\n        scale = $math.max(0.001, scale);\r\n        var startLocation = this.startLocation;\r\n        var endLocation = this.endLocation;\r\n        var newWidth = $math.min(maxWidth, pictureWidth * scale);\r\n        var newHeight = $math.min(maxHeight, pictureHeight * scale);\r\n        maskSprite.scale = scale;\r\n        if (this.orientation == \"vertical\") {\r\n            this.topWidth = newWidth + 4;\r\n            this.bottomWidth = newWidth + 4;\r\n            this.pyramidHeight = newHeight * (endLocation - startLocation);\r\n            maskSprite.x = maxWidth / 2;\r\n            maskSprite.y = newHeight / 2;\r\n        }\r\n        else {\r\n            this.topWidth = newHeight + 4;\r\n            this.bottomWidth = newHeight + 4;\r\n            this.pyramidHeight = newWidth * (endLocation - startLocation);\r\n            maskSprite.valign = \"middle\";\r\n            maskSprite.x = newWidth / 2;\r\n            maskSprite.y = maxHeight / 2;\r\n        }\r\n        maskSprite.verticalCenter = \"middle\";\r\n        maskSprite.horizontalCenter = \"middle\";\r\n        _super.prototype.validateDataElements.call(this);\r\n        var y;\r\n        var x;\r\n        if (this.orientation == \"vertical\") {\r\n            if (this.valign == \"bottom\") {\r\n                y = (maxHeight - newHeight);\r\n            }\r\n            if (this.valign == \"middle\") {\r\n                y = (maxHeight - newHeight) / 2;\r\n            }\r\n            if (this.valign == \"top\") {\r\n                y = 0;\r\n            }\r\n            if (this.align == \"left\") {\r\n                x = -(maxWidth - newWidth) / 2;\r\n            }\r\n            if (this.align == \"center\") {\r\n                x = 0;\r\n            }\r\n            if (this.align == \"right\") {\r\n                x = (maxWidth - newWidth) / 2;\r\n            }\r\n            this.slices.template.dy = startLocation * newHeight;\r\n            if (this.alignLabels) {\r\n                this.slicesContainer.dx = x;\r\n            }\r\n        }\r\n        else {\r\n            if (this.valign == \"bottom\") {\r\n                y = (maxHeight - newHeight) / 2;\r\n            }\r\n            if (this.valign == \"middle\") {\r\n                y = 0;\r\n            }\r\n            if (this.valign == \"top\") {\r\n                y = -(maxHeight - newHeight) / 2;\r\n            }\r\n            if (this.align == \"left\") {\r\n                x = 0;\r\n            }\r\n            if (this.align == \"center\") {\r\n                x = (maxWidth - newWidth) / 2;\r\n            }\r\n            if (this.align == \"right\") {\r\n                x = (maxWidth - newWidth);\r\n            }\r\n            this.slices.template.dx = startLocation * newWidth;\r\n            if (this.alignLabels) {\r\n                this.slicesContainer.dy = y;\r\n            }\r\n        }\r\n        this.slicesContainer.x = x;\r\n        this.labelsContainer.x = x;\r\n        this.ticksContainer.x = x;\r\n        this.slicesContainer.y = y;\r\n        this.labelsContainer.y = y;\r\n        this.ticksContainer.y = y;\r\n        if (newWidth > 0 && newHeight > 0) {\r\n            this.slicesContainer.mask = maskSprite;\r\n        }\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    PictorialStackedSeries.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Pyramid Series\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    PictorialStackedSeries.prototype.createDataItem = function () {\r\n        return new PictorialStackedSeriesDataItem();\r\n    };\r\n    Object.defineProperty(PictorialStackedSeries.prototype, \"maskSprite\", {\r\n        /**\r\n         * A [[Sprite]] element that is used as a series mask.\r\n         *\r\n         * If set, this element's shape will be used to apply shape to the whole\r\n         * stacked pictorial series.\r\n         *\r\n         * You can use this element's `path` property to set an SVG path for the\r\n         * shape:\r\n         *\r\n         * ```TypeScript\r\n         * let iconPath = \"M511.82,329.991c-0.256-1.212-1.064-2.244-2.192-2.784l-24.396-11.684c17.688-29.776,11.804-68.912-15.58-91.88 c-53.756-45.084-131.696-70.936-213.828-70.936c-82.128,0-160.068,25.856-213.82,70.936c-27.416,22.992-33.28,62.18-15.524,91.972 L2.276,327.203c-1.128,0.54-1.936,1.572-2.192,2.792c-0.256,1.22,0.08,2.496,0.896,3.436l21.204,24.388 c0.764,0.88,1.868,1.376,3.02,1.376c0.084,0,0.172,0,0.26-0.008c1.244-0.084,2.384-0.74,3.072-1.776l14.852-22.376 c12.648,10.112,28.392,15.776,44.916,15.776c16.872,0,33.284-5.98,46.232-16.836c27.828-23.34,73.172-37.272,121.288-37.272 c48.12,0,93.464,13.932,121.296,37.272c12.944,10.856,29.36,16.836,46.228,16.836c16.596,0,32.4-5.724,45.08-15.916l14.94,22.512 c0.692,1.04,1.824,1.696,3.076,1.776c0.084,0.008,0.172,0.008,0.256,0.008c1.156,0,2.256-0.496,3.02-1.376l21.2-24.388C511.74,332.487,512.068,331.211,511.82,329.991z\";\r\n         * // ...\r\n         * series.maskSprite.path = iconPath;\r\n         * ```\r\n         * ```JavaScript\r\n         * let iconPath = \"M511.82,329.991c-0.256-1.212-1.064-2.244-2.192-2.784l-24.396-11.684c17.688-29.776,11.804-68.912-15.58-91.88 c-53.756-45.084-131.696-70.936-213.828-70.936c-82.128,0-160.068,25.856-213.82,70.936c-27.416,22.992-33.28,62.18-15.524,91.972 L2.276,327.203c-1.128,0.54-1.936,1.572-2.192,2.792c-0.256,1.22,0.08,2.496,0.896,3.436l21.204,24.388 c0.764,0.88,1.868,1.376,3.02,1.376c0.084,0,0.172,0,0.26-0.008c1.244-0.084,2.384-0.74,3.072-1.776l14.852-22.376 c12.648,10.112,28.392,15.776,44.916,15.776c16.872,0,33.284-5.98,46.232-16.836c27.828-23.34,73.172-37.272,121.288-37.272 c48.12,0,93.464,13.932,121.296,37.272c12.944,10.856,29.36,16.836,46.228,16.836c16.596,0,32.4-5.724,45.08-15.916l14.94,22.512 c0.692,1.04,1.824,1.696,3.076,1.776c0.084,0.008,0.172,0.008,0.256,0.008c1.156,0,2.256-0.496,3.02-1.376l21.2-24.388C511.74,332.487,512.068,331.211,511.82,329.991z\";\r\n         * // ...\r\n         * series.maskSprite.path = iconPath;\r\n         * ```\r\n         * ```JSON\r\n         * let iconPath = \"M511.82,329.991c-0.256-1.212-1.064-2.244-2.192-2.784l-24.396-11.684c17.688-29.776,11.804-68.912-15.58-91.88 c-53.756-45.084-131.696-70.936-213.828-70.936c-82.128,0-160.068,25.856-213.82,70.936c-27.416,22.992-33.28,62.18-15.524,91.972 L2.276,327.203c-1.128,0.54-1.936,1.572-2.192,2.792c-0.256,1.22,0.08,2.496,0.896,3.436l21.204,24.388 c0.764,0.88,1.868,1.376,3.02,1.376c0.084,0,0.172,0,0.26-0.008c1.244-0.084,2.384-0.74,3.072-1.776l14.852-22.376 c12.648,10.112,28.392,15.776,44.916,15.776c16.872,0,33.284-5.98,46.232-16.836c27.828-23.34,73.172-37.272,121.288-37.272 c48.12,0,93.464,13.932,121.296,37.272c12.944,10.856,29.36,16.836,46.228,16.836c16.596,0,32.4-5.724,45.08-15.916l14.94,22.512 c0.692,1.04,1.824,1.696,3.076,1.776c0.084,0.008,0.172,0.008,0.256,0.008c1.156,0,2.256-0.496,3.02-1.376l21.2-24.388C511.74,332.487,512.068,331.211,511.82,329.991z\";\r\n         * // ...\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     \"type\": \"PictorialStackedSeries\",\r\n         *     // ...\r\n         *     \"maskSprite\": {\r\n         *       \"path\": iconPath\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @return Mask sprite\r\n         */\r\n        get: function () {\r\n            return this._maskSprite;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Inits FunnelSlice.\r\n     *\r\n     * @param slice to init\r\n     */\r\n    PictorialStackedSeries.prototype.initSlice = function (slice) {\r\n        _super.prototype.initSlice.call(this, slice);\r\n        var hs = slice.states.getKey(\"hover\");\r\n        if (hs) {\r\n            hs.properties.expandDistance = 0;\r\n        }\r\n    };\r\n    Object.defineProperty(PictorialStackedSeries.prototype, \"startLocation\", {\r\n        /**\r\n         * @return  Start location\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startLocation\");\r\n        },\r\n        /**\r\n         * Relative location to start series from.\r\n         *\r\n         * Range of values: 0 to 1.\r\n         *\r\n         * This setting indicates where actual slices will start relatively to the\r\n         * whole height/width of the series.\r\n         *\r\n         * For example, if we want slices to start at 30% from the top/left of the\r\n         * series, we can set `startLocation = 0.3`.\r\n         *\r\n         * To fill shape outside of the location range, use background of the\r\n         * property `slicesContainer`.\r\n         *\r\n         * ```TypeScript\r\n         * series.startLocation = 0.2;\r\n         * series.endLocation = 0.8;\r\n         * series.slicesContainer.background.fill = am4core.color(\"#eee\");\r\n         * ```\r\n         * ```JavaScript\r\n         * series.startLocation = 0.2;\r\n         * series.endLocation = 0.8;\r\n         * series.slicesContainer.background.fill = am4core.color(\"#eee\");\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"startLocation\": 0.2,\r\n         *     \"endLocation\": 0.8,\r\n         *     \"slicesContainer\": {\r\n         *       \"background\": {\r\n         *         \"fill\": \"#eee\"\r\n         *       }\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @default 0\r\n         * @since 4.1.13\r\n         * @param  value  Start location\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"startLocation\", value)) {\r\n                this.invalidateDataItems();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PictorialStackedSeries.prototype, \"endLocation\", {\r\n        /**\r\n         * @return End location\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endLocation\");\r\n        },\r\n        /**\r\n         * Relative location to end series at.\r\n         *\r\n         * Range of values: 0 to 1.\r\n         *\r\n         * This setting indicates where actual slices will end relatively to the\r\n         * whole height/width of the series.\r\n         *\r\n         * For example, if we want slices to end at 70% from the top/left of the\r\n         * series, we can set `endLocation = 0.7`.\r\n         *\r\n         * To fill shape outside of the location range, use background of the\r\n         * property `slicesContainer`.\r\n         *\r\n         * ```TypeScript\r\n         * series.startLocation = 0.2;\r\n         * series.endLocation = 0.8;\r\n         * series.slicesContainer.background.fill = am4core.color(\"#eee\");\r\n         * ```\r\n         * ```JavaScript\r\n         * series.startLocation = 0.2;\r\n         * series.endLocation = 0.8;\r\n         * series.slicesContainer.background.fill = am4core.color(\"#eee\");\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"series\": [{\r\n         *     // ...\r\n         *     \"startLocation\": 0.2,\r\n         *     \"endLocation\": 0.8,\r\n         *     \"slicesContainer\": {\r\n         *       \"background\": {\r\n         *         \"fill\": \"#eee\"\r\n         *       }\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * @default 1\r\n         * @since 4.1.13\r\n         * @param  value  End location\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"endLocation\", value)) {\r\n                this.invalidateDataItems();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PictorialStackedSeries;\r\n}(PyramidSeries));\r\nexport { PictorialStackedSeries };\r\n/**\r\n * bboxter class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PictorialStackedSeries\"] = PictorialStackedSeries;\r\nregistry.registeredClasses[\"PictorialStackedSeriesDataItem\"] = PictorialStackedSeriesDataItem;\r\n//# sourceMappingURL=PictorialStackedSeries.js.map","/**\r\n * Defines Pie Chart Series.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { PercentSeries, PercentSeriesDataItem } from \"./PercentSeries\";\r\nimport { Slice } from \"../../core/elements/Slice\";\r\n//import { Slice3D } from \"../../core/elements/3D/Slice3D\";\r\nimport { AxisLabelCircular } from \"../axes/AxisLabelCircular\";\r\nimport { PieTick } from \"../elements/PieTick\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { Percent, percent } from \"../../core/utils/Percent\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n//@todo: sequenced?\r\n/**\r\n * Defines a [[DataItem]] for [[PieSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar PieSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(PieSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PieSeriesDataItem\";\r\n        _this.values.radiusValue = {};\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(PieSeriesDataItem.prototype, \"radiusValue\", {\r\n        /**\r\n         * @return Radius\r\n         */\r\n        get: function () {\r\n            return this.values.radiusValue.value;\r\n        },\r\n        /**\r\n         * Slice's radius, if other than default.\r\n         *\r\n         * @param value  Radius\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"radiusValue\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Hide the data item (and corresponding visual elements).\r\n     *\r\n     * @param duration  Duration (ms)\r\n     * @param delay     Delay hiding (ms)\r\n     * @param toValue   Target value for animation\r\n     * @param fields    Fields to animate while hiding\r\n     */\r\n    PieSeriesDataItem.prototype.hide = function (duration, delay, toValue, fields) {\r\n        return _super.prototype.hide.call(this, duration, delay, 0, [\"value\", \"radiusValue\"]);\r\n    };\r\n    /**\r\n     * Show hidden data item (and corresponding visual elements).\r\n     *\r\n     * @param duration  Duration (ms)\r\n     * @param delay     Delay hiding (ms)\r\n     * @param fields    Fields to animate while hiding\r\n     */\r\n    PieSeriesDataItem.prototype.show = function (duration, delay, fields) {\r\n        return _super.prototype.show.call(this, duration, delay, [\"value\", \"radiusValue\"]);\r\n    };\r\n    return PieSeriesDataItem;\r\n}(PercentSeriesDataItem));\r\nexport { PieSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a slice series on a Pie chart.\r\n *\r\n * @see {@link IPieSeriesEvents} for a list of available Events\r\n * @see {@link IPieSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar PieSeries = /** @class */ (function (_super) {\r\n    __extends(PieSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PieSeries\";\r\n        _this.alignLabels = true;\r\n        //this.startAngle = -90;\r\n        //this.endAngle = 270;\r\n        _this.layout = \"none\";\r\n        _this.labels.template.radius = percent(5);\r\n        _this.addDisposer(_this.labels.template.events.on(\"enabled\", _this.invalidate, _this, false));\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * creates slice\r\n     */\r\n    PieSeries.prototype.createSlice = function () {\r\n        return new Slice();\r\n    };\r\n    /**\r\n     * creates tick\r\n     */\r\n    PieSeries.prototype.createTick = function () {\r\n        return new PieTick();\r\n    };\r\n    /**\r\n     * creates label\r\n     */\r\n    PieSeries.prototype.createLabel = function () {\r\n        return new AxisLabelCircular();\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    PieSeries.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Pie Slice Series\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    PieSeries.prototype.createDataItem = function () {\r\n        return new PieSeriesDataItem();\r\n    };\r\n    /**\r\n     * Inits slice.\r\n     *\r\n     * @param slice to init\r\n     */\r\n    PieSeries.prototype.initSlice = function (slice) {\r\n        slice.isMeasured = false;\r\n        slice.defaultState.properties.scale = 1;\r\n        slice.observe(\"scale\", this.handleSliceScale, this);\r\n        slice.observe([\"dx\", \"dy\", \"x\", \"y\", \"shiftRadius\"], this.handleSliceMove, this);\r\n        slice.tooltipText = \"{category}: {value.percent.formatNumber('#.#')}% ({value.value})\";\r\n        var hoverState = slice.states.create(\"hover\");\r\n        hoverState.properties.scale = 1.05;\r\n        var defaultState = slice.defaultState;\r\n        defaultState.properties.shiftRadius = 0;\r\n        slice.togglable = true;\r\n        slice.events.on(\"toggled\", function (event) {\r\n            event.target.hideTooltip();\r\n        });\r\n        var activeState = slice.states.create(\"active\");\r\n        activeState.properties.shiftRadius = 0.10;\r\n    };\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PieSeries.prototype.validate = function () {\r\n        this._leftItems = [];\r\n        this._rightItems = [];\r\n        this._currentStartAngle = this.startAngle;\r\n        this._arcRect = $math.getArcRect(this.startAngle, this.endAngle);\r\n        this._maxRadiusPercent = 0;\r\n        for (var i = this.startIndex; i < this.endIndex; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            var radiusValuePercent = dataItem.values.radiusValue.percent;\r\n            if (radiusValuePercent > this._maxRadiusPercent) {\r\n                this._maxRadiusPercent = radiusValuePercent;\r\n            }\r\n        }\r\n        _super.prototype.validate.call(this);\r\n        if (this.alignLabels) {\r\n            if (this.startAngle > this.endAngle) {\r\n                this._rightItems.reverse();\r\n            }\r\n            else {\r\n                this._leftItems.reverse();\r\n            }\r\n            this._rightItems.sort(function (a, b) {\r\n                var aAngle = (a.slice.middleAngle + 360) % 360;\r\n                var bAngle = (b.slice.middleAngle + 360) % 360;\r\n                if (aAngle > 270) {\r\n                    aAngle -= 360;\r\n                }\r\n                if (bAngle > 270) {\r\n                    bAngle -= 360;\r\n                }\r\n                if (aAngle < bAngle) {\r\n                    return -1;\r\n                }\r\n                else {\r\n                    return 1;\r\n                }\r\n            });\r\n            this._leftItems.sort(function (a, b) {\r\n                var aAngle = (a.slice.middleAngle + 360) % 360;\r\n                var bAngle = (b.slice.middleAngle + 360) % 360;\r\n                if (aAngle < bAngle) {\r\n                    return 1;\r\n                }\r\n                else {\r\n                    return -1;\r\n                }\r\n            });\r\n            this.arrangeLabels(this._rightItems);\r\n            this.arrangeLabels2(this._rightItems);\r\n            this.arrangeLabels(this._leftItems);\r\n            this.arrangeLabels2(this._leftItems);\r\n        }\r\n    };\r\n    /**\r\n     * Validates data item's element, effectively redrawing it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    PieSeries.prototype.validateDataElement = function (dataItem) {\r\n        if (this.pixelRadius > 0) {\r\n            if (this.ignoreZeroValues && dataItem.value == 0) {\r\n                dataItem.__disabled = true;\r\n            }\r\n            else {\r\n                dataItem.__disabled = false;\r\n            }\r\n            // SLICE\r\n            var slice = dataItem.slice;\r\n            slice.radius = this.pixelRadius;\r\n            if ($type.isNumber(dataItem.radiusValue)) {\r\n                slice.radius = this.pixelInnerRadius + (this.pixelRadius - this.pixelInnerRadius) * dataItem.values.radiusValue.percent / this._maxRadiusPercent;\r\n            }\r\n            if (!(slice.innerRadius instanceof Percent)) {\r\n                slice.innerRadius = this.pixelInnerRadius;\r\n            }\r\n            slice.startAngle = this._currentStartAngle;\r\n            slice.arc = Math.abs(dataItem.values.value.percent) * (this.endAngle - this.startAngle) / 100;\r\n            // LABEL\r\n            if (!this.labels.template.disabled) {\r\n                var label = dataItem.label;\r\n                var tick = dataItem.tick;\r\n                tick.slice = slice;\r\n                tick.label = label;\r\n                var normalizedMiddleAngle = (slice.middleAngle + 360) % 360; // force angle to be 0 - 360;\r\n                var point = void 0;\r\n                if (this.alignLabels) {\r\n                    var labelRadius = label.pixelRadius(slice.radius);\r\n                    var x = tick.length + labelRadius;\r\n                    label.dx = 0;\r\n                    label.dy = 0;\r\n                    label.verticalCenter = \"middle\";\r\n                    var arcRect = this._arcRect;\r\n                    // right half\r\n                    if (normalizedMiddleAngle > 270 || normalizedMiddleAngle <= 90) {\r\n                        x += (arcRect.width + arcRect.x) * this.pixelRadius;\r\n                        label.horizontalCenter = \"left\";\r\n                        this._rightItems.push(dataItem);\r\n                    }\r\n                    // left half\r\n                    else {\r\n                        x -= arcRect.x * this.pixelRadius;\r\n                        label.horizontalCenter = \"right\";\r\n                        this._leftItems.push(dataItem);\r\n                        x *= -1;\r\n                    }\r\n                    var distance = slice.radius + tick.length + labelRadius;\r\n                    point = { x: x, y: slice.iy * distance };\r\n                    label.moveTo(point);\r\n                }\r\n                else {\r\n                    var depth = slice[\"depth\"];\r\n                    if (!$type.isNumber(depth)) {\r\n                        depth = 0;\r\n                    }\r\n                    label.fixPosition(slice.middleAngle, slice.radius, slice.radiusY, 0, -depth);\r\n                }\r\n            }\r\n            this._currentStartAngle += slice.arc;\r\n            // do this at the end, otherwise bullets won't be positioned properly\r\n            _super.prototype.validateDataElement.call(this, dataItem);\r\n        }\r\n    };\r\n    Object.defineProperty(PieSeries.prototype, \"radius\", {\r\n        /**\r\n         * @return Radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Outer radius for the series' slices in pixels or [[Percent]].\r\n         *\r\n         * @param value  Radius\r\n         */\r\n        set: function (value) {\r\n            if (this.setPercentProperty(\"radius\", value, true, false, 10, false)) {\r\n                this.invalidateDataItems();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"pixelRadius\", {\r\n        /**\r\n         * @return Radius\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this._pixelRadius;\r\n        },\r\n        /**\r\n         * @ignore\r\n         */\r\n        set: function (value) {\r\n            if (this._pixelRadius != value) {\r\n                this._pixelRadius = value;\r\n                this.invalidateDataItems();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"pixelInnerRadius\", {\r\n        /**\r\n         * @return Pixel inner radius\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this._pixelInnerRadius;\r\n        },\r\n        /**\r\n         * @ignore\r\n         */\r\n        set: function (value) {\r\n            if (this._pixelInnerRadius != value) {\r\n                this._pixelInnerRadius = value;\r\n                this.invalidateDataItems();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"innerRadius\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @return Radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Inner radius for the series' slices in pixels.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Redo so that users can set it\r\n         * @param value  Radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Angle\r\n         */\r\n        get: function () {\r\n            var startAngle = this.getPropertyValue(\"startAngle\");\r\n            if ($type.isNumber(startAngle)) {\r\n                return startAngle;\r\n            }\r\n            else {\r\n                return this._startAngleInternal;\r\n            }\r\n        },\r\n        /**\r\n         * Start angle for the series' slices in degrees. (0-360)\r\n         *\r\n         * @param value  Angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startAngle\", $math.normalizeAngle(value), true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieSeries.prototype, \"endAngle\", {\r\n        /**\r\n         * @return Angle\r\n         */\r\n        get: function () {\r\n            var endAngle = this.getPropertyValue(\"endAngle\");\r\n            if ($type.isNumber(endAngle)) {\r\n                return endAngle;\r\n            }\r\n            else {\r\n                return this._endAngleInternal;\r\n            }\r\n        },\r\n        /**\r\n         * End angle for the series' slices in degrees. (0-360)\r\n         *\r\n         * @param value  Angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"endAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Positions series bullet.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param bullet  Bullet\r\n     */\r\n    PieSeries.prototype.positionBullet = function (bullet) {\r\n        _super.prototype.positionBullet.call(this, bullet);\r\n        var dataItem = bullet.dataItem;\r\n        var slice = dataItem.slice;\r\n        var locationX = bullet.locationX;\r\n        if (!$type.isNumber(locationX)) {\r\n            locationX = 0.5;\r\n        }\r\n        var locationY = bullet.locationY;\r\n        if (!$type.isNumber(locationY)) {\r\n            locationY = 1;\r\n        }\r\n        var angle = slice.startAngle + slice.arc * locationX;\r\n        bullet.x = locationY * slice.radius * $math.cos(angle);\r\n        bullet.y = locationY * slice.radiusY * $math.sin(angle);\r\n    };\r\n    /**\r\n     * Repositions bullet and labels when slice moves.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event  Event\r\n     */\r\n    PieSeries.prototype.handleSliceMove = function (event) {\r\n        if (!this.alignLabels) {\r\n            var slice = event.target;\r\n            var dataItem = slice.dataItem;\r\n            // moving textelement, as label dx and dy are already employed for aligning\r\n            //@labeltodo\r\n            if (dataItem) {\r\n                var label = dataItem.label;\r\n                if (label) {\r\n                    label.dx = label.fdx + slice.dx + slice.pixelX;\r\n                    label.dy = label.fdy + slice.dy + slice.pixelY;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(PieSeries.prototype, \"bbox\", {\r\n        /**\r\n         * Returns bounding box (square) for this element.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        get: function () {\r\n            if (this.definedBBox) {\r\n                return this.definedBBox;\r\n            }\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                return $math.getArcRect(chart.startAngle, chart.endAngle, this.pixelRadius);\r\n            }\r\n            return $math.getArcRect(this.startAngle, this.endAngle, this.pixelRadius);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PieSeries;\r\n}(PercentSeries));\r\nexport { PieSeries };\r\n/**\r\n * bboxter class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PieSeries\"] = PieSeries;\r\nregistry.registeredClasses[\"PieSeriesDataItem\"] = PieSeriesDataItem;\r\n//# sourceMappingURL=PieSeries.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { __extends } from \"tslib\";\r\nimport { PieSeries, PieSeriesDataItem } from \"../series/PieSeries\";\r\nimport { Slice3D } from \"../../core/elements/3d/Slice3D\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[PieSeries3D]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar PieSeries3DDataItem = /** @class */ (function (_super) {\r\n    __extends(PieSeries3DDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieSeries3DDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PieSeries3DDataItem\";\r\n        _this.values.depthValue = {};\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(PieSeries3DDataItem.prototype, \"depthValue\", {\r\n        /**\r\n         * @return Depth\r\n         */\r\n        get: function () {\r\n            return this.values[\"depthValue\"].value;\r\n        },\r\n        /**\r\n         * Slice depth (height).\r\n         *\r\n         * @param value  Depth\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"depthValue\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PieSeries3DDataItem;\r\n}(PieSeriesDataItem));\r\nexport { PieSeries3DDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a slice series on a 3D pie chart.\r\n *\r\n * @see {@link IPieSeries3DEvents} for a list of available Events\r\n * @see {@link IPieSeries3DAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar PieSeries3D = /** @class */ (function (_super) {\r\n    __extends(PieSeries3D, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieSeries3D() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PieSeries3D\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    PieSeries3D.prototype.createDataItem = function () {\r\n        return new PieSeries3DDataItem();\r\n    };\r\n    /**\r\n     * creates slice\r\n     */\r\n    PieSeries3D.prototype.createSlice = function () {\r\n        return new Slice3D();\r\n    };\r\n    /**\r\n     * Validates data item's element, effectively redrawing it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    PieSeries3D.prototype.validateDataElement = function (dataItem) {\r\n        var slice = dataItem.slice;\r\n        var depth = this.depth;\r\n        if (!$type.isNumber(depth)) {\r\n            depth = this.chart.depth;\r\n        }\r\n        var depthPercent = dataItem.values.depthValue.percent;\r\n        if (!$type.isNumber(depthPercent)) {\r\n            depthPercent = 100;\r\n        }\r\n        slice.depth = depthPercent * depth / 100;\r\n        var angle = this.angle;\r\n        if (!$type.isNumber(angle)) {\r\n            angle = this.chart.angle;\r\n        }\r\n        slice.angle = angle;\r\n        _super.prototype.validateDataElement.call(this, dataItem);\r\n    };\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PieSeries3D.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        for (var i = this._workingStartIndex; i < this._workingEndIndex; i++) {\r\n            var dataItem = this.dataItems.getIndex(i);\r\n            var slice = dataItem.slice;\r\n            var startAngle = slice.startAngle;\r\n            // find quarter\r\n            //q0 || q1\r\n            if ((startAngle >= -90 && startAngle < 90)) {\r\n                slice.toFront();\r\n            }\r\n            //q2 || q3\r\n            else if ((startAngle >= 90)) {\r\n                slice.toBack();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(PieSeries3D.prototype, \"depth\", {\r\n        /**\r\n         * @return Depth (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"depth\");\r\n        },\r\n        /**\r\n         * Depth (height) of the pie slice in pixels.\r\n         *\r\n         * @param value  Depth (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"depth\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieSeries3D.prototype, \"angle\", {\r\n        /**\r\n         * @return Angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"angle\");\r\n        },\r\n        /**\r\n         * Angle of the view point of the 3D pie. (0-360)\r\n         *\r\n         * @param value  Angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"angle\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Positions series bullet.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param bullet  Bullet\r\n     */\r\n    PieSeries3D.prototype.positionBullet = function (bullet) {\r\n        _super.prototype.positionBullet.call(this, bullet);\r\n        var dataItem = bullet.dataItem;\r\n        var slice = dataItem.slice;\r\n        bullet.y = bullet.pixelY - slice.depth;\r\n    };\r\n    return PieSeries3D;\r\n}(PieSeries));\r\nexport { PieSeries3D };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PieSeries3D\"] = PieSeries3D;\r\nregistry.registeredClasses[\"PieSeries3DDataItem\"] = PieSeries3DDataItem;\r\n//# sourceMappingURL=PieSeries3D.js.map","/**\r\n * Defines Pyramid Series.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { FunnelSeries, FunnelSeriesDataItem } from \"./FunnelSeries\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n//@todo: sequenced?\r\n/**\r\n * Defines a [[DataItem]] for [[PyramidSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar PyramidSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(PyramidSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PyramidSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PyramidSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return PyramidSeriesDataItem;\r\n}(FunnelSeriesDataItem));\r\nexport { PyramidSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a FunnelSlice series on a [[SlicedChart]].\r\n *\r\n * @see {@link IPyramidSeriesEvents} for a list of available Events\r\n * @see {@link IPyramidSeriesAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/sliced-chart/} for documentation\r\n * @important\r\n */\r\nvar PyramidSeries = /** @class */ (function (_super) {\r\n    __extends(PyramidSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PyramidSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PyramidSeries\";\r\n        _this.topWidth = percent(0);\r\n        _this.bottomWidth = percent(100);\r\n        _this.pyramidHeight = percent(100);\r\n        _this.valueIs = \"area\";\r\n        _this.sliceLinks.template.width = 0;\r\n        _this.sliceLinks.template.height = 0;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    PyramidSeries.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Pyramid Series\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    PyramidSeries.prototype.createDataItem = function () {\r\n        return new PyramidSeriesDataItem();\r\n    };\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PyramidSeries.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n        this._nextWidth = undefined;\r\n    };\r\n    /**\r\n     * [getNextValue description]\r\n     *\r\n     * @todo Description\r\n     * @param dataItem [description]\r\n     * @return [description]\r\n     */\r\n    PyramidSeries.prototype.getNextValue = function (dataItem) {\r\n        var index = dataItem.index;\r\n        var nextValue = dataItem.getWorkingValue(\"value\");\r\n        if (index < this.dataItems.length - 1) {\r\n            var nextItem = this.dataItems.getIndex(index + 1);\r\n            nextValue = nextItem.getWorkingValue(\"value\");\r\n        }\r\n        if (nextValue == 0) {\r\n            nextValue = 0.000001;\r\n        }\r\n        return nextValue;\r\n    };\r\n    /**\r\n     * [validateDataElements description]\r\n     *\r\n     * @todo Description\r\n     * @ignore Exclude from docs\r\n     */\r\n    PyramidSeries.prototype.validateDataElements = function () {\r\n        var _this = this;\r\n        var maxWidth = this.slicesContainer.innerWidth;\r\n        var maxHeight = this.slicesContainer.innerHeight;\r\n        this.dataItems.each(function (dataItem) {\r\n            if (dataItem.value > 0) {\r\n                var relValue = dataItem.getWorkingValue(\"value\") / dataItem.value;\r\n                var sliceLink = dataItem.sliceLink;\r\n                if (_this.orientation == \"vertical\") {\r\n                    maxHeight -= (sliceLink.pixelHeight * relValue);\r\n                }\r\n                else {\r\n                    maxWidth -= (sliceLink.pixelWidth * relValue);\r\n                }\r\n            }\r\n        });\r\n        this._pyramidHeight = $utils.relativeToValue(this.pyramidHeight, maxHeight);\r\n        this._pyramidWidth = $utils.relativeToValue(this.pyramidHeight, maxWidth);\r\n        if (this.orientation == \"vertical\") {\r\n            var y = (maxHeight - this._pyramidHeight) / 2;\r\n            this.slicesContainer.y = y;\r\n            this.labelsContainer.y = y;\r\n            this.ticksContainer.y = y;\r\n        }\r\n        else {\r\n            var x = (maxWidth - this._pyramidWidth) / 2;\r\n            this.slicesContainer.x = x;\r\n            this.labelsContainer.x = x;\r\n            this.ticksContainer.x = x;\r\n        }\r\n        _super.prototype.validateDataElements.call(this);\r\n    };\r\n    /**\r\n     * [decorateSlice description]\r\n     *\r\n     * @todo Description\r\n     * @param dataItem [description]\r\n     */\r\n    PyramidSeries.prototype.decorateSlice = function (dataItem) {\r\n        var sum = this.dataItem.values.value.absoluteSum;\r\n        if (sum == 0) {\r\n            return;\r\n        }\r\n        var slice = dataItem.slice;\r\n        var sliceLink = dataItem.sliceLink;\r\n        var label = dataItem.label;\r\n        var tick = dataItem.tick;\r\n        // TODO can this be removed ?\r\n        this.getNextValue(dataItem);\r\n        var workingValue = Math.abs(dataItem.getWorkingValue(\"value\"));\r\n        var pyramidWidth = this._pyramidWidth;\r\n        var pyramidHeight = this._pyramidHeight;\r\n        var maxWidth = this.slicesContainer.innerWidth;\r\n        var maxHeight = this.slicesContainer.innerHeight;\r\n        var linkWidth = sliceLink.pixelWidth;\r\n        var linkHeight = sliceLink.pixelHeight;\r\n        if (dataItem.value == 0 && this.ignoreZeroValues) {\r\n            dataItem.__disabled = true;\r\n        }\r\n        else {\r\n            dataItem.__disabled = false;\r\n        }\r\n        if (this.orientation == \"vertical\") {\r\n            var topWidth = $utils.relativeToValue(this.topWidth, maxWidth);\r\n            if (!$type.isNumber(this._nextWidth)) {\r\n                this._nextWidth = topWidth;\r\n            }\r\n            var bottomWidth = $utils.relativeToValue(this.bottomWidth, maxWidth);\r\n            var sliceTopWidth = this._nextWidth;\r\n            var angle = Math.atan2(pyramidHeight, topWidth - bottomWidth);\r\n            var c = Math.tan(Math.PI / 2 - angle);\r\n            if (c == 0) {\r\n                c = 0.00000001;\r\n            }\r\n            var sliceHeight = void 0;\r\n            var sliceBottomWidth = void 0;\r\n            if (this.valueIs == \"area\") {\r\n                var totalSquare = (topWidth + bottomWidth) / 2 * pyramidHeight;\r\n                var square = totalSquare * workingValue / sum;\r\n                var s = Math.abs(sliceTopWidth * sliceTopWidth - 2 * square * c);\r\n                sliceHeight = (sliceTopWidth - Math.sqrt(s)) / c;\r\n                if (sliceHeight > 0) {\r\n                    sliceBottomWidth = (2 * square - sliceHeight * sliceTopWidth) / sliceHeight;\r\n                }\r\n                else {\r\n                    sliceBottomWidth = sliceTopWidth;\r\n                }\r\n            }\r\n            else {\r\n                sliceHeight = pyramidHeight * workingValue / sum;\r\n                sliceBottomWidth = sliceTopWidth - sliceHeight * c;\r\n            }\r\n            slice.height = sliceHeight;\r\n            slice.width = maxWidth;\r\n            slice.bottomWidth = sliceBottomWidth;\r\n            slice.topWidth = sliceTopWidth;\r\n            sliceLink.topWidth = slice.bottomWidth;\r\n            sliceLink.bottomWidth = slice.bottomWidth;\r\n            slice.y = this._nextY;\r\n            //slice.x = maxWidth / 2;\r\n            if (!this.alignLabels) {\r\n                label.x = maxWidth / 2;\r\n            }\r\n            else {\r\n                label.x = 0;\r\n            }\r\n            label.y = slice.pixelY + slice.pixelHeight * tick.locationY + slice.dy;\r\n            this._nextY += slice.pixelHeight + linkHeight * workingValue / Math.max(Math.abs(dataItem.value), 0.00000001);\r\n            sliceLink.y = this._nextY - linkHeight;\r\n            sliceLink.x = maxWidth / 2;\r\n        }\r\n        else {\r\n            var topWidth = $utils.relativeToValue(this.topWidth, maxHeight);\r\n            if (!$type.isNumber(this._nextWidth)) {\r\n                this._nextWidth = topWidth;\r\n            }\r\n            var bottomWidth = $utils.relativeToValue(this.bottomWidth, maxHeight);\r\n            var sliceTopWidth = this._nextWidth;\r\n            var angle = Math.atan2(pyramidWidth, topWidth - bottomWidth);\r\n            var c = Math.tan(Math.PI / 2 - angle);\r\n            if (c == 0) {\r\n                c = 0.00000001;\r\n            }\r\n            var sliceWidth = void 0;\r\n            var sliceBottomWidth = void 0;\r\n            if (this.valueIs == \"area\") {\r\n                var totalSquare = (topWidth + bottomWidth) / 2 * pyramidWidth;\r\n                var square = totalSquare * workingValue / sum;\r\n                sliceWidth = (sliceTopWidth - Math.sqrt(sliceTopWidth * sliceTopWidth - 2 * square * c)) / c;\r\n                sliceBottomWidth = (2 * square - sliceWidth * sliceTopWidth) / sliceWidth;\r\n            }\r\n            else {\r\n                sliceWidth = pyramidWidth * workingValue / sum;\r\n                sliceBottomWidth = sliceTopWidth - sliceWidth * c;\r\n            }\r\n            slice.width = sliceWidth;\r\n            slice.height = maxHeight;\r\n            slice.bottomWidth = sliceBottomWidth;\r\n            slice.topWidth = sliceTopWidth;\r\n            sliceLink.topWidth = slice.bottomWidth;\r\n            sliceLink.bottomWidth = slice.bottomWidth;\r\n            slice.x = this._nextY;\r\n            if (!this.alignLabels) {\r\n                label.y = maxHeight / 2;\r\n            }\r\n            else {\r\n                label.y = this.labelsContainer.measuredHeight;\r\n            }\r\n            label.x = slice.pixelX + slice.pixelWidth * tick.locationX + slice.dx;\r\n            this._nextY += slice.pixelWidth + linkWidth * workingValue / Math.max(Math.abs(dataItem.value), 0.00000001);\r\n            sliceLink.x = this._nextY - linkWidth;\r\n            sliceLink.y = maxHeight / 2;\r\n        }\r\n        this._nextWidth = slice.bottomWidth;\r\n    };\r\n    Object.defineProperty(PyramidSeries.prototype, \"topWidth\", {\r\n        /**\r\n         * @return {number | Percent}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"topWidth\");\r\n        },\r\n        /**\r\n         * Width of the pyramid's tip in pixels or relative (`Percent`).\r\n         *\r\n         * `0%` (default) means the pyramid will be perfectly pointy.\r\n         * `50%` will have a cut off / blunt top that is half the width of the chart.\r\n         * `100%` will take the whole width of the chart.\r\n         *\r\n         * If you need the downward-pointing pyramid, you might want to `topWidth` to\r\n         * `100%` and `bottomWidth` to `0%`.\r\n         *\r\n         * @default 0%\r\n         * @param {number | Percent}\r\n         */\r\n        set: function (value) {\r\n            if (this.setPercentProperty(\"topWidth\", value, false, false, 10, false)) {\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PyramidSeries.prototype, \"pyramidHeight\", {\r\n        /**\r\n         * @return {number | Percent}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"pyramidHeight\");\r\n        },\r\n        /**\r\n         * Height of pyramid\r\n         *\r\n         *\r\n         * @default 100%\r\n         * @param {number | Percent}\r\n         */\r\n        set: function (value) {\r\n            if (this.setPercentProperty(\"pyramidHeight\", value, false, false, 10, false)) {\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PyramidSeries.prototype, \"bottomWidth\", {\r\n        /**\r\n         * @return {number | Percent}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"bottomWidth\");\r\n        },\r\n        /**\r\n         * Width of the pyramid's bottom (bsae) in pixels or relative (`Percent`).\r\n         *\r\n         * `0%` means the pyramid's botto will be pointy.\r\n         * `50%` will have a cut off / blunt bottom that is half the width of the chart.\r\n         * `100%` (default) will take the whole width of the chart.\r\n         *\r\n         * If you need the downward-pointing pyramid, you might want to `topWidth` to\r\n         * `100%` and `bottomWidth` to `0%`.\r\n         *\r\n         * @param {number | Percent}\r\n         */\r\n        set: function (value) {\r\n            if (this.setPercentProperty(\"bottomWidth\", value, false, false, 10, false)) {\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PyramidSeries.prototype, \"valueIs\", {\r\n        /**\r\n         * @return {\"area\" | \"height\"}\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"valueIs\");\r\n        },\r\n        /**\r\n         * Indicates how slice's value will influence its size.\r\n         *\r\n         * `\"area\"` (default) means that the whole area of the pyramid (counting in\r\n         * modifications by `topWidth` and `bottomWidth`) will be divvied up between\r\n         * slices based on their value.\r\n         *\r\n         * With this setting at `\"area\"` the area of the trapezoids of each slice\r\n         * will represent their value relatively to values of the other slices.\r\n         *\r\n         * This is a correct way to depict \"weight\" of each slice based on their\r\n         * values.\r\n         *\r\n         * `\"height\"` means whole height (as opposed to area) of the pyramid will be\r\n         * divvied up between slices. Actual slice width or area is not counted in.\r\n         *\r\n         * From the data-viz standpoint this does not make a lot of sense, since\r\n         * slices with lesser values might appear more prominent if they are placed\r\n         * towards thick end of the pyramid since their areas will be bigger.\r\n         *\r\n         * @default \"area\"\r\n         * @param {\"area\" | \"height\"}\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"valueIs\", value)) {\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PyramidSeries;\r\n}(FunnelSeries));\r\nexport { PyramidSeries };\r\n/**\r\n * bboxter class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PyramidSeries\"] = PyramidSeries;\r\nregistry.registeredClasses[\"PyramidSeriesDataItem\"] = PyramidSeriesDataItem;\r\n//# sourceMappingURL=PyramidSeries.js.map","/**\r\n * Radar column series module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ColumnSeries, ColumnSeriesDataItem } from \"../series/ColumnSeries\";\r\nimport { visualProperties } from \"../../core/Sprite\";\r\nimport { CategoryAxis } from \"../axes/CategoryAxis\";\r\nimport { RadarColumn } from \"../elements/RadarColumn\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport { Percent } from \"../../core/utils/Percent\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $array from \"../../core/utils/Array\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[RadarColumnSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar RadarColumnSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(RadarColumnSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RadarColumnSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ColumnSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return RadarColumnSeriesDataItem;\r\n}(ColumnSeriesDataItem));\r\nexport { RadarColumnSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a 3D column graph.\r\n *\r\n * @see {@link IRadarColumnSeriesEvents} for a list of available Events\r\n * @see {@link IRadarColumnSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar RadarColumnSeries = /** @class */ (function (_super) {\r\n    __extends(RadarColumnSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RadarColumnSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"RadarColumnSeries\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Creates and returns a RadarColumn element to use as column in radar chart.\r\n     *\r\n     * @return RadarColumn.\r\n     */\r\n    RadarColumnSeries.prototype.createColumnTemplate = function () {\r\n        return new RadarColumn();\r\n    };\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    RadarColumnSeries.prototype.validate = function () {\r\n        // so that radius would be updated\r\n        if (this.chart.invalid) {\r\n            this.chart.validate();\r\n        }\r\n        _super.prototype.validate.call(this);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    RadarColumnSeries.prototype.disableUnusedColumns = function (dataItem) {\r\n        if (dataItem) {\r\n            if (dataItem.column) {\r\n                dataItem.column.__disabled = true;\r\n            }\r\n            $iter.each(this.axisRanges.iterator(), function (axisRange) {\r\n                var rangeColumn = dataItem.rangesColumns.getKey(axisRange.uid);\r\n                if (rangeColumn) {\r\n                    rangeColumn.__disabled = true;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Validates data item's element, effectively redrawing it.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    RadarColumnSeries.prototype.validateDataElementReal = function (dataItem) {\r\n        var _this = this;\r\n        var startAngle = this.chart.startAngle;\r\n        var endAngle = this.chart.endAngle;\r\n        var yField = this.yField;\r\n        var yOpenField = this.yOpenField;\r\n        var xField = this.xField;\r\n        var xOpenField = this.xOpenField;\r\n        var lAngle;\r\n        var rAngle;\r\n        var tRadius;\r\n        var bRadius;\r\n        var startLocation = this.getStartLocation(dataItem);\r\n        var endLocation = this.getEndLocation(dataItem);\r\n        var cellAngle = (endAngle - startAngle) / (this.dataItems.length * (this.end - this.start));\r\n        var radarColumn = dataItem.column;\r\n        if (!radarColumn) {\r\n            radarColumn = this.columns.create();\r\n            dataItem.column = radarColumn;\r\n            $object.copyProperties(this, radarColumn, visualProperties); // need this \r\n            $object.copyProperties(this.columns.template, radarColumn, visualProperties); // second time, no force, so that columns.template would override series properties\t\t\t\r\n            dataItem.addSprite(radarColumn);\r\n            radarColumn.paper = this.paper; // sometimes pattern is not drawn if is set with adapter without this.\r\n            this.setColumnStates(radarColumn);\r\n        }\r\n        var width = radarColumn.width;\r\n        var percentWidth = 100;\r\n        if (width instanceof Percent) {\r\n            percentWidth = width.percent;\r\n        }\r\n        var offset = $math.round((endLocation - startLocation) * (1 - percentWidth / 100) / 2, 5);\r\n        startLocation += offset;\r\n        endLocation -= offset;\r\n        // two category axes\r\n        if ((this.xAxis instanceof CategoryAxis) && (this.yAxis instanceof CategoryAxis)) {\r\n            tRadius = $math.getDistance({ x: this.yAxis.getX(dataItem, yField, 0, \"valueY\"), y: this.yAxis.getY(dataItem, yField, 0, \"valueY\") });\r\n            bRadius = $math.getDistance({ x: this.yAxis.getX(dataItem, yOpenField, 1, \"valueY\"), y: this.yAxis.getY(dataItem, yOpenField, 1, \"valueY\") });\r\n            lAngle = this.xAxis.getAngle(dataItem, xOpenField, 0, \"valueX\");\r\n            rAngle = this.xAxis.getAngle(dataItem, xField, 1, \"valueX\");\r\n            startAngle = startAngle + startLocation * cellAngle;\r\n            endAngle = endAngle - (1 - endLocation) * cellAngle;\r\n        }\r\n        else if (this.baseAxis == this.xAxis) {\r\n            tRadius = $math.getDistance({ x: this.yAxis.getX(dataItem, yField, dataItem.locations[yField], \"valueY\"), y: this.yAxis.getY(dataItem, yField, dataItem.locations[yField], \"valueY\") });\r\n            bRadius = $math.getDistance({ x: this.yAxis.getX(dataItem, yOpenField, dataItem.locations[yOpenField], \"valueY\"), y: this.yAxis.getY(dataItem, yOpenField, dataItem.locations[yOpenField], \"valueY\") });\r\n            lAngle = this.xAxis.getAngle(dataItem, xOpenField, startLocation, \"valueX\");\r\n            rAngle = this.xAxis.getAngle(dataItem, xField, endLocation, \"valueX\");\r\n            startAngle = startAngle + startLocation * cellAngle;\r\n            endAngle = endAngle - (1 - endLocation) * cellAngle;\r\n        }\r\n        else {\r\n            tRadius = $math.getDistance({ x: this.yAxis.getX(dataItem, yField, startLocation, \"valueY\"), y: this.yAxis.getY(dataItem, yField, startLocation, \"valueY\") });\r\n            bRadius = $math.getDistance({ x: this.yAxis.getX(dataItem, yOpenField, endLocation, \"valueY\"), y: this.yAxis.getY(dataItem, yOpenField, endLocation, \"valueY\") });\r\n            lAngle = this.xAxis.getAngle(dataItem, xField, dataItem.locations[xField], \"valueX\");\r\n            rAngle = this.xAxis.getAngle(dataItem, xOpenField, dataItem.locations[xOpenField], \"valueX\");\r\n        }\r\n        if (rAngle < lAngle) {\r\n            var temp = rAngle;\r\n            rAngle = lAngle;\r\n            lAngle = temp;\r\n        }\r\n        lAngle = $math.fitToRange(lAngle, startAngle, endAngle);\r\n        rAngle = $math.fitToRange(rAngle, startAngle, endAngle);\r\n        var slice = radarColumn.radarColumn;\r\n        slice.startAngle = lAngle;\r\n        var arc = rAngle - lAngle;\r\n        if (arc > 0) {\r\n            slice.arc = arc;\r\n            slice.radius = tRadius;\r\n            slice.innerRadius = bRadius;\r\n            radarColumn.__disabled = false;\r\n            radarColumn.parent = this.columnsContainer;\r\n            $iter.each(this.axisRanges.iterator(), function (axisRange) {\r\n                var rangeColumn = dataItem.rangesColumns.getKey(axisRange.uid);\r\n                if (!rangeColumn) {\r\n                    rangeColumn = _this.columns.create();\r\n                    $object.forceCopyProperties(_this.columns.template, rangeColumn, visualProperties);\r\n                    $object.copyProperties(axisRange.contents, rangeColumn, visualProperties); // need this because 3d columns are not in the same container\r\n                    if (rangeColumn.dataItem) {\r\n                        $array.remove(rangeColumn.dataItem.sprites, rangeColumn);\r\n                    }\r\n                    dataItem.addSprite(rangeColumn);\r\n                    rangeColumn.paper = _this.paper; // sometimes pattern is not drawn if is set with adapter without this.\t\t\t\t\t\r\n                    _this.setColumnStates(rangeColumn);\r\n                    dataItem.rangesColumns.setKey(axisRange.uid, rangeColumn);\r\n                }\r\n                var slice = rangeColumn.radarColumn;\r\n                slice.startAngle = lAngle;\r\n                slice.arc = arc;\r\n                slice.radius = tRadius;\r\n                slice.innerRadius = bRadius;\r\n                if (slice.invalid) {\r\n                    slice.paper = _this.paper;\r\n                    slice.validate(); // validate as if it was used previously, it will flicker with previous dimensions\r\n                }\r\n                rangeColumn.__disabled = false;\r\n                rangeColumn.parent = axisRange.contents;\r\n            });\r\n        }\r\n        else {\r\n            this.disableUnusedColumns(dataItem);\r\n        }\r\n    };\r\n    /**\r\n     * Returns an [[IPoint]] coordinates of the specific Serie's data point.\r\n     *\r\n     * @param    dataItem   Data item\r\n     * @param    xKey       Name of X data field\r\n     * @param    yKey       Name of Y data field\r\n     * @param    locationX  X location\r\n     * @param    locationY  Y location\r\n     * @param    stackKeyX  ?\r\n     * @param    stackKeyY  ?\r\n     * @returns             Coordinates\r\n     */\r\n    RadarColumnSeries.prototype.getPoint = function (dataItem, xKey, yKey, locationX, locationY, stackKeyX, stackKeyY) {\r\n        if (!stackKeyX) {\r\n            stackKeyX = \"valueX\";\r\n        }\r\n        if (!stackKeyY) {\r\n            stackKeyY = \"valueY\";\r\n        }\r\n        var x = this.yAxis.getX(dataItem, yKey, locationY, stackKeyY);\r\n        var y = this.yAxis.getY(dataItem, yKey, locationY, stackKeyY);\r\n        var radius = $math.getDistance({ x: x, y: y });\r\n        // hack to be able to determine angle later\r\n        if (radius == 0) {\r\n            radius = 0.00001;\r\n        }\r\n        var angle = this.xAxis.getAngle(dataItem, xKey, locationX, stackKeyX);\r\n        return { x: radius * $math.cos(angle), y: radius * $math.sin(angle) };\r\n    };\r\n    /**\r\n     * Returns an SVG path to be used as a mask for the series.\r\n     *\r\n     * @return SVG path\r\n     */\r\n    RadarColumnSeries.prototype.getMaskPath = function () {\r\n        var renderer = this.yAxis.renderer;\r\n        return $path.arc(renderer.startAngle, renderer.endAngle - renderer.startAngle, renderer.pixelRadius, renderer.pixelInnerRadius);\r\n    };\r\n    RadarColumnSeries.prototype.positionBulletReal = function (bullet, positionX, positionY) {\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (positionX < xAxis.start || positionX > xAxis.end || positionY < yAxis.start || positionY > yAxis.end) {\r\n            bullet.visible = false;\r\n        }\r\n        bullet.moveTo(this.xAxis.renderer.positionToPoint(positionX, positionY));\r\n    };\r\n    RadarColumnSeries.prototype.setXAxis = function (axis) {\r\n        _super.prototype.setXAxis.call(this, axis);\r\n        this.updateRendererRefs();\r\n    };\r\n    RadarColumnSeries.prototype.setYAxis = function (axis) {\r\n        _super.prototype.setYAxis.call(this, axis);\r\n        this.updateRendererRefs();\r\n    };\r\n    RadarColumnSeries.prototype.updateRendererRefs = function () {\r\n        var rendererX = this.xAxis.renderer;\r\n        var rendererY = this.yAxis.renderer;\r\n        rendererX.axisRendererY = rendererY;\r\n    };\r\n    return RadarColumnSeries;\r\n}(ColumnSeries));\r\nexport { RadarColumnSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RadarColumnSeries\"] = RadarColumnSeries;\r\nregistry.registeredClasses[\"RadarColumnSeriesDataItem\"] = RadarColumnSeriesDataItem;\r\n//# sourceMappingURL=RadarColumnSeries.js.map","/**\r\n * Radar series module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { LineSeries, LineSeriesDataItem } from \"./LineSeries\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n//import { AxisRendererCircular } from \"../axes/AxisRendererCircular\";\r\n//import { Sprite } from \"../../core/Sprite\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[RadarSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar RadarSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(RadarSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RadarSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"RadarSeriesDataItem\";\r\n        _this.setLocation(\"dateX\", 0, 0);\r\n        _this.setLocation(\"dateY\", 0, 0);\r\n        _this.setLocation(\"categoryX\", 0, 0);\r\n        _this.setLocation(\"categoryY\", 0, 0);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return RadarSeriesDataItem;\r\n}(LineSeriesDataItem));\r\nexport { RadarSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a radar graph.\r\n *\r\n * @see {@link IRadarSeriesEvents} for a list of available Events\r\n * @see {@link IRadarSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar RadarSeries = /** @class */ (function (_super) {\r\n    __extends(RadarSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RadarSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"RadarSeries\";\r\n        _this.connectEnds = true;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    RadarSeries.prototype.validate = function () {\r\n        // so that radius would be updated\r\n        if (this.chart.invalid) {\r\n            this.chart.validate();\r\n        }\r\n        _super.prototype.validate.call(this);\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    RadarSeries.prototype.createDataItem = function () {\r\n        return new RadarSeriesDataItem();\r\n    };\r\n    /**\r\n     * Returns an [[IPoint]] coordinates of the specific Serie's data point.\r\n     *\r\n     * @param    dataItem   Data item\r\n     * @param    xKey       Name of X data field\r\n     * @param    yKey       Name of Y data field\r\n     * @param    locationX  X location\r\n     * @param    locationY  Y location\r\n     * @param    stackKeyX  ?\r\n     * @param    stackKeyY  ?\r\n     * @returns             Coordinates\r\n     */\r\n    RadarSeries.prototype.getPoint = function (dataItem, xKey, yKey, locationX, locationY, stackKeyX, stackKeyY) {\r\n        if (!stackKeyX) {\r\n            stackKeyX = \"valueX\";\r\n        }\r\n        if (!stackKeyY) {\r\n            stackKeyY = \"valueY\";\r\n        }\r\n        var x = this.yAxis.getX(dataItem, yKey, locationY, stackKeyY);\r\n        var y = this.yAxis.getY(dataItem, yKey, locationY, stackKeyY);\r\n        var radius = $math.getDistance({ x: x, y: y });\r\n        // hack to be able to determine angle later\r\n        if (radius == 0) {\r\n            radius = 0.00001;\r\n        }\r\n        var angle = this.xAxis.getAngle(dataItem, xKey, locationX, stackKeyX);\r\n        var startAngle = this.chart.startAngle;\r\n        var endAngle = this.chart.endAngle;\r\n        //\t\tangle = $math.fitToRange(angle, startAngle, endAngle);\r\n        if (angle < startAngle || angle > endAngle) {\r\n            return undefined;\r\n        }\r\n        else {\r\n            return { x: radius * $math.cos(angle), y: radius * $math.sin(angle) };\r\n        }\r\n    };\r\n    /**\r\n     * [addPoints description]\r\n     *\r\n     * @todo Description\r\n     * @param points    [description]\r\n     * @param dataItem  [description]\r\n     * @param xField    [description]\r\n     * @param yField    [description]\r\n     * @param backwards [description]\r\n     */\r\n    RadarSeries.prototype.addPoints = function (points, dataItem, xField, yField, backwards) {\r\n        var point = this.getPoint(dataItem, xField, yField, dataItem.locations[xField], dataItem.locations[yField]);\r\n        if (point) {\r\n            points.push(point);\r\n        }\r\n    };\r\n    /**\r\n     * Returns an SVG path to be used as a mask for the series.\r\n     *\r\n     * @return SVG path\r\n     */\r\n    RadarSeries.prototype.getMaskPath = function () {\r\n        var renderer = this.yAxis.renderer;\r\n        return $path.arc(renderer.startAngle, renderer.endAngle - renderer.startAngle, renderer.pixelRadius, renderer.pixelInnerRadius);\r\n    };\r\n    /**\r\n     * [drawSegment description]\r\n     *\r\n     * @todo Description\r\n     * @param segment      [description]\r\n     * @param points       [description]\r\n     * @param closePoints  [description]\r\n     */\r\n    RadarSeries.prototype.drawSegment = function (segment, points, closePoints) {\r\n        var axis = this.yAxis;\r\n        var renderer = axis.renderer;\r\n        if (this.connectEnds && Math.abs(renderer.endAngle - renderer.startAngle) == 360) {\r\n            // adds one point to the beginning of closePoints array, if needed\r\n            if (this.dataFields[this._xOpenField] ||\r\n                this.dataFields[this._yOpenField] ||\r\n                this.stacked) {\r\n                points.push(points[0]);\r\n                if (closePoints.length > 0) {\r\n                    closePoints.unshift(closePoints[closePoints.length - 1]);\r\n                }\r\n            }\r\n        }\r\n        _super.prototype.drawSegment.call(this, segment, points, closePoints);\r\n    };\r\n    Object.defineProperty(RadarSeries.prototype, \"connectEnds\", {\r\n        /**\r\n         * @return Connect?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"connectEnds\");\r\n        },\r\n        /**\r\n         * Should the last and and first data points be connected, forming a complete\r\n         * closed circle?\r\n         *\r\n         * @default true\r\n         * @param value  Connect?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"connectEnds\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    RadarSeries.prototype.positionBulletReal = function (bullet, positionX, positionY) {\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (positionX < xAxis.start || positionX > xAxis.end || positionY < yAxis.start || positionY > yAxis.end) {\r\n            bullet.visible = false;\r\n        }\r\n        bullet.moveTo(this.xAxis.renderer.positionToPoint(positionX, positionY));\r\n    };\r\n    RadarSeries.prototype.setXAxis = function (axis) {\r\n        _super.prototype.setXAxis.call(this, axis);\r\n        this.updateRendererRefs();\r\n    };\r\n    RadarSeries.prototype.setYAxis = function (axis) {\r\n        _super.prototype.setYAxis.call(this, axis);\r\n        this.updateRendererRefs();\r\n    };\r\n    RadarSeries.prototype.updateRendererRefs = function () {\r\n        var rendererX = this.xAxis.renderer;\r\n        var rendererY = this.yAxis.renderer;\r\n        rendererX.axisRendererY = rendererY;\r\n    };\r\n    return RadarSeries;\r\n}(LineSeries));\r\nexport { RadarSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RadarSeries\"] = RadarSeries;\r\nregistry.registeredClasses[\"RadarSeriesDataItem\"] = RadarSeriesDataItem;\r\n//# sourceMappingURL=RadarSeries.js.map","/**\r\n * Step line series module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { LineSeries, LineSeriesDataItem } from \"./LineSeries\";\r\nimport { StepLineSeriesSegment } from \"./StepLineSeriesSegment\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[StepLineSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar StepLineSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(StepLineSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function StepLineSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"StepLineSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return StepLineSeriesDataItem;\r\n}(LineSeriesDataItem));\r\nexport { StepLineSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines [[Series]] for a step line graph.\r\n *\r\n * @see {@link IStepLineSeriesEvents} for a list of available Events\r\n * @see {@link IStepLineSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar StepLineSeries = /** @class */ (function (_super) {\r\n    __extends(StepLineSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function StepLineSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"StepLineSeries\";\r\n        _this.applyTheme();\r\n        _this.startLocation = 0;\r\n        _this.endLocation = 1;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    StepLineSeries.prototype.createDataItem = function () {\r\n        return new StepLineSeriesDataItem();\r\n    };\r\n    /**\r\n     * [addPoints description]\r\n     *\r\n     * @todo Description\r\n     * @param points     [description]\r\n     * @param dataItem   [description]\r\n     * @param xField     [description]\r\n     * @param yField     [description]\r\n     * @param backwards  [description]\r\n     */\r\n    StepLineSeries.prototype.addPoints = function (points, dataItem, xField, yField, backwards) {\r\n        var startLocationX;\r\n        var endLocationX;\r\n        var startLocationY;\r\n        var endLocationY;\r\n        if (this.baseAxis == this.xAxis) {\r\n            startLocationX = this.startLocation;\r\n            endLocationX = this.endLocation;\r\n            startLocationY = this.getAdjustedXLocation(dataItem, this.yOpenField);\r\n            endLocationY = this.getAdjustedXLocation(dataItem, this.yField);\r\n        }\r\n        if (this.baseAxis == this.yAxis) {\r\n            startLocationY = this.startLocation;\r\n            endLocationY = this.endLocation;\r\n            startLocationX = this.getAdjustedXLocation(dataItem, this.xOpenField);\r\n            endLocationX = this.getAdjustedXLocation(dataItem, this.xField);\r\n        }\r\n        var x0 = this.xAxis.getX(dataItem, xField, startLocationX);\r\n        var y0 = this.yAxis.getY(dataItem, yField, startLocationY);\r\n        var x1 = this.xAxis.getX(dataItem, xField, endLocationX);\r\n        var y1 = this.yAxis.getY(dataItem, yField, endLocationY);\r\n        x0 = $math.fitToRange(x0, -100000, 100000); // from geometric point of view this is not right, but practically it's ok. this is done to avoid too big objects.\r\n        y0 = $math.fitToRange(y0, -100000, 100000); // from geometric point of view this is not right, but practically it's ok. this is done to avoid too big objects.\r\n        x1 = $math.fitToRange(x1, -100000, 100000); // from geometric point of view this is not right, but practically it's ok. this is done to avoid too big objects.\r\n        y1 = $math.fitToRange(y1, -100000, 100000); // from geometric point of view this is not right, but practically it's ok. this is done to avoid too big objects.\r\n        // this might make an impression that points are duplicated, and they indeed are, but this is needed to handle gaps in data\r\n        if (!this.noRisers) {\r\n            if (points.length > 1) {\r\n                var prevPoint = points[points.length - 1];\r\n                if (this.baseAxis == this.xAxis) {\r\n                    if (backwards) {\r\n                        points.push({ x: prevPoint.x, y: y1 });\r\n                    }\r\n                    else {\r\n                        points.push({ x: x0, y: prevPoint.y });\r\n                    }\r\n                }\r\n                if (this.baseAxis == this.yAxis) {\r\n                    if (backwards) {\r\n                        points.push({ x: x1, y: prevPoint.y });\r\n                    }\r\n                    else {\r\n                        points.push({ x: prevPoint.x, y: y0 });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var point0 = { x: x0, y: y0 };\r\n        var point1 = { x: x1, y: y1 };\r\n        if (backwards) {\r\n            points.push(point1, point0);\r\n        }\r\n        else {\r\n            points.push(point0, point1);\r\n        }\r\n    };\r\n    /**\r\n     * Draws the line segment.\r\n     *\r\n     * @param segment     Segment\r\n     * @param points      Segment points\r\n     * @param closePoints Segment close points\r\n     */\r\n    StepLineSeries.prototype.drawSegment = function (segment, points, closePoints) {\r\n        var vertical = false;\r\n        if (this.yAxis == this.baseAxis) {\r\n            vertical = true;\r\n        }\r\n        segment.drawSegment(points, closePoints, this.tensionX, this.tensionY, this.noRisers, vertical);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    StepLineSeries.prototype.createSegment = function () {\r\n        return new StepLineSeriesSegment();\r\n    };\r\n    Object.defineProperty(StepLineSeries.prototype, \"noRisers\", {\r\n        /**\r\n         * @return No risers\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"noRisers\");\r\n        },\r\n        /**\r\n         * Specifies if step line series should draw only horizontal (or only\r\n         * vertical, depending on base axis) lines, instead of connecting them with\r\n         * vertical (or horizontal) lines.\r\n         *\r\n         * @default false\r\n         * @param value  No risers\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"noRisers\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(StepLineSeries.prototype, \"startLocation\", {\r\n        /**\r\n         * @return Location (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startLocation\");\r\n        },\r\n        /**\r\n         * start location of the step\r\n         *\r\n         * @param value Location (0-1)\r\n         * @default 0\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startLocation\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(StepLineSeries.prototype, \"endLocation\", {\r\n        /**\r\n         * @return Location (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endLocation\");\r\n        },\r\n        /**\r\n         * Step end location.\r\n         *\r\n         * @param value Location (0-1)\r\n         * #default 1\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"endLocation\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return StepLineSeries;\r\n}(LineSeries));\r\nexport { StepLineSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"StepLineSeries\"] = StepLineSeries;\r\nregistry.registeredClasses[\"StepLineSeriesDataItem\"] = StepLineSeriesDataItem;\r\n//# sourceMappingURL=StepLineSeries.js.map","/**\r\n * Line series segment module.\r\n * @todo Add description about what this is\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { LineSeriesSegment } from \"./LineSeriesSegment\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a line series segment.\r\n *\r\n * A line segment can be used to apply different properties to a part of the\r\n * line series, between two data points.\r\n *\r\n * @see {@link IStepLineSeriesSegmentEvents} for a list of available events\r\n * @see {@link IStepLineSeriesSegmentAdapters} for a list of available Adapters\r\n * @todo Example\r\n */\r\nvar StepLineSeriesSegment = /** @class */ (function (_super) {\r\n    __extends(StepLineSeriesSegment, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function StepLineSeriesSegment() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"StepLineSeriesSegment\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the series segment.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param points       Points to connect\r\n     * @param closePoints  ?\r\n     * @param smoothnessX  Horizontal bezier setting (?)\r\n     * @param smoothnessY  Vertical bezier setting (?)\r\n     */\r\n    StepLineSeriesSegment.prototype.drawSegment = function (points, closePoints, smoothnessX, smoothnessY, noRisers, vertical) {\r\n        if (points.length > 0 && closePoints.length > 0) {\r\n            if (noRisers) {\r\n                var path = $path.moveTo(points[0]);\r\n                if (points.length > 0) {\r\n                    for (var i = 1; i < points.length; i++) {\r\n                        var point = points[i];\r\n                        if (i / 2 == Math.round(i / 2)) {\r\n                            path += $path.moveTo(point);\r\n                        }\r\n                        else {\r\n                            path += $path.lineTo(point);\r\n                        }\r\n                    }\r\n                }\r\n                this.strokeSprite.path = path;\r\n                if (this.fillOpacity > 0 || this.fillSprite.fillOpacity > 0) { // helps to avoid drawing fill object if fill is not visible\r\n                    path = $path.moveTo(points[0]) + $path.polyline(points);\r\n                    path += $path.lineTo(closePoints[0]) + $path.polyline(closePoints);\r\n                    path += $path.lineTo(points[0]);\r\n                    path += $path.closePath();\r\n                    this.fillSprite.path = path;\r\n                }\r\n                else {\r\n                }\r\n            }\r\n            else {\r\n                var path = $path.moveTo(points[0]) + $path.polyline(points);\r\n                this.strokeSprite.path = path;\r\n                if (this.fillOpacity > 0 || this.fillSprite.fillOpacity > 0) { // helps to avoid drawing fill object if fill is not visible\r\n                    path += $path.lineTo(closePoints[0]) + $path.polyline(closePoints);\r\n                    path += $path.lineTo(points[0]);\r\n                    path += $path.closePath();\r\n                    this.fillSprite.path = path;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return StepLineSeriesSegment;\r\n}(LineSeriesSegment));\r\nexport { StepLineSeriesSegment };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"StepLineSeriesSegment\"] = StepLineSeriesSegment;\r\n//# sourceMappingURL=StepLineSeriesSegment.js.map","/**\r\n * TreeMap series module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { ColumnSeries, ColumnSeriesDataItem } from \"./ColumnSeries\";\r\nimport { visualProperties } from \"../../core/Sprite\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport { RoundedRectangle } from \"../../core/elements/RoundedRectangle\";\r\nimport * as $object from \"../../core/utils/Object\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[TreeMapSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar TreeMapSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(TreeMapSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function TreeMapSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"TreeMapSeriesDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TreeMapSeriesDataItem.prototype, \"parentName\", {\r\n        /**\r\n         * Data for the this particular item.\r\n         *\r\n         * @param value  Item's data\r\n         */\r\n        //public set dataContext(value: Object) {\r\n        //\tthis._dataContext = value;\r\n        //}\r\n        /**\r\n         * @return Item's data\r\n         */\r\n        /*\r\n       public get dataContext(): Object {\r\n           // It's because data of tree series is TreeMapDataItems.\r\n           if (this._dataContext) {\r\n               return (<any>this._dataContext).dataContext;\r\n           }\r\n       }*/\r\n        /**\r\n         * The name of the item's parent item.\r\n         *\r\n         * @return Parent name\r\n         */\r\n        get: function () {\r\n            var treeMapDataItem = this.treeMapDataItem;\r\n            if (treeMapDataItem && treeMapDataItem.parent) {\r\n                return treeMapDataItem.parent.name;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapSeriesDataItem.prototype, \"value\", {\r\n        /**\r\n         * Item's numeric value.\r\n         *\r\n         * @readonly\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            var treeMapDataItem = this.treeMapDataItem;\r\n            if (treeMapDataItem) {\r\n                return treeMapDataItem.value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapSeriesDataItem.prototype, \"treeMapDataItem\", {\r\n        /**\r\n         * A corresponding data item from the tree map.\r\n         *\r\n         * @readonly\r\n         * @return Data item\r\n         */\r\n        get: function () {\r\n            return this._dataContext;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Hides the Data Item and related visual elements.\r\n     *\r\n     * @param duration  Animation duration (ms)\r\n     * @param delay     Delay animation (ms)\r\n     * @param toValue   A value to set to `fields` when hiding\r\n     * @param fields    A list of data fields to set value to `toValue`\r\n     */\r\n    TreeMapSeriesDataItem.prototype.hide = function (duration, delay, toValue, fields) {\r\n        var treeMapDataItem = this.treeMapDataItem;\r\n        if (treeMapDataItem) {\r\n            treeMapDataItem.hide(duration);\r\n        }\r\n        return _super.prototype.hide.call(this, duration, delay, toValue, fields);\r\n    };\r\n    /**\r\n     * Shows the Data Item and related visual elements.\r\n     *\r\n     * @param duration  Animation duration (ms)\r\n     * @param delay     Delay animation (ms)\r\n     * @param fields    A list of fields to set values of\r\n     */\r\n    TreeMapSeriesDataItem.prototype.show = function (duration, delay, fields) {\r\n        var treeMapDataItem = this.treeMapDataItem;\r\n        if (treeMapDataItem) {\r\n            treeMapDataItem.show(duration, delay, fields);\r\n        }\r\n        return _super.prototype.show.call(this, duration, delay, fields);\r\n    };\r\n    return TreeMapSeriesDataItem;\r\n}(ColumnSeriesDataItem));\r\nexport { TreeMapSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines Series for a TreeMap chart.\r\n *\r\n * @see {@link ITreeMapSeriesEvents} for a list of available Events\r\n * @see {@link ITreeMapSeriesAdapters} for a list of available Adapters\r\n * @todo Example\r\n * @important\r\n */\r\nvar TreeMapSeries = /** @class */ (function (_super) {\r\n    __extends(TreeMapSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function TreeMapSeries() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"TreeMapSeries\";\r\n        _this.applyTheme();\r\n        _this.fillOpacity = 1;\r\n        _this.strokeOpacity = 1;\r\n        _this.minBulletDistance = 0;\r\n        _this.columns.template.tooltipText = \"{parentName} {name}: {value}\"; //@todo add format number?\r\n        _this.columns.template.configField = \"config\";\r\n        var interfaceColors = new InterfaceColorSet();\r\n        _this.stroke = interfaceColors.getFor(\"background\");\r\n        _this.dataFields.openValueX = \"x0\";\r\n        _this.dataFields.valueX = \"x1\";\r\n        _this.dataFields.openValueY = \"y0\";\r\n        _this.dataFields.valueY = \"y1\";\r\n        _this.sequencedInterpolation = false;\r\n        _this.showOnInit = false;\r\n        // otherwise nodes don't stack nicely to each other\r\n        _this.columns.template.pixelPerfect = false;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Processes data item.\r\n     *\r\n     * @param dataItem     Data item\r\n     * @param dataContext  Raw data\r\n     * @param index        Index of the data item\r\n     */\r\n    TreeMapSeries.prototype.processDataItem = function (dataItem, dataContext) {\r\n        dataContext.seriesDataItem = dataItem; // save a reference here. dataContext is TreeMapDataItem and we need to know dataItem sometimes\r\n        _super.prototype.processDataItem.call(this, dataItem, dataContext);\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    TreeMapSeries.prototype.createDataItem = function () {\r\n        return new TreeMapSeriesDataItem();\r\n    };\r\n    /**\r\n     * Shows series.\r\n     *\r\n     * @param duration  Duration of fade in (ms)\r\n     * @return Animation\r\n     */\r\n    TreeMapSeries.prototype.show = function (duration) {\r\n        if (this.preventShow) {\r\n            return;\r\n        }\r\n        var interpolationDuration = this.defaultState.transitionDuration;\r\n        if ($type.isNumber(duration)) {\r\n            interpolationDuration = duration;\r\n        }\r\n        this.dataItems.each(function (dataItem) {\r\n            //dataItem.treeMapDataItem.setWorkingValue(\"value\", dataItem.treeMapDataItem.values.value.value);\r\n            dataItem.show(duration);\r\n        });\r\n        return _super.prototype.showReal.call(this, interpolationDuration);\r\n    };\r\n    /**\r\n     * Hides series.\r\n     *\r\n     * @param duration  Duration of fade out (ms)\r\n     * @return Animation\r\n     */\r\n    TreeMapSeries.prototype.hide = function (duration) {\r\n        var interpolationDuration = this.defaultState.transitionDuration;\r\n        if ($type.isNumber(duration)) {\r\n            interpolationDuration = duration;\r\n        }\r\n        var animation = _super.prototype.hideReal.call(this, interpolationDuration);\r\n        this.dataItems.each(function (dataItem) {\r\n            //dataItem.treeMapDataItem.setWorkingValue(\"value\", 0);\r\n            dataItem.hide(duration);\r\n        });\r\n        return animation;\r\n    };\r\n    /**\r\n     * Process values.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    TreeMapSeries.prototype.processValues = function () {\r\n        // Just overriding so that inherited method does not kick in.\r\n    };\r\n    /**\r\n     * Returns relative start location for the data item.\r\n     *\r\n     * @param dataItem  Data item\r\n     * @return Location (0-1)\r\n     */\r\n    TreeMapSeries.prototype.getStartLocation = function (dataItem) {\r\n        return 0;\r\n    };\r\n    /**\r\n     * Returns relative end location for the data item.\r\n     *\r\n     * @param dataItem  Data item\r\n     * @return Location (0-1)\r\n     */\r\n    TreeMapSeries.prototype.getEndLocation = function (dataItem) {\r\n        return 1;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    TreeMapSeries.prototype.dataChangeUpdate = function () {\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    TreeMapSeries.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Add empty data fields if the they are not set, so that XYSeries\r\n            // dataField check does not result in error.\r\n            if (!$type.hasValue(config.dataFields) || !$type.isObject(config.dataFields)) {\r\n                config.dataFields = {};\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    /**\r\n     * Creates elements in related legend container, that mimics the look of this\r\n     * Series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param marker  Legend item container\r\n     */\r\n    TreeMapSeries.prototype.createLegendMarker = function (marker) {\r\n        var w = marker.pixelWidth;\r\n        var h = marker.pixelHeight;\r\n        marker.removeChildren();\r\n        var column = marker.createChild(RoundedRectangle);\r\n        column.shouldClone = false;\r\n        $object.copyProperties(this, column, visualProperties);\r\n        //column.copyFrom(<any>this.columns.template);\r\n        column.padding(0, 0, 0, 0); // if columns will have padding (which is often), legend marker will be very narrow\r\n        column.width = w;\r\n        column.height = h;\r\n        var legendDataItem = marker.dataItem;\r\n        legendDataItem.color = column.fill;\r\n        legendDataItem.colorOrig = column.fill;\r\n    };\r\n    TreeMapSeries.prototype.disableUnusedColumns = function (dataItem) {\r\n        _super.prototype.disableUnusedColumns.call(this, dataItem);\r\n        if (dataItem.column) {\r\n            dataItem.column.__disabled = false;\r\n        }\r\n    };\r\n    return TreeMapSeries;\r\n}(ColumnSeries));\r\nexport { TreeMapSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"TreeMapSeries\"] = TreeMapSeries;\r\nregistry.registeredClasses[\"TreeMapSeriesDataItem\"] = TreeMapSeriesDataItem;\r\n//# sourceMappingURL=TreeMapSeries.js.map","/**\r\n * XY series module.\r\n */\r\nimport { __extends, __values } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Series, SeriesDataItem } from \"./Series\";\r\nimport { Sprite, visualProperties } from \"../../core/Sprite\";\r\nimport { ValueAxis } from \"../axes/ValueAxis\";\r\nimport { Dictionary } from \"../../core/utils/Dictionary\";\r\nimport { MutableValueDisposer } from \"../../core/utils/Disposer\";\r\nimport { XYChart } from \"../types/XYChart\";\r\nimport { CategoryAxis } from \"../axes/CategoryAxis\";\r\nimport { DateAxis } from \"../axes/DateAxis\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $time from \"../../core/utils/Time\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport { options } from \"../../core/Options\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[XYSeries]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar XYSeriesDataItem = /** @class */ (function (_super) {\r\n    __extends(XYSeriesDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function XYSeriesDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"XYSeriesDataItem\";\r\n        _this.values.customValue = {};\r\n        _this.values.valueX = { stack: 0 };\r\n        _this.values.valueY = { stack: 0 };\r\n        _this.values.openValueX = {};\r\n        _this.values.openValueY = {};\r\n        _this.values.dateX = {};\r\n        _this.values.dateY = {};\r\n        _this.values.openDateX = {};\r\n        _this.values.openDateY = {};\r\n        _this.setLocation(\"dateX\", 0.5, 0);\r\n        _this.setLocation(\"dateY\", 0.5, 0);\r\n        _this.setLocation(\"categoryX\", 0.5, 0);\r\n        _this.setLocation(\"categoryY\", 0.5, 0);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"valueX\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.valueX.value;\r\n        },\r\n        /**\r\n         * Item's numeric value on X value axis.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"valueX\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"customValue\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.customValue.value;\r\n        },\r\n        /**\r\n         * Item's custom numeric value.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"customValue\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"valueY\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.valueY.value;\r\n        },\r\n        /**\r\n         * Item's numeric value on Y value axis.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"valueY\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"dateX\", {\r\n        /**\r\n         * @return Date\r\n         */\r\n        get: function () {\r\n            return this.getDate(\"dateX\");\r\n        },\r\n        /**\r\n         * Item's date value on X date-based axis.\r\n         *\r\n         * @param date  Date\r\n         */\r\n        set: function (date) {\r\n            this.setDate(\"dateX\", date);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"dateY\", {\r\n        /**\r\n         * @return Date\r\n         */\r\n        get: function () {\r\n            return this.getDate(\"dateY\");\r\n        },\r\n        /**\r\n         * Item's date value on Y date-based axis.\r\n         *\r\n         * @param date  Date\r\n         */\r\n        set: function (date) {\r\n            this.setDate(\"dateY\", date);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"categoryX\", {\r\n        /**\r\n         * @return Category\r\n         */\r\n        get: function () {\r\n            return this.categories.categoryX;\r\n        },\r\n        /**\r\n         * Item's category on X category axis.\r\n         *\r\n         * @param category  Category\r\n         */\r\n        set: function (category) {\r\n            this.setCategory(\"categoryX\", category);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"categoryY\", {\r\n        /**\r\n         * @return Category\r\n         */\r\n        get: function () {\r\n            return this.categories.categoryY;\r\n        },\r\n        /**\r\n         * Item's category on Y category axis.\r\n         *\r\n         * @param category  Category\r\n         */\r\n        set: function (category) {\r\n            this.setCategory(\"categoryY\", category);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"openValueX\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.openValueX.value;\r\n        },\r\n        /**\r\n         * Item's open numeric value on X value axis.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"openValueX\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"openValueY\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.openValueY.value;\r\n        },\r\n        /**\r\n         * Item's open numeric value on Y value axis.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"openValueY\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"openDateX\", {\r\n        /**\r\n         * @return Date\r\n         */\r\n        get: function () {\r\n            return this.getDate(\"openDateX\");\r\n        },\r\n        /**\r\n         * Item's open date value on X date-based axis.\r\n         *\r\n         * @param date  Date\r\n         */\r\n        set: function (date) {\r\n            this.setDate(\"openDateX\", date);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"openDateY\", {\r\n        /**\r\n         * @return Date\r\n         */\r\n        get: function () {\r\n            return this.getDate(\"openDateY\");\r\n        },\r\n        /**\r\n         * Item's open date value on Y date-based axis.\r\n         *\r\n         * @param date  Date\r\n         */\r\n        set: function (date) {\r\n            this.setDate(\"openDateY\", date);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"openCategoryX\", {\r\n        /**\r\n         * @return Category\r\n         */\r\n        get: function () {\r\n            return this.categories.openCategoryX;\r\n        },\r\n        /**\r\n         * Item's open category on X category axis.\r\n         *\r\n         * @param category  Category\r\n         */\r\n        set: function (category) {\r\n            this.setCategory(\"openCategoryX\", category);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeriesDataItem.prototype, \"openCategoryY\", {\r\n        /**\r\n         * @return Category\r\n         */\r\n        get: function () {\r\n            return this.categories.openCategoryY;\r\n        },\r\n        /**\r\n         * Item's open category on Y category axis.\r\n         *\r\n         * @param category  Category\r\n         */\r\n        set: function (category) {\r\n            this.setCategory(\"openCategoryY\", category);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Return smallest value out of all item's value fields.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param fields      Fields to check in\r\n     * @param working     Include working (temporary) values\r\n     * @param stackValue  If item is in a stack, the value item starts as\r\n     * @return Value\r\n     */\r\n    XYSeriesDataItem.prototype.getMin = function (fields, working, stackValue) {\r\n        var _this = this;\r\n        //if (this.visible) {  // dumped because of non smooth zooming\r\n        var min;\r\n        if (!$type.isNumber(stackValue)) {\r\n            stackValue = 0;\r\n        }\r\n        $array.each(fields, function (field) {\r\n            var value;\r\n            if (working) {\r\n                value = _this.getWorkingValue(field);\r\n            }\r\n            else {\r\n                value = _this.getValue(field);\r\n            }\r\n            value += stackValue;\r\n            if (value < min || !$type.isNumber(min)) {\r\n                min = value;\r\n            }\r\n        });\r\n        return min;\r\n        //}\r\n    };\r\n    /**\r\n     * Return biggest value out of all item's value fields.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param fields      Fields to check in\r\n     * @param working     Include working (temporary) values\r\n     * @param stackValue  If item is in a stack, the value item starts as\r\n     * @return Value\r\n     */\r\n    XYSeriesDataItem.prototype.getMax = function (fields, working, stackValue) {\r\n        var _this = this;\r\n        //if (this.visible) { // dumped because of non smooth zooming\r\n        var max;\r\n        if (!$type.isNumber(stackValue)) {\r\n            stackValue = 0;\r\n        }\r\n        $array.each(fields, function (field) {\r\n            var value;\r\n            if (working) {\r\n                value = _this.getWorkingValue(field);\r\n            }\r\n            else {\r\n                value = _this.getValue(field);\r\n            }\r\n            value += stackValue;\r\n            if (value > max || !$type.isNumber(max)) {\r\n                max = value;\r\n            }\r\n        });\r\n        return max;\r\n        //}\r\n    };\r\n    return XYSeriesDataItem;\r\n}(SeriesDataItem));\r\nexport { XYSeriesDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines Series for [[XYChart]].\r\n *\r\n * @see {@link IXYSeriesEvents} for a list of available Events\r\n * @see {@link IXYSeriesAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar XYSeries = /** @class */ (function (_super) {\r\n    __extends(XYSeries, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function XYSeries() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Indicates which of the series' `dataFields` to calculate aggregate values\r\n         * for.\r\n         *\r\n         * Available data fields for all [[XYSeries]] are:\r\n         * `valueX`, `valueY`, `openValueX`, and `openValueY`.\r\n         *\r\n         * [[CandlestickSeries]] adds:\r\n         * `lowValueX`, `lowValueY`, `highValueX`, and `highValueY`.\r\n         *\r\n         * Available options:\r\n         * `\"open\"`, `\"close\"`, `\"low\"`, `\"high\"`, `\"average\"`, `\"sum\"`.\r\n         *\r\n         * Defaults are as follows:\r\n         * * `valueX`: `\"close\"`\r\n         * * `valueY`: `\"close\"`\r\n         * * `openValueX`: `\"open\"`\r\n         * * `openValueY`: `\"open\"`\r\n         * * `lowValueX`: `\"low\"`\r\n         * * `lowValueY`: `\"low\"`\r\n         * * `highValueX`: `\"high\"`\r\n         * * `highValueY`: `\"high\"`\r\n         *\r\n         * Is required only if data being plotted on a `DateAxis` and\r\n         * its `groupData` is set to `true`.\r\n         *\r\n         * ```TypeScript\r\n         * let dateAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n         * dateAxis.groupData = true;\r\n         *\r\n         * let valueAxis = chart.xAxes.push(new am4charts.valueAxis());\r\n         *\r\n         * let series = chart.series.push(new am4charts.LineSeries());\r\n         * series.dataFields.dateX = \"date\";\r\n         * series.dataFields.valueY = \"value\";\r\n         * series.groupFields.valueY = \"average\";\r\n         * ```\r\n         * ```JavaScript\r\n         * var dateAxis = chart.xAxes.push(new am4charts.DateAxis());\r\n         * dateAxis.groupData = true;\r\n         *\r\n         * var valueAxis = chart.xAxes.push(new am4charts.valueAxis());\r\n         *\r\n         * var series = chart.series.push(new am4charts.LineSeries());\r\n         * series.dataFields.dateX = \"date\";\r\n         * series.dataFields.valueY = \"value\";\r\n         * series.groupFields.valueY = \"average\";\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"xAxes\": [{\r\n         *     \"type\": \"DateAxis\",\r\n         *     \"groupData\": true\r\n         *   }],\r\n         *   \"yAxes\": [{\r\n         *     \"type\": \"ValueAxis\"\r\n         *   }],\r\n         *   \"series\": [{\r\n         *     \"type\": \"LineSeries\",\r\n         *     \"dataFields\": {\r\n         *       \"dateX\": \"date\",\r\n         *       \"valueY\": \"value\"\r\n         *     },\r\n         *     \"groupFields\": {\r\n         *       \"valueY\": \"average\"\r\n         *     }\r\n         *   }]\r\n         * }\r\n         * ```\r\n         *\r\n         * The above setup will ensure, that if there are many data items within\r\n         * selected range, they will be grouped into aggregated data points, using\r\n         * average value of all the values.\r\n         *\r\n         * For example if we have 2 years worth of daily data (~700 data items), when\r\n         * fully zoomed out, the chart would show ~100 data items instead: one for\r\n         * each week in those two years.\r\n         *\r\n         * Grouping will occur automatically, based on current selection range, and\r\n         * will change dynamically when user zooms in/out the chart.\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/concepts/axes/date-axis/#Dynamic_data_item_grouping} for more information about dynamic data item grouping.\r\n         * @since 4.7.0\r\n         */\r\n        _this.groupFields = {};\r\n        /**\r\n         * X axis the series is attached to.\r\n         */\r\n        _this._xAxis = new MutableValueDisposer();\r\n        /**\r\n         * Y axis the series is attached to.\r\n         */\r\n        _this._yAxis = new MutableValueDisposer();\r\n        /**\r\n         * [_xValueFields description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._xValueFields = [];\r\n        /**\r\n         * [_yValueFields description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._yValueFields = [];\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this._baseInterval = {};\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.dataGrouped = false;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.usesShowFields = false;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this._dataSetChanged = false;\r\n        _this._maxxX = 100000;\r\n        _this._maxxY = 100000;\r\n        _this._propertiesChanged = false;\r\n        _this.className = \"XYSeries\";\r\n        _this.isMeasured = false;\r\n        _this.groupFields.valueX = \"close\";\r\n        _this.groupFields.valueY = \"close\";\r\n        _this.groupFields.customValue = \"close\";\r\n        _this.groupFields.openValueX = \"open\";\r\n        _this.groupFields.openValueY = \"open\";\r\n        _this.cursorTooltipEnabled = true;\r\n        _this.cursorHoverEnabled = true;\r\n        _this.excludeFromTotal = false;\r\n        _this.mainContainer.mask = new Sprite();\r\n        _this.mainContainer.mask.setElement(_this.paper.add(\"path\"));\r\n        _this.stacked = false;\r\n        _this.snapTooltip = false;\r\n        _this._showBullets = false;\r\n        _this.tooltip.pointerOrientation = \"horizontal\";\r\n        _this.hideTooltipWhileZooming = true;\r\n        _this.setPropertyValue(\"maskBullets\", true);\r\n        _this.tooltip.events.on(\"hidden\", function () {\r\n            _this.returnBulletDefaultState();\r\n        }, undefined, false);\r\n        _this._disposers.push(_this._xAxis);\r\n        _this._disposers.push(_this._yAxis);\r\n        _this.observe(visualProperties, function () {\r\n            if (_this.inited) {\r\n                _this._propertiesChanged = true;\r\n                if (_this.legendDataItem) {\r\n                    _this.legendDataItem.childrenCreated = false;\r\n                }\r\n                if (_this.chart && _this.chart.legend) {\r\n                    _this.chart.legend.invalidateDataItems();\r\n                }\r\n                _this.invalidate();\r\n            }\r\n        }, undefined, false);\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    XYSeries.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"X/Y Series\");\r\n        }\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    XYSeries.prototype.createDataItem = function () {\r\n        return new XYSeriesDataItem();\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYSeries.prototype.resetExtremes = function () {\r\n        this._tmin.clear();\r\n        this._tmax.clear();\r\n        this._smin.clear();\r\n        this._smax.clear();\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYSeries.prototype.dataChangeUpdate = function () {\r\n        this.dataGrouped = false;\r\n        this._baseInterval = {};\r\n        this._currentDataSetId = \"\";\r\n        this.resetExtremes();\r\n        if (this.xAxis) {\r\n            this.xAxis.seriesDataChangeUpdate(this);\r\n        }\r\n        if (this.yAxis) {\r\n            this.yAxis.seriesDataChangeUpdate(this);\r\n        }\r\n    };\r\n    /**\r\n     * (Re)validates the series' data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYSeries.prototype.validateData = function () {\r\n        this._baseInterval = {};\r\n        var dataFields = this.dataFields;\r\n        if (dataFields.valueYShow || dataFields.openValueXShow || dataFields.openValueXShow || dataFields.openValueYShow) {\r\n            this.usesShowFields = true;\r\n        }\r\n        else {\r\n            this.usesShowFields = false;\r\n        }\r\n        this.defineFields();\r\n        if (this.data.length > 0) {\r\n            this.dataChangeUpdate();\r\n        }\r\n        _super.prototype.validateData.call(this);\r\n        this.updateItemReaderText();\r\n        if (this.chart) {\r\n            if (!$type.hasValue(this.dataFields[this._xField]) || !$type.hasValue(this.dataFields[this._yField])) {\r\n                throw Error(\"Data fields for series \\\"\" + (this.name ? this.name : this.uid) + \"\\\" are not properly defined.\");\r\n            }\r\n        }\r\n        // 4.7.21 solves 51540\r\n        if (this.inited && this.isHidden) {\r\n            this.hide(0);\r\n        }\r\n        this.dataGrouped = false;\r\n    };\r\n    /**\r\n     * Processes data item.\r\n     *\r\n     * @param dataItem     Data item\r\n     * @param dataContext  Raw data\r\n     * @param index        Index of the data item\r\n     */\r\n    XYSeries.prototype.processDataItem = function (dataItem, dataContext) {\r\n        try {\r\n            _super.prototype.processDataItem.call(this, dataItem, dataContext);\r\n            this.xAxis.processSeriesDataItem(dataItem, \"X\");\r\n            this.yAxis.processSeriesDataItem(dataItem, \"Y\");\r\n            this.setInitialWorkingValues(dataItem);\r\n        }\r\n        catch (e) {\r\n            if (this._chart) {\r\n                this._chart.raiseCriticalError(e);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * When validating raw data, instead of processing data item, we update it\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param item\r\n     */\r\n    XYSeries.prototype.updateDataItem = function (dataItem) {\r\n        _super.prototype.updateDataItem.call(this, dataItem);\r\n        //dataItem.events.disable();\r\n        this.xAxis.processSeriesDataItem(dataItem, \"X\");\r\n        this.yAxis.processSeriesDataItem(dataItem, \"Y\");\r\n        //dataItem.events.enable();\t\t\r\n    };\r\n    /**\r\n     * Inits data item's working values.\r\n     *\r\n     * @param dataItem  Data item\r\n     * @param index     Data item's index\r\n     */\r\n    XYSeries.prototype.setInitialWorkingValues = function (dataItem) {\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYSeries.prototype.disposeData = function () {\r\n        _super.prototype.disposeData.call(this);\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (xAxis) {\r\n            var dataItemsX = this.dataItemsByAxis.getKey(xAxis.uid);\r\n            if (dataItemsX) {\r\n                dataItemsX.clear();\r\n            }\r\n            if (xAxis instanceof CategoryAxis) {\r\n                this.clearCatAxis(xAxis);\r\n            }\r\n        }\r\n        if (yAxis) {\r\n            var dataItemsY = this.dataItemsByAxis.getKey(yAxis.uid);\r\n            if (dataItemsY) {\r\n                dataItemsY.clear();\r\n            }\r\n            if (yAxis instanceof CategoryAxis) {\r\n                this.clearCatAxis(yAxis);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYSeries.prototype.clearCatAxis = function (axis) {\r\n        var uid = this.uid;\r\n        axis.dataItems.each(function (dataItem) {\r\n            if (dataItem.seriesDataItems[uid]) {\r\n                dataItem.seriesDataItems[uid] = [];\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Sets up which data fields to use for data access.\r\n     */\r\n    XYSeries.prototype.defineFields = function () {\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (xAxis && yAxis) {\r\n            var xAxisFieldName = xAxis.axisFieldName;\r\n            var xField = (xAxisFieldName + \"X\");\r\n            var xOpenField = (\"open\" + $utils.capitalize(xAxisFieldName) + \"X\");\r\n            var yAxisFieldName = yAxis.axisFieldName;\r\n            var yField = (yAxisFieldName + \"Y\");\r\n            var yOpenField = (\"open\" + $utils.capitalize(yAxisFieldName) + \"Y\");\r\n            this._xField = xField;\r\n            this._yField = yField;\r\n            if (this.dataFields[xOpenField]) {\r\n                this._xOpenField = xOpenField;\r\n            }\r\n            if (this.dataFields[yOpenField]) {\r\n                this._yOpenField = yOpenField;\r\n            }\r\n            if (!this.dataFields[yOpenField] && this.baseAxis == yAxis) {\r\n                this._yOpenField = yField;\r\n            }\r\n            if (!this.dataFields[xOpenField] && this.baseAxis == xAxis) {\r\n                this._xOpenField = xField;\r\n            }\r\n            if (this.stacked && this.baseAxis == xAxis) {\r\n                this._xOpenField = xField;\r\n            }\r\n            if (this.stacked && this.baseAxis == yAxis) {\r\n                this._yOpenField = yField;\r\n            }\r\n            if ((xAxis instanceof CategoryAxis) && (yAxis instanceof CategoryAxis)) {\r\n                if (!this._yOpenField) {\r\n                    this._yOpenField = yField;\r\n                }\r\n            }\r\n            this._xValueFields = [];\r\n            this._yValueFields = [];\r\n            this.addValueField(xAxis, this._xValueFields, this._xField);\r\n            this.addValueField(xAxis, this._xValueFields, this._xOpenField);\r\n            this.addValueField(yAxis, this._yValueFields, this._yField);\r\n            this.addValueField(yAxis, this._yValueFields, this._yOpenField);\r\n        }\r\n    };\r\n    /**\r\n     * [axis description]\r\n     *\r\n     * @todo Description\r\n     * @param axis    Axis\r\n     * @param fields  Fields (?)\r\n     * @param field   Field\r\n     */\r\n    XYSeries.prototype.addValueField = function (axis, fields, field) {\r\n        if (axis instanceof ValueAxis) {\r\n            if ($type.hasValue(this.dataFields[field]) && fields.indexOf(field) == -1) {\r\n                fields.push(field);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets category field from the category axis.\r\n     *\r\n     * User might set field for category axis only, but not for series. In such\r\n     * case, we take field value from axis and set it for series.\r\n     *\r\n     * @param field  Field\r\n     * @param axis   Axis\r\n     */\r\n    XYSeries.prototype.setCategoryAxisField = function (field, axis) {\r\n        if (!$type.hasValue(this.dataFields[field])) {\r\n            this.dataFields[field] = axis.dataFields.category;\r\n        }\r\n    };\r\n    /**\r\n     * Sets date field from the date axis.\r\n     *\r\n     * User might set field for category axis only, but not for series. In such\r\n     * case, we take field value from axis and set it for series.\r\n     *\r\n     * @param field  Field\r\n     * @param axis   Axis\r\n     */\r\n    XYSeries.prototype.setDateAxisField = function (field, axis) {\r\n        if (!$type.hasValue(this.dataFields[field])) {\r\n            this.dataFields[field] = axis.dataFields.date;\r\n        }\r\n    };\r\n    /**\r\n     * Performs after-draw tasks, e.g. creates masks.\r\n     */\r\n    XYSeries.prototype.afterDraw = function () {\r\n        _super.prototype.afterDraw.call(this);\r\n        this.createMask();\r\n    };\r\n    /**\r\n     * Create a mask for the series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYSeries.prototype.createMask = function () {\r\n        // this mask from which we cut out ranges. does not work well if ranges overlap.\r\n        if (this.mainContainer.mask) {\r\n            var path_1 = this.getMaskPath();\r\n            // @todo: this approach won't work well on circluar or other non x/y axes\r\n            $iter.each(this.axisRanges.iterator(), function (range) {\r\n                if (range.axisFill.fillPath) {\r\n                    range.axisFill.validate();\r\n                    path_1 += range.axisFill.fillPath;\r\n                }\r\n            });\r\n            this.mainContainer.mask.path = path_1;\r\n        }\r\n    };\r\n    /**\r\n     * Returns an SVG path to use as series mask.\r\n     *\r\n     * @return SVG path\r\n     */\r\n    XYSeries.prototype.getMaskPath = function () {\r\n        if (this.xAxis && this.yAxis) {\r\n            return $path.rectToPath({\r\n                x: 0,\r\n                y: 0,\r\n                width: this.xAxis.axisLength,\r\n                height: this.yAxis.axisLength\r\n            });\r\n        }\r\n        return \"\";\r\n    };\r\n    /**\r\n     * Returns axis data field to use.\r\n     *\r\n     * @param axis  Axis\r\n     * @return Field name\r\n     */\r\n    XYSeries.prototype.getAxisField = function (axis) {\r\n        if (axis == this.xAxis) {\r\n            return this.xField;\r\n        }\r\n        if (axis == this.yAxis) {\r\n            return this.yField;\r\n        }\r\n    };\r\n    /**\r\n     * Validates data items.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYSeries.prototype.validateDataItems = function () {\r\n        var chart = this.chart;\r\n        if (chart) {\r\n            this._maxxX = $math.max(100000, chart.plotContainer.maxWidth * 2);\r\n            this._maxxY = $math.max(100000, chart.plotContainer.maxHeight * 2);\r\n        }\r\n        // this helps date axis to check which baseInterval we should use\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (xAxis && yAxis) {\r\n            xAxis.updateAxisBySeries();\r\n            yAxis.updateAxisBySeries();\r\n        }\r\n        _super.prototype.validateDataItems.call(this);\r\n        if (xAxis && yAxis) {\r\n            xAxis.postProcessSeriesDataItems(this);\r\n            yAxis.postProcessSeriesDataItems(this);\r\n        }\r\n    };\r\n    /**\r\n     * Validates data range.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYSeries.prototype.validateDataRange = function () {\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (xAxis && yAxis) {\r\n            if (xAxis.dataRangeInvalid) {\r\n                xAxis.validateDataRange();\r\n            }\r\n            if (yAxis.dataRangeInvalid) {\r\n                yAxis.validateDataRange();\r\n            }\r\n        }\r\n        _super.prototype.validateDataRange.call(this);\r\n    };\r\n    /**\r\n     * (Re)validates the whole series, effectively causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYSeries.prototype.validate = function () {\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (xAxis && yAxis) {\r\n            if (xAxis.invalid) {\r\n                xAxis.validate();\r\n            }\r\n            if (yAxis.invalid) {\r\n                yAxis.validate();\r\n            }\r\n            this.y = yAxis.pixelY;\r\n            this.x = xAxis.pixelX;\r\n            this._showBullets = true;\r\n            var minBulletDistance = this.minBulletDistance;\r\n            if ($type.isNumber(minBulletDistance)) {\r\n                if (this.baseAxis.axisLength / (this.endIndex - this.startIndex) < minBulletDistance) {\r\n                    this._showBullets = false;\r\n                }\r\n            }\r\n        }\r\n        this.updateTooltip();\r\n        _super.prototype.validate.call(this);\r\n        var chart = this.chart;\r\n        var maskBullets = this.maskBullets;\r\n        if (chart && maskBullets) {\r\n            if (chart.className == \"XYChart\") {\r\n                if (chart.leftAxesContainer.layout == \"vertical\" || chart.rightAxesContainer.layout == \"vertical\") {\r\n                    if (this.yAxis) {\r\n                        this.bulletsContainer.mask = this.yAxis.renderer.gridContainer;\r\n                    }\r\n                    else {\r\n                        this.bulletsContainer.mask = undefined;\r\n                    }\r\n                }\r\n                if (chart.topAxesContainer.layout == \"horizontal\" || chart.bottomAxesContainer.layout == \"horizontal\") {\r\n                    if (this.xAxis) {\r\n                        this.bulletsContainer.mask = this.xAxis.renderer.gridContainer;\r\n                    }\r\n                    else {\r\n                        this.bulletsContainer.mask = undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(XYSeries.prototype, \"xAxis\", {\r\n        /**\r\n         * @return Axis\r\n         */\r\n        get: function () {\r\n            if (this.chart) {\r\n                if (!this._xAxis.get()) {\r\n                    var axis = this.chart.xAxes.getIndex(0);\r\n                    if (!axis) {\r\n                        throw Error(\"There are no X axes on chart.\");\r\n                    }\r\n                    this.xAxis = axis;\r\n                }\r\n                return this._xAxis.get();\r\n            }\r\n        },\r\n        /**\r\n         * X axis the series is attached to.\r\n         *\r\n         * @param axis  Axis\r\n         */\r\n        set: function (axis) {\r\n            this.setXAxis(axis);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    XYSeries.prototype.setXAxis = function (axis) {\r\n        var oldAxis = this._xAxis.get();\r\n        if (oldAxis != axis) {\r\n            if (oldAxis) {\r\n                this.dataItemsByAxis.removeKey(oldAxis.uid);\r\n                // TODO why is this here ?\r\n                this._xAxis.dispose();\r\n                // temp @todo: why it is not disposed?\r\n                oldAxis.series.removeValue(this);\r\n            }\r\n            this._xAxis.set(axis, axis.registerSeries(this));\r\n            this.dataItemsByAxis.setKey(axis.uid, new Dictionary());\r\n            this.invalidateData();\r\n        }\r\n    };\r\n    Object.defineProperty(XYSeries.prototype, \"yAxis\", {\r\n        /**\r\n         * @return Axis\r\n         */\r\n        get: function () {\r\n            if (this.chart) {\r\n                if (!this._yAxis.get()) {\r\n                    var axis = this.chart.yAxes.getIndex(0);\r\n                    if (!axis) {\r\n                        throw Error(\"There are no Y axes on chart.\");\r\n                    }\r\n                    this.yAxis = axis;\r\n                }\r\n                return this._yAxis.get();\r\n            }\r\n        },\r\n        /**\r\n         * Y axis the series is attached to.\r\n         *\r\n         * @param axis  Axis\r\n         */\r\n        set: function (axis) {\r\n            this.setYAxis(axis);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    XYSeries.prototype.setYAxis = function (axis) {\r\n        var oldAxis = this._yAxis.get();\r\n        if (oldAxis != axis) {\r\n            if (oldAxis) {\r\n                this.dataItemsByAxis.removeKey(oldAxis.uid);\r\n                // TODO why is this here ?\r\n                this._yAxis.dispose();\r\n                // temp @todo: why it is not disposed?\r\n                oldAxis.series.removeValue(this);\r\n            }\r\n            this._yAxis.set(axis, axis.registerSeries(this));\r\n            if (axis.chart instanceof XYChart) {\r\n                axis.chart.handleYAxisSet(this);\r\n            }\r\n            this.dataItemsByAxis.setKey(axis.uid, new Dictionary());\r\n            this.invalidateData();\r\n        }\r\n    };\r\n    Object.defineProperty(XYSeries.prototype, \"baseAxis\", {\r\n        /**\r\n         * @return Axis\r\n         */\r\n        get: function () {\r\n            var xAxis = this.xAxis;\r\n            var yAxis = this.yAxis;\r\n            if (!this._baseAxis && xAxis && yAxis) {\r\n                if (yAxis instanceof DateAxis) {\r\n                    this._baseAxis = yAxis;\r\n                }\r\n                if (xAxis instanceof DateAxis) {\r\n                    this._baseAxis = xAxis;\r\n                }\r\n                if (yAxis instanceof CategoryAxis) {\r\n                    this._baseAxis = yAxis;\r\n                }\r\n                if (xAxis instanceof CategoryAxis) {\r\n                    this._baseAxis = xAxis;\r\n                }\r\n                if (!this._baseAxis) {\r\n                    this._baseAxis = xAxis;\r\n                }\r\n            }\r\n            return this._baseAxis;\r\n        },\r\n        /**\r\n         * The main (base) axis.\r\n         *\r\n         * This is the axis that series fills will go to, or grow animations will\r\n         * happen from.\r\n         *\r\n         * @param value  Axis\r\n         */\r\n        set: function (value) {\r\n            if (this._baseAxis != value) {\r\n                this._baseAxis = value;\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds one or several (array) of data items to the existing data.\r\n     *\r\n     * @param rawDataItem One or many raw data item objects\r\n     */\r\n    XYSeries.prototype.addData = function (rawDataItem, removeCount, skipRaw) {\r\n        _super.prototype.addData.call(this, rawDataItem, removeCount, skipRaw);\r\n        var scrollbarSeries = this.scrollbarSeries;\r\n        if (scrollbarSeries) {\r\n            this.scrollbarSeries.addData(rawDataItem, removeCount, true);\r\n        }\r\n    };\r\n    XYSeries.prototype.setData = function (value) {\r\n        _super.prototype.setData.call(this, value);\r\n        if (this.scrollbarSeries) {\r\n            this.scrollbarSeries.setData(value);\r\n        }\r\n    };\r\n    /**\r\n     * Makes the chart use particular data set.\r\n     *\r\n     * If `id` is not provided or there is no such data set, main data will be\r\n     * used.\r\n     *\r\n     * @ignore\r\n     * @since 4.7.0\r\n     * @param  id  Data set id\r\n     */\r\n    XYSeries.prototype.setDataSet = function (id) {\r\n        var changed = _super.prototype.setDataSet.call(this, id);\r\n        if (changed) {\r\n            this._dataSetChanged = true;\r\n            var dataItems = this.dataItems;\r\n            this.resetExtremes();\r\n            var xAxis = this.xAxis;\r\n            var yAxis = this.yAxis;\r\n            this._prevStartIndex = undefined;\r\n            this._prevEndIndex = undefined;\r\n            this._startIndex = undefined;\r\n            this._endIndex = undefined;\r\n            if (!this.appeared) {\r\n                this.processValues(false); // this will slow down!\r\n            }\r\n            if (xAxis instanceof DateAxis && xAxis == this.baseAxis) {\r\n                this._tmin.setKey(xAxis.uid, dataItems.getIndex(0).dateX.getTime());\r\n                this._tmax.setKey(xAxis.uid, dataItems.getIndex(dataItems.length - 1).dateX.getTime());\r\n                this.dispatch(\"extremeschanged\");\r\n            }\r\n            if (yAxis instanceof DateAxis && yAxis == this.baseAxis) {\r\n                this._tmin.setKey(yAxis.uid, dataItems.getIndex(0).dateY.getTime());\r\n                this._tmax.setKey(yAxis.uid, dataItems.getIndex(dataItems.length - 1).dateY.getTime());\r\n                this.dispatch(\"extremeschanged\");\r\n            }\r\n        }\r\n        return changed;\r\n    };\r\n    /**\r\n     * Processes values after data items' were added.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItems  Data items\r\n     */\r\n    XYSeries.prototype.processValues = function (working) {\r\n        _super.prototype.processValues.call(this, working);\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (!xAxis || !yAxis) {\r\n            return;\r\n        }\r\n        var dataItems = this.dataItems;\r\n        var minX = Infinity;\r\n        var maxX = -Infinity;\r\n        var minY = Infinity;\r\n        var maxY = -Infinity;\r\n        var startIndex = this.startIndex;\r\n        var endIndex = this.endIndex;\r\n        var workingStartIndex = startIndex;\r\n        var workingEndIndex = endIndex;\r\n        if (!working) {\r\n            startIndex = 0;\r\n            endIndex = this.dataItems.length;\r\n        }\r\n        for (var i = startIndex; i < endIndex; i++) {\r\n            var dataItem = dataItems.getIndex(i);\r\n            this.getStackValue(dataItem, working);\r\n            var stackX = dataItem.getValue(\"valueX\", \"stack\");\r\n            var stackY = dataItem.getValue(\"valueY\", \"stack\");\r\n            minX = $math.min(dataItem.getMin(this._xValueFields, working, stackX), minX);\r\n            minY = $math.min(dataItem.getMin(this._yValueFields, working, stackY), minY);\r\n            maxX = $math.max(dataItem.getMax(this._xValueFields, working, stackX), maxX);\r\n            maxY = $math.max(dataItem.getMax(this._yValueFields, working, stackY), maxY);\r\n            // if it's stacked, pay attention to stack value\r\n            if (this.stacked) {\r\n                if (this.baseAxis == xAxis) {\r\n                    if (stackY < minY) {\r\n                        minY = stackY;\r\n                    }\r\n                    if (stackY > maxY) {\r\n                        maxY = stackY;\r\n                    }\r\n                }\r\n                if (this.baseAxis == yAxis) {\r\n                    if (stackX < minX) {\r\n                        minX = stackX;\r\n                    }\r\n                    if (stackX > maxX) {\r\n                        maxX = stackX;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // this is mainly for value axis to calculate total and perecent.total of each series category\r\n        xAxis.processSeriesDataItems();\r\n        yAxis.processSeriesDataItems();\r\n        var xAxisId = xAxis.uid;\r\n        var yAxisId = yAxis.uid;\r\n        if (this.xAxis instanceof ValueAxis && (minX == Infinity || maxX == -Infinity)) {\r\n            return;\r\n        }\r\n        if (this.yAxis instanceof ValueAxis && (minY == Infinity || maxY == -Infinity)) {\r\n            return;\r\n        }\r\n        if (!working) {\r\n            if (this._tmin.getKey(xAxisId) != minX || this._tmax.getKey(xAxisId) != maxX || this._tmin.getKey(yAxisId) != minY || this._tmax.getKey(yAxisId) != maxY) {\r\n                this._tmin.setKey(xAxisId, minX);\r\n                this._tmax.setKey(xAxisId, maxX);\r\n                this._tmin.setKey(yAxisId, minY);\r\n                this._tmax.setKey(yAxisId, maxY);\r\n                var stackedSeries = this.stackedSeries;\r\n                if (stackedSeries) {\r\n                    if (stackedSeries.isDisposed()) {\r\n                        this.stackedSeries = undefined;\r\n                    }\r\n                    else {\r\n                        stackedSeries.processValues(false);\r\n                    }\r\n                }\r\n                this.dispatchImmediately(\"extremeschanged\");\r\n            }\r\n        }\r\n        if (startIndex != workingStartIndex || endIndex != workingEndIndex) {\r\n            minX = Infinity;\r\n            maxX = -Infinity;\r\n            minY = Infinity;\r\n            maxY = -Infinity;\r\n            for (var i = workingStartIndex; i < workingEndIndex; i++) {\r\n                var dataItem = dataItems.getIndex(i);\r\n                this.getStackValue(dataItem, working);\r\n                var stackX = dataItem.getValue(\"valueX\", \"stack\");\r\n                var stackY = dataItem.getValue(\"valueY\", \"stack\");\r\n                minX = $math.min(dataItem.getMin(this._xValueFields, working, stackX), minX);\r\n                minY = $math.min(dataItem.getMin(this._yValueFields, working, stackY), minY);\r\n                maxX = $math.max(dataItem.getMax(this._xValueFields, working, stackX), maxX);\r\n                maxY = $math.max(dataItem.getMax(this._yValueFields, working, stackY), maxY);\r\n                // if it's stacked, pay attention to stack value\r\n                if (this.stacked) {\r\n                    if (this.baseAxis == xAxis) {\r\n                        if (stackY < minY) {\r\n                            minY = stackY;\r\n                        }\r\n                        if (stackY > maxY) {\r\n                            maxY = stackY;\r\n                        }\r\n                    }\r\n                    if (this.baseAxis == yAxis) {\r\n                        if (stackX < minX) {\r\n                            minX = stackX;\r\n                        }\r\n                        if (stackX > maxX) {\r\n                            maxX = stackX;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this.xAxis instanceof ValueAxis && (minX == Infinity || maxX == -Infinity)) {\r\n            return;\r\n        }\r\n        if (this.yAxis instanceof ValueAxis && (minY == Infinity || maxY == -Infinity)) {\r\n            return;\r\n        }\r\n        if (this._smin.getKey(xAxisId) != minX || this._smax.getKey(xAxisId) != maxX || this._smin.getKey(yAxisId) != minY || this._smax.getKey(yAxisId) != maxY) {\r\n            this._smin.setKey(xAxisId, minX);\r\n            this._smax.setKey(xAxisId, maxX);\r\n            this._smin.setKey(yAxisId, minY);\r\n            this._smax.setKey(yAxisId, maxY);\r\n            if (this.appeared || this.start != 0 || this.end != 1 || this.dataItems != this.mainDataSet) {\r\n                /// new, helps to handle issues with change percent\r\n                var changed = false;\r\n                if (yAxis instanceof ValueAxis && !(yAxis instanceof DateAxis)) {\r\n                    var tmin = this._tmin.getKey(yAxisId);\r\n                    if (!$type.isNumber(tmin) || ((this.usesShowFields || this._dataSetChanged) && minY < tmin) || (this.stackedSeries && !this.isHidden)) {\r\n                        this._tmin.setKey(yAxisId, minY);\r\n                        changed = true;\r\n                    }\r\n                    var tmax = this._tmax.getKey(yAxisId);\r\n                    if (!$type.isNumber(tmax) || ((this.usesShowFields || this._dataSetChanged) && maxY > tmax) || (this.stackedSeries && !this.isHidden)) {\r\n                        this._tmax.setKey(yAxisId, maxY);\r\n                        changed = true;\r\n                    }\r\n                }\r\n                if (xAxis instanceof ValueAxis && !(xAxis instanceof DateAxis)) {\r\n                    var tmin = this._tmin.getKey(xAxisId);\r\n                    if (!$type.isNumber(tmin) || ((this.usesShowFields || this._dataSetChanged) && minX < tmin) || (this.stackedSeries && !this.isHidden)) {\r\n                        this._tmin.setKey(xAxisId, minX);\r\n                        changed = true;\r\n                    }\r\n                    var tmax = this._tmax.getKey(xAxisId);\r\n                    if (!$type.isNumber(tmax) || ((this.usesShowFields || this._dataSetChanged) && maxX > tmax) || (this.stackedSeries && !this.isHidden)) {\r\n                        this._tmax.setKey(xAxisId, maxX);\r\n                        changed = true;\r\n                    }\r\n                }\r\n                if (changed) {\r\n                    this.dispatchImmediately(\"extremeschanged\");\r\n                }\r\n                if (this.start == 0 && this.end == 1) {\r\n                    // yes, its ok. otherwise min/max won't be updated when zooming out\r\n                    this._dataSetChanged = false;\r\n                }\r\n                this.dispatchImmediately(\"selectionextremeschanged\");\r\n            }\r\n        }\r\n        if (!working && this.stacked) {\r\n            this.processValues(true);\r\n        }\r\n    };\r\n    /**\r\n     * Hides element's [[Tooltip]].\r\n     *\r\n     * @see {@link Tooltip}\r\n     */\r\n    XYSeries.prototype.hideTooltip = function () {\r\n        _super.prototype.hideTooltip.call(this);\r\n        this.returnBulletDefaultState();\r\n        this._prevTooltipDataItem = undefined;\r\n    };\r\n    /**\r\n     * Shows series tooltip at specific position.\r\n     *\r\n     * @param xPosition  X\r\n     * @param yPosition  Y\r\n     */\r\n    XYSeries.prototype.showTooltipAtPosition = function (xPosition, yPosition) {\r\n        var dataItem;\r\n        if (this.visible && !this.isHiding && !this.isShowing) {\r\n            var xAxis = this._xAxis.get();\r\n            var yAxis = this._yAxis.get();\r\n            if (xAxis == this.baseAxis) {\r\n                dataItem = xAxis.getSeriesDataItem(this, xAxis.toAxisPosition(xPosition), this.snapTooltip);\r\n            }\r\n            if (yAxis == this.baseAxis) {\r\n                dataItem = yAxis.getSeriesDataItem(this, yAxis.toAxisPosition(yPosition), this.snapTooltip);\r\n            }\r\n            var point = this.showTooltipAtDataItem(dataItem);\r\n            if (point) {\r\n                return point;\r\n            }\r\n            // so that if tooltip is shown on columns or bullets for it not to be hidden\r\n            if (!this.tooltipText) {\r\n                return;\r\n            }\r\n        }\r\n        this.hideTooltip();\r\n    };\r\n    XYSeries.prototype.getAdjustedXLocation = function (dataItem, field, bulletLocationX) {\r\n        return dataItem.locations[field];\r\n    };\r\n    XYSeries.prototype.getAdjustedYLocation = function (dataItem, field, bulletLocationY) {\r\n        return dataItem.locations[field];\r\n    };\r\n    /**\r\n     * Shows series tooltip at specific dataItem.\r\n     *\r\n     * @param dataItem\r\n     */\r\n    XYSeries.prototype.showTooltipAtDataItem = function (dataItem) {\r\n        var e_1, _a;\r\n        var cursor = this.chart.cursor;\r\n        if (cursor && cursor.hideSeriesTooltipsOnSelection && cursor.selection.visible && cursor.downPoint) {\r\n            this.hideTooltip();\r\n            return;\r\n        }\r\n        this.returnBulletDefaultState(dataItem);\r\n        if (dataItem && dataItem.visible) {\r\n            this.updateLegendValue(dataItem);\r\n            if (this.cursorTooltipEnabled) {\r\n                this.tooltipDataItem = dataItem;\r\n                // todo: add tooltipXField and tooltipYField.\r\n                var tooltipXField = this.tooltipXField;\r\n                var tooltipYField = this.tooltipYField;\r\n                if ($type.hasValue(dataItem[tooltipXField]) && $type.hasValue(dataItem[tooltipYField])) {\r\n                    var tooltipPoint = this.getPoint(dataItem, tooltipXField, tooltipYField, this.getAdjustedXLocation(dataItem, tooltipXField), this.getAdjustedYLocation(dataItem, tooltipYField));\r\n                    if (tooltipPoint) {\r\n                        if (this.chart.className == \"XYChart\" && (tooltipPoint.y < -1 || tooltipPoint.y > this.yAxis.pixelHeight + 1 || tooltipPoint.x < -1 || tooltipPoint.x > this.xAxis.pixelWidth + 1)) {\r\n                            // void\r\n                        }\r\n                        else {\r\n                            this.tooltipX = tooltipPoint.x;\r\n                            this.tooltipY = tooltipPoint.y;\r\n                            if (this._prevTooltipDataItem != dataItem) {\r\n                                this.dispatchImmediately(\"tooltipshownat\", {\r\n                                    type: \"tooltipshownat\",\r\n                                    target: this,\r\n                                    dataItem: dataItem\r\n                                });\r\n                                this._prevTooltipDataItem = dataItem;\r\n                            }\r\n                            if (this.cursorHoverEnabled) {\r\n                                try {\r\n                                    for (var _b = __values(dataItem.sprites), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                                        var sprite = _c.value;\r\n                                        if (!sprite.parent.visible || sprite.isHidden || sprite.__disabled || sprite.disabled || sprite.isHiding) {\r\n                                        }\r\n                                        else {\r\n                                            if (!sprite.interactions.isRealHover) {\r\n                                                sprite.dispatchImmediately(\"over\");\r\n                                                sprite.interactions.isRealHover = true;\r\n                                            }\r\n                                            sprite.isHover = true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                                catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n                                finally {\r\n                                    try {\r\n                                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                                    }\r\n                                    finally { if (e_1) throw e_1.error; }\r\n                                }\r\n                            }\r\n                            if (this.showTooltip()) {\r\n                                return $utils.spritePointToSvg({ x: tooltipPoint.x, y: tooltipPoint.y }, this);\r\n                            }\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.updateLegendValue(dataItem, true);\r\n        }\r\n    };\r\n    /**\r\n     * Returns default state to bullets when tooltip is shown at some other data\r\n     * item or hidden\r\n     */\r\n    XYSeries.prototype.returnBulletDefaultState = function (dataItem) {\r\n        var e_2, _a;\r\n        if (this._prevTooltipDataItem && this._prevTooltipDataItem != dataItem) {\r\n            try {\r\n                for (var _b = __values(this._prevTooltipDataItem.sprites), _c = _b.next(); !_c.done; _c = _b.next()) {\r\n                    var sprite = _c.value;\r\n                    if (!sprite.isDisposed()) {\r\n                        var fireEvent = sprite.interactions.isRealHover;\r\n                        sprite.isHover = false;\r\n                        if (fireEvent) {\r\n                            sprite.dispatchImmediately(\"out\");\r\n                        }\r\n                    }\r\n                    else {\r\n                        this._prevTooltipDataItem = undefined;\r\n                    }\r\n                }\r\n            }\r\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\r\n            finally {\r\n                try {\r\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\r\n                }\r\n                finally { if (e_2) throw e_2.error; }\r\n            }\r\n        }\r\n    };\r\n    XYSeries.prototype.shouldCreateBullet = function (dataItem, bulletTemplate) {\r\n        // use series xField/yField if bullet doesn't have fields set\r\n        var xField = bulletTemplate.xField;\r\n        if (!$type.hasValue(xField)) {\r\n            xField = this.xField;\r\n        }\r\n        var yField = bulletTemplate.yField;\r\n        if (!$type.hasValue(yField)) {\r\n            yField = this.yField;\r\n        }\r\n        if ((this.xAxis instanceof ValueAxis && !dataItem.hasValue([xField])) || (this.yAxis instanceof ValueAxis && !dataItem.hasValue([yField]))) {\r\n            return false;\r\n        }\r\n        if (bulletTemplate.disabled) {\r\n            var disabledField = bulletTemplate.propertyFields.disabled;\r\n            var dataContext = dataItem.dataContext;\r\n            if (dataContext && dataContext[disabledField] === false) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYSeries.prototype.updateTooltip = function () {\r\n        if (!this.hideTooltipWhileZooming && this.tooltip && !this.tooltip.isHidden && !this.isHiding && !this.isHidden && this.tooltipDataItem) {\r\n            this.showTooltipAtDataItem(this.tooltipDataItem);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYSeries.prototype.positionBullet = function (bullet) {\r\n        _super.prototype.positionBullet.call(this, bullet);\r\n        var dataItem = bullet.dataItem;\r\n        // use series xField/yField if bullet doesn't have fields set\r\n        var xField = bullet.xField;\r\n        if (!$type.hasValue(xField)) {\r\n            xField = this.xField;\r\n        }\r\n        var yField = bullet.yField;\r\n        if (!$type.hasValue(yField)) {\r\n            yField = this.yField;\r\n        }\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if ((xAxis instanceof ValueAxis && !dataItem.hasValue([xField])) || (yAxis instanceof ValueAxis && !dataItem.hasValue([yField]))) {\r\n            bullet.visible = false;\r\n        }\r\n        else {\r\n            var bulletLocationX = this.getBulletLocationX(bullet, xField);\r\n            var bulletLocationY = this.getBulletLocationY(bullet, yField);\r\n            var point = this.getPoint(dataItem, xField, yField, bulletLocationX, bulletLocationY);\r\n            if (point) {\r\n                var xOpenField = this.xOpenField;\r\n                var yOpenField = this.yOpenField;\r\n                var positionX = void 0;\r\n                var positionY = void 0;\r\n                if (xAxis instanceof DateAxis) {\r\n                    if (!$type.isNumber(bulletLocationX)) {\r\n                        bulletLocationX = 0;\r\n                    }\r\n                    var openValue = void 0;\r\n                    var closeValue = dataItem.getWorkingValue(xField);\r\n                    if (!xOpenField) {\r\n                        if (xAxis == this.baseAxis) {\r\n                            openValue = xAxis.baseValue;\r\n                        }\r\n                    }\r\n                    else {\r\n                        openValue = dataItem.getWorkingValue(xOpenField);\r\n                    }\r\n                    if (!$type.isNumber(openValue)) {\r\n                        openValue = closeValue;\r\n                    }\r\n                    var stack = dataItem.getValue(\"valueX\", \"stack\");\r\n                    openValue += stack;\r\n                    closeValue += stack;\r\n                    if (openValue == closeValue) {\r\n                        var baseInterval = xAxis.baseInterval;\r\n                        var dateFormatter = xAxis.dateFormatter;\r\n                        openValue = $time.round(new Date(openValue), baseInterval.timeUnit, baseInterval.count, dateFormatter.firstDayOfWeek, dateFormatter.utc).getTime();\r\n                        closeValue = $time.add(new Date(openValue), baseInterval.timeUnit, baseInterval.count, dateFormatter.utc).getTime();\r\n                    }\r\n                    var middleValue = void 0;\r\n                    if (xAxis == this.baseAxis) {\r\n                        middleValue = openValue + (closeValue - openValue) * bulletLocationX;\r\n                    }\r\n                    else {\r\n                        middleValue = openValue + (closeValue - openValue) * (1 - bulletLocationX);\r\n                    }\r\n                    positionX = xAxis.valueToPosition(middleValue);\r\n                }\r\n                else if (xAxis instanceof ValueAxis) {\r\n                    if (!$type.isNumber(bulletLocationX)) {\r\n                        bulletLocationX = 0;\r\n                    }\r\n                    var openValue = void 0;\r\n                    var closeValue = dataItem.getWorkingValue(xField);\r\n                    if (!xOpenField) {\r\n                        openValue = xAxis.baseValue;\r\n                    }\r\n                    else {\r\n                        openValue = dataItem.getWorkingValue(xOpenField);\r\n                    }\r\n                    var stack = dataItem.getValue(\"valueX\", \"stack\");\r\n                    openValue += stack;\r\n                    closeValue += stack;\r\n                    var middleValue = openValue + (closeValue - openValue) * (1 - bulletLocationX);\r\n                    positionX = xAxis.valueToPosition(middleValue);\r\n                }\r\n                else if (xAxis instanceof CategoryAxis) {\r\n                    var rightLocation = this.getAdjustedXLocation(dataItem, xField, bullet.locationX);\r\n                    var leftLocation = this.getAdjustedXLocation(dataItem, xOpenField, bullet.locationX);\r\n                    positionX = xAxis.categoryToPosition(dataItem[xField], rightLocation);\r\n                    var openPositionX = void 0;\r\n                    if (xOpenField) {\r\n                        openPositionX = xAxis.categoryToPosition(dataItem[xOpenField], leftLocation);\r\n                    }\r\n                    if (!$type.isNumber(openPositionX)) {\r\n                        openPositionX = 1;\r\n                    }\r\n                    positionX = openPositionX + (positionX - openPositionX) * bulletLocationX;\r\n                }\r\n                if (yAxis instanceof DateAxis) {\r\n                    if (!$type.isNumber(bulletLocationY)) {\r\n                        bulletLocationY = 0;\r\n                    }\r\n                    var openValue = void 0;\r\n                    var closeValue = dataItem.getWorkingValue(yField);\r\n                    if (!yOpenField) {\r\n                        if (yAxis == this.baseAxis) {\r\n                            openValue = yAxis.baseValue;\r\n                        }\r\n                    }\r\n                    else {\r\n                        openValue = dataItem.getWorkingValue(yOpenField);\r\n                    }\r\n                    if (!$type.isNumber(openValue)) {\r\n                        openValue = closeValue;\r\n                    }\r\n                    var stack = dataItem.getValue(\"valueY\", \"stack\");\r\n                    openValue += stack;\r\n                    closeValue += stack;\r\n                    if (openValue == closeValue) {\r\n                        var baseInterval = yAxis.baseInterval;\r\n                        var dateFormatter = yAxis.dateFormatter;\r\n                        openValue = $time.round(new Date(openValue), baseInterval.timeUnit, baseInterval.count, dateFormatter.firstDayOfWeek, dateFormatter.utc).getTime();\r\n                        closeValue = $time.add(new Date(openValue), baseInterval.timeUnit, baseInterval.count, dateFormatter.utc).getTime();\r\n                    }\r\n                    var middleValue = void 0;\r\n                    if (yAxis == this.baseAxis) {\r\n                        middleValue = openValue + (closeValue - openValue) * bulletLocationY;\r\n                    }\r\n                    else {\r\n                        middleValue = openValue + (closeValue - openValue) * (1 - bulletLocationY);\r\n                    }\r\n                    positionY = yAxis.valueToPosition(middleValue);\r\n                }\r\n                else if (yAxis instanceof ValueAxis) {\r\n                    if (!$type.isNumber(bulletLocationY)) {\r\n                        bulletLocationY = 0;\r\n                    }\r\n                    var openValue = void 0;\r\n                    var closeValue = dataItem.getWorkingValue(yField);\r\n                    if (!yOpenField) {\r\n                        openValue = yAxis.baseValue;\r\n                    }\r\n                    else {\r\n                        openValue = dataItem.getWorkingValue(yOpenField);\r\n                    }\r\n                    var stack = dataItem.getValue(\"valueY\", \"stack\");\r\n                    openValue += stack;\r\n                    closeValue += stack;\r\n                    var middleValue = openValue + (closeValue - openValue) * (1 - bulletLocationY);\r\n                    positionY = yAxis.valueToPosition(middleValue);\r\n                }\r\n                else if (yAxis instanceof CategoryAxis) {\r\n                    positionY = yAxis.categoryToPosition(dataItem[yField], bulletLocationY);\r\n                    var topLocation = this.getAdjustedYLocation(dataItem, yField, bullet.locationY);\r\n                    var bottomLocation = this.getAdjustedYLocation(dataItem, yOpenField, bullet.locationY);\r\n                    positionY = yAxis.categoryToPosition(dataItem[yField], topLocation);\r\n                    var openPositionY = void 0;\r\n                    if (yOpenField) {\r\n                        openPositionY = yAxis.categoryToPosition(dataItem[yOpenField], bottomLocation);\r\n                    }\r\n                    if (!$type.isNumber(openPositionY)) {\r\n                        openPositionY = 1;\r\n                    }\r\n                    positionY = openPositionY + (positionY - openPositionY) * bulletLocationY;\r\n                }\r\n                bullet.visible = true;\r\n                this.positionBulletReal(bullet, positionX, positionY);\r\n            }\r\n            else {\r\n                bullet.visible = false;\r\n            }\r\n        }\r\n    };\r\n    XYSeries.prototype.positionBulletReal = function (bullet, positionX, positionY) {\r\n        bullet.x = this.xAxis.renderer.positionToPoint(positionX, positionY).x;\r\n        bullet.y = this.yAxis.renderer.positionToPoint(positionY, positionX).y;\r\n    };\r\n    /**\r\n     * returns bullet x location\r\n     * @ignore\r\n     */\r\n    XYSeries.prototype.getBulletLocationX = function (bullet, field) {\r\n        var bulletLocation = bullet.locationX;\r\n        var dataItem = bullet.dataItem;\r\n        if (!$type.isNumber(bulletLocation)) {\r\n            bulletLocation = dataItem.workingLocations[field];\r\n        }\r\n        return bulletLocation;\r\n    };\r\n    /**\r\n     * Returns bullet x location\r\n     * @ignore\r\n     */\r\n    XYSeries.prototype.getBulletLocationY = function (bullet, field) {\r\n        var bulletLocation = bullet.locationY;\r\n        var dataItem = bullet.dataItem;\r\n        if (!$type.isNumber(bulletLocation)) {\r\n            bulletLocation = dataItem.workingLocations[field];\r\n        }\r\n        return bulletLocation;\r\n    };\r\n    /**\r\n     * This method must be called if you update Series' data fields that might\r\n     * affect stacking of the series.\r\n     *\r\n     * Since individual `dataField` changes are not being monitored, you need\r\n     * todo it manually for changes to take affect.\r\n     *\r\n     * @since 4.7.21\r\n     */\r\n    XYSeries.prototype.updateStacking = function () {\r\n        var _this = this;\r\n        this.invalidateDataItems();\r\n        if (this.chart) {\r\n            this.chart.series.each(function (series) {\r\n                if (series.baseAxis == _this.baseAxis) {\r\n                    series.stackedSeries = undefined;\r\n                    series.invalidateDataItems();\r\n                    series.invalidateProcessedData();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Object.defineProperty(XYSeries.prototype, \"stacked\", {\r\n        /**\r\n         * @return Can be stacked?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"stacked\");\r\n        },\r\n        /**\r\n         * Can items from this series be included into stacks?\r\n         *\r\n         * Note: proper stacking is only possible if series have the same number\r\n         * of data items. To ensure this, don't set data directly on series\r\n         * but do this on chart instead.\r\n         *\r\n         * @default false\r\n         * @param stacked  Can be stacked?\r\n         */\r\n        set: function (stacked) {\r\n            if (this.setPropertyValue(\"stacked\", stacked, true)) {\r\n                this.updateStacking();\r\n                var xAxis = this.xAxis;\r\n                var yAxis = this.yAxis;\r\n                if (!stacked) {\r\n                    var field_1;\r\n                    if (xAxis != this.baseAxis && xAxis instanceof ValueAxis) {\r\n                        field_1 = this.xField;\r\n                    }\r\n                    if (yAxis != this.baseAxis && yAxis instanceof ValueAxis) {\r\n                        field_1 = this.yField;\r\n                    }\r\n                    if (field_1) {\r\n                        this.dataItems.each(function (dataItem) {\r\n                            dataItem.setCalculatedValue(field_1, 0, \"stack\");\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"snapTooltip\", {\r\n        /**\r\n         * @return Should snap?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"snapTooltip\");\r\n        },\r\n        /**\r\n         * Should the nearest tooltip be shown if no data item is found on the\r\n         * current cursor position? In order this to work, you should set snapTooltip = false on the series baseAxis.\r\n         *\r\n         * @default false\r\n         * @param value  Should snap?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"snapTooltip\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Shows hidden series.\r\n     *\r\n     * @param duration  Duration of reveal animation (ms)\r\n     * @return Animation\r\n     */\r\n    XYSeries.prototype.show = function (duration) {\r\n        var _this = this;\r\n        var fields;\r\n        if (this.xAxis instanceof ValueAxis && this.xAxis != this.baseAxis) {\r\n            fields = this._xValueFields;\r\n        }\r\n        if (this.yAxis instanceof ValueAxis && this.yAxis != this.baseAxis) {\r\n            fields = this._yValueFields;\r\n        }\r\n        var startIndex = this.startIndex;\r\n        var endIndex = this.endIndex;\r\n        var delay = 0;\r\n        var interpolationDuration = this.defaultState.transitionDuration;\r\n        if ($type.isNumber(duration)) {\r\n            interpolationDuration = duration;\r\n        }\r\n        if (!options.animationsEnabled) {\r\n            interpolationDuration = 0;\r\n        }\r\n        var anim;\r\n        $iter.each($iter.indexed(this.dataItems.iterator()), function (a) {\r\n            var i = a[0];\r\n            var dataItem = a[1];\r\n            var realDuration = interpolationDuration;\r\n            if (i < _this.startIndex - 10 || i > _this.endIndex + 10) {\r\n                realDuration = 0;\r\n                delay = 0;\r\n            }\r\n            if (_this.sequencedInterpolation && realDuration > 0) {\r\n                delay = _this.sequencedInterpolationDelay * i + interpolationDuration * (i - startIndex) / (endIndex - startIndex);\r\n            }\r\n            anim = dataItem.show(realDuration, delay, fields);\r\n        });\r\n        // other data sets\r\n        this.dataSets.each(function (key, dataSet) {\r\n            if (dataSet != _this.dataItems) {\r\n                dataSet.each(function (dataItem) {\r\n                    dataItem.events.disable();\r\n                    dataItem.show(0, 0, fields);\r\n                    dataItem.events.enable();\r\n                });\r\n            }\r\n        });\r\n        if (this.mainDataSet != this.dataItems) {\r\n            this.mainDataSet.each(function (dataItem) {\r\n                dataItem.events.disable();\r\n                dataItem.show(0, 0, fields);\r\n                dataItem.events.enable();\r\n            });\r\n        }\r\n        var animation = _super.prototype.show.call(this, duration);\r\n        if (anim && !anim.isFinished()) {\r\n            animation = anim;\r\n        }\r\n        if (this.hidden) {\r\n            this.dispatchImmediately(\"selectionextremeschanged\");\r\n            this.hidden = false;\r\n        }\r\n        return animation;\r\n    };\r\n    /**\r\n     * Hides series.\r\n     *\r\n     * @param duration  Duration of hiding animation (ms)\r\n     * @return Animation\r\n     */\r\n    XYSeries.prototype.hide = function (duration) {\r\n        var _this = this;\r\n        var fields;\r\n        var value;\r\n        var xAxis = this.xAxis;\r\n        if (xAxis instanceof ValueAxis && xAxis != this.baseAxis) {\r\n            fields = this._xValueFields;\r\n            // animate to zero if 0 is within zoomMin/zoomMax\r\n            if (this.stacked || (xAxis.minZoomed < xAxis.baseValue && xAxis.maxZoomed > xAxis.baseValue) || this.stackedSeries) {\r\n                value = xAxis.baseValue;\r\n            }\r\n            else {\r\n                value = xAxis.min;\r\n            }\r\n        }\r\n        var yAxis = this.yAxis;\r\n        if (yAxis instanceof ValueAxis && yAxis != this.baseAxis) {\r\n            fields = this._yValueFields;\r\n            // animate to zero if 0 is within zoomMin/zoomMax\r\n            if (this.stacked || (yAxis.minZoomed < yAxis.baseValue && yAxis.maxZoomed > yAxis.baseValue) || this.stackedSeries) {\r\n                value = yAxis.baseValue;\r\n            }\r\n            else {\r\n                value = yAxis.min;\r\n            }\r\n        }\r\n        //if ($type.hasValue(fields)) {\r\n        var startIndex = this.startIndex;\r\n        var endIndex = this.endIndex;\r\n        var interpolationDuration = this.hiddenState.transitionDuration;\r\n        if ($type.isNumber(duration)) {\r\n            interpolationDuration = duration;\r\n        }\r\n        if (!options.animationsEnabled) {\r\n            interpolationDuration = 0;\r\n        }\r\n        var delay = 0;\r\n        var anim;\r\n        $iter.each($iter.indexed(this.dataItems.iterator()), function (a) {\r\n            var i = a[0];\r\n            var dataItem = a[1];\r\n            var realDuration = interpolationDuration;\r\n            if (i < _this.startIndex - 10 || i > _this.endIndex + 10) {\r\n                realDuration = 0;\r\n            }\r\n            if (realDuration == 0) {\r\n                dataItem.hide(0, 0, value, fields);\r\n            }\r\n            else {\r\n                if (_this.sequencedInterpolation && realDuration > 0) {\r\n                    delay = _this.sequencedInterpolationDelay * i + interpolationDuration * (i - startIndex) / (endIndex - startIndex);\r\n                }\r\n                anim = dataItem.hide(realDuration, delay, value, fields);\r\n            }\r\n        });\r\n        var animation = _super.prototype.hide.call(this, interpolationDuration);\r\n        if (animation && !animation.isFinished()) {\r\n            animation.delay(delay);\r\n        }\r\n        if (anim && !anim.isFinished()) {\r\n            animation = anim;\r\n        }\r\n        // helps to avoid flicker. otherwise columns will show up at full size and only on next frame will animate from 0\r\n        this.validateDataElements();\r\n        //}\r\n        return animation;\r\n    };\r\n    /**\r\n     * [handleDataItemWorkingValueChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYSeries.prototype.handleDataItemWorkingValueChange = function (dataItem, name) {\r\n        _super.prototype.handleDataItemWorkingValueChange.call(this, dataItem, name);\r\n        // to calculate stack values\r\n        var axisSeries = this.baseAxis.series;\r\n        $iter.each(axisSeries.iterator(), function (series) {\r\n            if (series.stacked || series.stackedSeries) {\r\n                series.invalidateProcessedData();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * [getStackValue description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     * @param dataItem  Data item\r\n     */\r\n    XYSeries.prototype.getStackValue = function (dataItem, working) {\r\n        // todo: here wer stack x and y values only. question is - what should we do with other values, like openX, openY?\r\n        // if this series is not stacked or new stack begins, return.\r\n        var _this = this;\r\n        var xAxis = this.xAxis;\r\n        var yAxis = this.yAxis;\r\n        if (!this.stacked || !xAxis || !yAxis) {\r\n            return;\r\n        }\r\n        else {\r\n            // it might seem that it's better to go through base axis series, but we do not maintain the same order as in chart.series there.\r\n            var chart = this.chart;\r\n            var index = chart.series.indexOf(this);\r\n            var field_2;\r\n            if (xAxis != this.baseAxis && xAxis instanceof ValueAxis) {\r\n                field_2 = this.xField;\r\n            }\r\n            if (yAxis != this.baseAxis && yAxis instanceof ValueAxis) {\r\n                field_2 = this.yField;\r\n            }\r\n            if (!field_2) {\r\n                return;\r\n            }\r\n            //this is good for removing series, otherwise stack values will remain the same and chart won't pay atention when adding/removing series\t\t\t\r\n            dataItem.setCalculatedValue(field_2, 0, \"stack\");\r\n            $iter.eachContinue(chart.series.range(0, index).backwards().iterator(), function (prevSeries) {\r\n                // stacking is only possible if both axes are the same\r\n                if (prevSeries.xAxis == xAxis && prevSeries.yAxis == yAxis) {\r\n                    // saving value\r\n                    prevSeries.stackedSeries = _this;\r\n                    var prevDataItem = prevSeries.dataItems.getIndex(dataItem.index); // indexes should match\r\n                    if (prevDataItem && prevDataItem.hasValue(_this._xValueFields) && prevDataItem.hasValue(_this._yValueFields)) {\r\n                        var value = dataItem.getValue(field_2);\r\n                        var prevValue = void 0;\r\n                        var prevRealValue = prevDataItem.getValue(field_2) + prevDataItem.getValue(field_2, \"stack\");\r\n                        if (working) {\r\n                            prevValue = prevDataItem.getWorkingValue(field_2) + prevDataItem.getValue(field_2, \"stack\");\r\n                        }\r\n                        else {\r\n                            prevValue = prevDataItem.getValue(field_2) + prevDataItem.getValue(field_2, \"stack\");\r\n                        }\r\n                        if ((value >= 0 && prevRealValue >= 0) || (value < 0 && prevRealValue < 0)) {\r\n                            //dataItem.events.disable();\r\n                            dataItem.setCalculatedValue(field_2, prevValue, \"stack\");\r\n                            //dataItem.events.enable();\r\n                            return false;\r\n                        }\r\n                    }\r\n                    else if (!prevSeries.stacked) {\r\n                        return false;\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n    };\r\n    Object.defineProperty(XYSeries.prototype, \"xField\", {\r\n        /**\r\n         * [xField description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._xField;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"yField\", {\r\n        /**\r\n         * [yField description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._yField;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"xOpenField\", {\r\n        /**\r\n         * [xOpenField description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._xOpenField;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"yOpenField\", {\r\n        /**\r\n         * [yOpenField description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            return this._yOpenField;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"tooltipXField\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            if (this._tooltipXField) {\r\n                return this._tooltipXField;\r\n            }\r\n            return this._xField;\r\n        },\r\n        /**\r\n         * [tooltipXField description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @param value [description]\r\n         */\r\n        set: function (value) {\r\n            this._tooltipXField = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"tooltipYField\", {\r\n        /**\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @return [description]\r\n         */\r\n        get: function () {\r\n            if (this._tooltipYField) {\r\n                return this._tooltipYField;\r\n            }\r\n            return this._yField;\r\n        },\r\n        /**\r\n         * [tooltipYField description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         * @param value [description]\r\n         */\r\n        set: function (value) {\r\n            this._tooltipYField = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns lowest value in the series for the specific axis.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axis  Axis\r\n     * @return value\r\n     */\r\n    XYSeries.prototype.min = function (axis) {\r\n        return this._tmin.getKey(axis.uid);\r\n    };\r\n    /**\r\n     * Returns highest value in the series for the specific axis.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axis  Axis\r\n     * @return value\r\n     */\r\n    XYSeries.prototype.max = function (axis) {\r\n        return this._tmax.getKey(axis.uid);\r\n    };\r\n    /**\r\n     * Returns lowest value in the series for the specific axis within current\r\n     * selection.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axis  Axis\r\n     * @return value\r\n     */\r\n    XYSeries.prototype.selectionMin = function (axis) {\r\n        var value = this._smin.getKey(axis.uid);\r\n        if (!$type.isNumber(value)) {\r\n            value = this.min(axis);\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Returns highest value in the series for the specific axis within current\r\n     * selection.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axis  Axis\r\n     * @return value\r\n     */\r\n    XYSeries.prototype.selectionMax = function (axis) {\r\n        var value = this._smax.getKey(axis.uid);\r\n        if (!$type.isNumber(value)) {\r\n            value = this.max(axis);\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    XYSeries.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Set up base axes\r\n            if ($type.hasValue(config.baseAxis) && $type.isString(config.baseAxis)) {\r\n                if (this.map.hasKey(config.baseAxis)) {\r\n                    config.baseAxis = this.map.getKey(config.baseAxis);\r\n                }\r\n                else {\r\n                    this.processingErrors.push(\"[XYSeries (\" + (this.name || \"unnamed\") + \")] No axis with id \\\"\" + config.baseAxis + \"\\\" found for `baseAxis`.\");\r\n                    delete config.baseAxis;\r\n                }\r\n            }\r\n            // Set up axes\r\n            if ($type.hasValue(config.xAxis) && $type.isString(config.xAxis)) {\r\n                if (this.map.hasKey(config.xAxis)) {\r\n                    config.xAxis = this.map.getKey(config.xAxis);\r\n                }\r\n                else {\r\n                    this.processingErrors.push(\"[XYSeries (\" + (this.name || \"unnamed\") + \")] No axis with id \\\"\" + config.xAxis + \"\\\" found for `xAxis`.\");\r\n                    delete config.xAxis;\r\n                }\r\n            }\r\n            if ($type.hasValue(config.yAxis) && $type.isString(config.yAxis)) {\r\n                if (this.map.hasKey(config.yAxis)) {\r\n                    config.yAxis = this.map.getKey(config.yAxis);\r\n                }\r\n                else {\r\n                    this.processingErrors.push(\"[XYSeries (\" + (this.name || \"unnamed\") + \")] No axis with id \\\"\" + config.yAxis + \"\\\" found for `yAxis`.\");\r\n                    delete config.yAxis;\r\n                }\r\n            }\r\n            // Set up axis ranges\r\n            if ($type.hasValue(config.axisRanges) && $type.isArray(config.axisRanges)) {\r\n                for (var i = 0, len = config.axisRanges.length; i < len; i++) {\r\n                    var range = config.axisRanges[i];\r\n                    if (!$type.hasValue(range.type)) {\r\n                        range.type = \"AxisDataItem\";\r\n                    }\r\n                    if ($type.hasValue(range.axis) && $type.isString(range.axis) && this.map.hasKey(range.axis)) {\r\n                        range.component = this.map.getKey(range.axis);\r\n                    }\r\n                    else if ($type.hasValue(range.component) && $type.isString(range.component) && this.map.hasKey(range.component)) {\r\n                        range.component = this.map.getKey(range.component);\r\n                    }\r\n                }\r\n            }\r\n            // Parse date fields based on the series fields\r\n            if (!$type.hasValue(config.dataFields) || !$type.isObject(config.dataFields)) {\r\n                this.processingErrors.push(\"`dataFields` is not set for series [\" + (this.name || \"unnamed\") + \"]\");\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    /**\r\n     * Returns an [[IPoint]] coordinates of the specific Serie's data point.\r\n     *\r\n     * @param    dataItem   Data item\r\n     * @param    xKey       Name of X data field\r\n     * @param    yKey       Name of Y data field\r\n     * @param    locationX  X location\r\n     * @param    locationY  Y location\r\n     * @param    stackKeyX  ?\r\n     * @param    stackKeyY  ?\r\n     * @returns             Coordinates\r\n     */\r\n    XYSeries.prototype.getPoint = function (dataItem, xKey, yKey, locationX, locationY, stackKeyX, stackKeyY) {\r\n        if (this.xAxis && this.yAxis) {\r\n            var x = this.xAxis.getX(dataItem, xKey, locationX);\r\n            var y = this.yAxis.getY(dataItem, yKey, locationY);\r\n            x = $math.fitToRange(x, -this._maxxX, this._maxxX); // from geometric point of view this is not right, but practically it's ok. this is done to avoid too big objects.\r\n            y = $math.fitToRange(y, -this._maxxY, this._maxxY); // from geometric point of view this is not right, but practically it's ok. this is done to avoid too big objects.\r\n            return { x: x, y: y };\r\n        }\r\n    };\r\n    /**\r\n     * Updates item reader text based on the type and set up of axis.\r\n     */\r\n    XYSeries.prototype.updateItemReaderText = function () {\r\n        // We do not want to overwrite this if `itemReaderText` was changed by\r\n        // user code.\r\n        if (this._itemReaderTextChanged) {\r\n            return;\r\n        }\r\n        var text = \"\";\r\n        $object.each(this.dataFields, function (key, val) {\r\n            text += \"{\" + key + \"} \";\r\n        });\r\n        this.itemReaderText = text;\r\n        this._itemReaderTextChanged = false;\r\n    };\r\n    Object.defineProperty(XYSeries.prototype, \"cursorTooltipEnabled\", {\r\n        /**\r\n         * @return Display tooltip?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cursorTooltipEnabled\");\r\n        },\r\n        /**\r\n         * Indicates if series should display a tooltip for chart's cursor.\r\n         *\r\n         * If set to `true` (default), the tooltips set for all series item's\r\n         * elements like columns and bullets will be automatically shown\r\n         * when [[XYCursor]] passes over category/date, even if its not hovered\r\n         * directly over the item.\r\n         *\r\n         * Set this to `false` to disable such behavior and display item-specific\r\n         * tooltips only when hovered directly over them\r\n         *\r\n         * @default true\r\n         * @param value Display tooltip?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"cursorTooltipEnabled\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"cursorHoverEnabled\", {\r\n        /**\r\n         * @return Hover enabled?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cursorHoverEnabled\");\r\n        },\r\n        /**\r\n         * Indicates if series should apply hover state on bullets/columns/etc when\r\n         * cursor is over the data item.\r\n         *\r\n         * If set to `true` (default) and chart cursor is enabled on th chart,\r\n         * hovering over date/category will trigger hover states on related Series\r\n         * items like bullets and columns.\r\n         *\r\n         * @default true\r\n         * @since 4.2.2\r\n         * @param  value  Hover enabled?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"cursorHoverEnabled\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"excludeFromTotal\", {\r\n        /**\r\n         * @return Exclude from totals?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"excludeFromTotal\");\r\n        },\r\n        /**\r\n         * Indicates if series' values should be excluded when calculating totals.\r\n         *\r\n         * @default false\r\n         * @since 4.4.9\r\n         * @param  value  Exclude from totals?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"excludeFromTotal\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"hideTooltipWhileZooming\", {\r\n        /**\r\n         * @return Hide tooltip while zooming?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"hideTooltipWhileZooming\");\r\n        },\r\n        /**\r\n         * Indicates if series' tooltip should be hidden while series axis range is\r\n         * animating (zooming).\r\n         *\r\n         * @default true\r\n         * @since 4.7.16\r\n         * @param  value  Hide tooltip while zooming?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"hideTooltipWhileZooming\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYSeries.prototype, \"maskBullets\", {\r\n        /**\r\n         * @return Mask bullets?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maskBullets\");\r\n        },\r\n        /**\r\n         * Indicates if series' bullets should be masked.\r\n         *\r\n         * @default true\r\n         * @since 4.7.17\r\n         * @param  value  Mask bullets?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"maskBullets\", value);\r\n            var chart = this.chart;\r\n            if (chart) {\r\n                if (value) {\r\n                    this.bulletsContainer.parent = chart.bulletsContainer;\r\n                }\r\n                else {\r\n                    this.bulletsContainer.parent = chart.axisBulletsContainer;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all properties from another instance of [[Series]].\r\n     *\r\n     * @param source  Source series\r\n     */\r\n    XYSeries.prototype.copyFrom = function (source) {\r\n        this.groupFields = $utils.copyProperties(source.groupFields, {});\r\n        _super.prototype.copyFrom.call(this, source);\r\n    };\r\n    /**\r\n     * Destroys this object and all related data.\r\n     */\r\n    XYSeries.prototype.dispose = function () {\r\n        if (this.scrollbarSeries) {\r\n            this.scrollbarSeries.dispose();\r\n        }\r\n        _super.prototype.dispose.call(this);\r\n    };\r\n    return XYSeries;\r\n}(Series));\r\nexport { XYSeries };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"XYSeries\"] = XYSeries;\r\nregistry.registeredClasses[\"XYSeriesDataItem\"] = XYSeriesDataItem;\r\n//# sourceMappingURL=XYSeries.js.map","/**\r\n * Chord diagram module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { FlowDiagram, FlowDiagramDataItem } from \"./FlowDiagram\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { ChordNode } from \"../elements/ChordNode\";\r\nimport { ChordLink } from \"../elements/ChordLink\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n//@todo rearange notes after dragged\r\n/**\r\n * Defines a [[DataItem]] for [[ChordDiagram]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar ChordDiagramDataItem = /** @class */ (function (_super) {\r\n    __extends(ChordDiagramDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ChordDiagramDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"ChordDiagramDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return ChordDiagramDataItem;\r\n}(FlowDiagramDataItem));\r\nexport { ChordDiagramDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a Chord Diagram chart.\r\n *\r\n * @see {@link IChordDiagramEvents} for a list of available Events\r\n * @see {@link IChordDiagramAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/chord-diagram/} for documentation\r\n * @important\r\n */\r\nvar ChordDiagram = /** @class */ (function (_super) {\r\n    __extends(ChordDiagram, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function ChordDiagram() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * [valueAngle description]\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description\r\n         */\r\n        _this.valueAngle = 0;\r\n        _this.className = \"ChordDiagram\";\r\n        _this.startAngle = -90;\r\n        _this.endAngle = 270;\r\n        _this.radius = percent(80);\r\n        _this.innerRadius = -15;\r\n        _this.nodePadding = 5;\r\n        var chordContainer = _this.chartContainer.createChild(Container);\r\n        chordContainer.align = \"center\";\r\n        chordContainer.valign = \"middle\";\r\n        chordContainer.shouldClone = false;\r\n        chordContainer.layout = \"absolute\";\r\n        _this.chordContainer = chordContainer;\r\n        _this.nodesContainer.parent = chordContainer;\r\n        _this.linksContainer.parent = chordContainer;\r\n        _this.chartContainer.events.on(\"maxsizechanged\", _this.invalidate, _this, false);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Redraws the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ChordDiagram.prototype.validate = function () {\r\n        var _this = this;\r\n        var chartContainer = this.chartContainer;\r\n        var endAngle = this.endAngle;\r\n        var startAngle = this.startAngle + this.nodePadding / 2;\r\n        var rect = $math.getArcRect(this.startAngle, this.endAngle, 1);\r\n        var innerRect = { x: 0, y: 0, width: 0, height: 0 };\r\n        rect = $math.getCommonRectangle([rect, innerRect]);\r\n        var maxRadius = Math.min(chartContainer.innerWidth / rect.width, chartContainer.innerHeight / rect.height);\r\n        if (!$type.isNumber(maxRadius)) {\r\n            maxRadius = 0;\r\n        }\r\n        var radius = $utils.relativeRadiusToValue(this.radius, maxRadius);\r\n        var pixelInnerRadius = $utils.relativeRadiusToValue(this.innerRadius, radius, true);\r\n        var total = this.dataItem.values.value.sum;\r\n        var count = 0;\r\n        var newTotal = 0;\r\n        $iter.each(this._sorted, function (strNode) {\r\n            var node = strNode[1];\r\n            _this.getNodeValue(node);\r\n            count++;\r\n            var value = node.total;\r\n            if (node.total / total < _this.minNodeSize) {\r\n                value = total * _this.minNodeSize;\r\n            }\r\n            newTotal += value;\r\n        });\r\n        this.valueAngle = (endAngle - this.startAngle - this.nodePadding * count) / newTotal;\r\n        $iter.each(this._sorted, function (strNode) {\r\n            var node = strNode[1];\r\n            var slice = node.slice;\r\n            slice.radius = radius;\r\n            slice.innerRadius = pixelInnerRadius;\r\n            var value = node.total;\r\n            if (node.total / total < _this.minNodeSize) {\r\n                value = total * _this.minNodeSize;\r\n            }\r\n            node.adjustedTotal = value;\r\n            var arc;\r\n            if (_this.nonRibbon) {\r\n                arc = (endAngle - _this.startAngle) / count - _this.nodePadding;\r\n            }\r\n            else {\r\n                arc = _this.valueAngle * value;\r\n            }\r\n            slice.arc = arc;\r\n            slice.startAngle = startAngle;\r\n            node.trueStartAngle = startAngle;\r\n            node.parent = _this.nodesContainer;\r\n            node.validate(); // otherwise flickers - nodes are already created, but not yet positioned etc.\r\n            startAngle += arc + _this.nodePadding;\r\n        });\r\n        this.chordContainer.definedBBox = { x: radius * rect.x, y: radius * rect.y, width: radius * rect.width, height: radius * rect.height };\r\n        this.chordContainer.invalidateLayout();\r\n        _super.prototype.validate.call(this);\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    ChordDiagram.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Chord diagram\");\r\n        }\r\n    };\r\n    /**\r\n     * Creates and returns a new data item.\r\n     *\r\n     * @return Data item\r\n     */\r\n    ChordDiagram.prototype.createDataItem = function () {\r\n        return new ChordDiagramDataItem();\r\n    };\r\n    Object.defineProperty(ChordDiagram.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Start angle (degrees)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startAngle\");\r\n        },\r\n        /**\r\n         * Starting angle of the Radar face. (degrees)\r\n         *\r\n         * Normally, a circular radar face begins (the radial axis is drawn) at the\r\n         * top center. (at -90 degrees)\r\n         *\r\n         * You can use `startAngle` to change this setting.\r\n         *\r\n         * E.g. setting this to 0 will make the radial axis start horizontally to\r\n         * the right, as opposed to vertical.\r\n         *\r\n         * For a perfect circle the absolute sum of `startAngle` and `endAngle`\r\n         * needs to be 360.\r\n         *\r\n         * However, it's **not** necessary to do so. You can set those to lesser\r\n         * numbers, to create semi-circles.\r\n         *\r\n         * E.g. `startAngle = -90` with `endAngle = 0` will create a radar face that\r\n         * looks like a quarter of a circle.\r\n         *\r\n         * @default -90\r\n         * @param value  Start angle (degrees)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ChordDiagram.prototype, \"endAngle\", {\r\n        /**\r\n         * @return End angle (degrees)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endAngle\");\r\n        },\r\n        /**\r\n         * Starting angle of the Radar face. (degrees)\r\n         *\r\n         * Normally, a circular radar face ends (the radial axis is drawn) exactly\r\n         * where it has started, forming a full 360 circle. (at 270 degrees)\r\n         *\r\n         * You can use `endAngle` to end the circle somewhere else.\r\n         *\r\n         * E.g. setting this to 180 will make the radar face end at horizontal line\r\n         * to the left off the center.\r\n         *\r\n         * For a perfect circle the absolute sum of `startAngle` and `endAngle`\r\n         * needs to be 360.\r\n         *\r\n         * However, it's **not** necessary to do so. You can set those to lesser\r\n         * numbers, to create semi-circles.\r\n         *\r\n         * E.g. `startAngle = -90` with `endAngle = 0` will create a radar face that\r\n         * looks like a quarter of a circle.\r\n         *\r\n         * @default -90\r\n         * @param value  End angle (degrees)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"endAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ChordDiagram.prototype, \"radius\", {\r\n        /**\r\n         * @return Outer radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Outer radius of the Radar face.\r\n         *\r\n         * This can either be in absolute pixel value, or relative [[Percent]].\r\n         *\r\n         * @param value  Outer radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"radius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ChordDiagram.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Inner radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Inner radius of the Chord nodes.\r\n         *\r\n         * This can either be in absolute pixel value, or relative [[Percent]].\r\n         *\r\n         * @param value  Outer radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ChordDiagram.prototype, \"nonRibbon\", {\r\n        /**\r\n         * @return Non-ribbon\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"nonRibbon\");\r\n        },\r\n        /**\r\n         *\r\n         * If you set this to true, all the lines will be of the same width. This is done by making middleLine of a ChordLink visible.\r\n         *\r\n         * @param value\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"nonRibbon\", value, true);\r\n            this.links.template.middleLine.strokeOpacity = 1;\r\n            this.links.template.link.fillOpacity = 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    ChordDiagram.prototype.createNode = function () {\r\n        var node = new ChordNode();\r\n        this._disposers.push(node);\r\n        return node;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    ChordDiagram.prototype.createLink = function () {\r\n        var link = new ChordLink();\r\n        this._disposers.push(link);\r\n        return link;\r\n    };\r\n    return ChordDiagram;\r\n}(FlowDiagram));\r\nexport { ChordDiagram };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"ChordDiagram\"] = ChordDiagram;\r\n//# sourceMappingURL=ChordDiagram.js.map","/**\r\n * FlowDiagram module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Chart, ChartDataItem } from \"../Chart\";\r\nimport { ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { DictionaryTemplate, DictionaryDisposer } from \"../../core/utils/Dictionary\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { FlowDiagramNode } from \"../elements/FlowDiagramNode\";\r\nimport { FlowDiagramLink } from \"../elements/FlowDiagramLink\";\r\nimport { LinearGradientModifier } from \"../../core/rendering/fills/LinearGradientModifier\";\r\nimport { ColorSet } from \"../../core/utils/ColorSet\";\r\nimport { toColor, Color } from \"../../core/utils/Color\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $number from \"../../core/utils/Number\";\r\nimport * as $order from \"../../core/utils/Order\";\r\nimport { Disposer } from \"../../core/utils/Disposer\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n//@todo rearange notes after dragged\r\n/**\r\n * Defines a [[DataItem]] for [[FlowDiagram]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar FlowDiagramDataItem = /** @class */ (function (_super) {\r\n    __extends(FlowDiagramDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FlowDiagramDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"FlowDiagramDataItem\";\r\n        _this.values.value = {};\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(FlowDiagramDataItem.prototype, \"fromName\", {\r\n        /**\r\n         * @return name\r\n         */\r\n        get: function () {\r\n            return this.properties.fromName;\r\n        },\r\n        /**\r\n         * Source node's name.\r\n         *\r\n         * @param value  Name\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"fromName\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramDataItem.prototype, \"toName\", {\r\n        /**\r\n         * @return name\r\n         */\r\n        get: function () {\r\n            return this.properties.toName;\r\n        },\r\n        /**\r\n         * Destination node's name.\r\n         *\r\n         * @param value  Name\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"toName\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramDataItem.prototype, \"color\", {\r\n        /**\r\n         * @return color\r\n         */\r\n        get: function () {\r\n            return this.properties.color;\r\n        },\r\n        /**\r\n         * Node color\r\n         *\r\n         * @param value  Name\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"color\", toColor(value));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramDataItem.prototype, \"value\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            return this.values.value.value;\r\n        },\r\n        /**\r\n         * Link's value.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"value\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagramDataItem.prototype, \"link\", {\r\n        /**\r\n         * A visual element, representing link between the source and target nodes.\r\n         *\r\n         * Link's actual thickness will be determined by `value` of this link and\r\n         * `value` of the source node.\r\n         *\r\n         * @readonly\r\n         * @return Link element\r\n         */\r\n        get: function () {\r\n            var _this = this;\r\n            if (!this._link) {\r\n                var link_1 = this.component.links.create();\r\n                this._link = link_1;\r\n                this.addSprite(link_1);\r\n                this._disposers.push(new Disposer(function () {\r\n                    if (_this.component) {\r\n                        _this.component.links.removeValue(link_1);\r\n                    }\r\n                }));\r\n            }\r\n            return this._link;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return FlowDiagramDataItem;\r\n}(ChartDataItem));\r\nexport { FlowDiagramDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a Pie chart\r\n * @see {@link IFlowDiagramEvents} for a list of available Events\r\n * @see {@link IFlowDiagramAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nvar FlowDiagram = /** @class */ (function (_super) {\r\n    __extends(FlowDiagram, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function FlowDiagram() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * A Color Set to use when applying/generating colors for each subsequent\r\n         * node.\r\n         */\r\n        _this.colors = new ColorSet();\r\n        _this.className = \"FlowDiagram\";\r\n        _this.nodePadding = 20;\r\n        _this.sortBy = \"none\";\r\n        _this.sequencedInterpolation = true;\r\n        _this.colors.step = 2;\r\n        _this.minNodeSize = 0.02;\r\n        var linksContainer = _this.chartContainer.createChild(Container);\r\n        linksContainer.shouldClone = false;\r\n        linksContainer.layout = \"none\";\r\n        linksContainer.isMeasured = false;\r\n        _this.linksContainer = linksContainer;\r\n        var nodesContainer = _this.chartContainer.createChild(Container);\r\n        nodesContainer.shouldClone = false;\r\n        nodesContainer.layout = \"none\";\r\n        nodesContainer.isMeasured = false;\r\n        _this.nodesContainer = nodesContainer;\r\n        // this data item holds sums, averages, etc\r\n        _this.dataItem = _this.createDataItem();\r\n        _this.dataItem.component = _this;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    FlowDiagram.prototype.dispose = function () {\r\n        _super.prototype.dispose.call(this);\r\n        this.dataItem.dispose();\r\n    };\r\n    /**\r\n     * (Re)validates chart's data, effectively causing the chart to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    FlowDiagram.prototype.validateData = function () {\r\n        var _this = this;\r\n        if (this._parseDataFrom == 0) {\r\n            this.nodes.clear();\r\n        }\r\n        this.sortNodes();\r\n        this.colors.reset();\r\n        _super.prototype.validateData.call(this);\r\n        var sum = 0;\r\n        var count = 0;\r\n        var low;\r\n        var high;\r\n        // build blocks\r\n        $iter.each(this.dataItems.iterator(), function (dataItem) {\r\n            var fromName = dataItem.fromName;\r\n            if (fromName) {\r\n                var node = _this.nodes.getKey(fromName);\r\n                if (!node) {\r\n                    node = _this.nodes.create(fromName);\r\n                    node.name = fromName;\r\n                    node.chart = _this;\r\n                    node.dataItem = dataItem;\r\n                }\r\n                dataItem.fromNode = node;\r\n                dataItem.fromNode.outgoingDataItems.push(dataItem);\r\n            }\r\n            var toName = dataItem.toName;\r\n            if (toName) {\r\n                var node = _this.nodes.getKey(toName);\r\n                if (!node) {\r\n                    node = _this.nodes.create(toName);\r\n                    node.name = toName;\r\n                    node.chart = _this;\r\n                    node.dataItem = dataItem;\r\n                }\r\n                dataItem.toNode = node;\r\n                dataItem.toNode.incomingDataItems.push(dataItem);\r\n            }\r\n            if (!dataItem.fromNode) {\r\n                var strokeModifier = new LinearGradientModifier();\r\n                strokeModifier.opacities = [0, 1];\r\n                dataItem.link.strokeModifier = strokeModifier;\r\n            }\r\n            if (!dataItem.toNode) {\r\n                var fillModifier = new LinearGradientModifier();\r\n                fillModifier.opacities = [1, 0];\r\n                dataItem.link.strokeModifier = fillModifier;\r\n            }\r\n            var value = dataItem.value;\r\n            if ($type.isNumber(value)) {\r\n                sum += value;\r\n                count++;\r\n                if (low > value || !$type.isNumber(low)) {\r\n                    low = value;\r\n                }\r\n                if (high < value || !$type.isNumber(high)) {\r\n                    high = value;\r\n                }\r\n            }\r\n        });\r\n        var key = \"value\";\r\n        this.dataItem.setCalculatedValue(key, high, \"high\");\r\n        this.dataItem.setCalculatedValue(key, low, \"low\");\r\n        this.dataItem.setCalculatedValue(key, sum, \"sum\");\r\n        this.dataItem.setCalculatedValue(key, sum / count, \"average\");\r\n        this.dataItem.setCalculatedValue(key, count, \"count\");\r\n        $iter.each(this.nodes.iterator(), function (strNode) {\r\n            var node = strNode[1];\r\n            if (node.fill instanceof Color) {\r\n                node.color = node.fill;\r\n            }\r\n            if (node.color == undefined) {\r\n                node.color = _this.colors.next();\r\n            }\r\n            if (node.dataItem.color != undefined) {\r\n                node.color = node.dataItem.color;\r\n            }\r\n            if (!node.dataItem.visible) {\r\n                node.hide(0);\r\n            }\r\n            _this.getNodeValue(node);\r\n        });\r\n        this.sortNodes();\r\n        this.feedLegend();\r\n    };\r\n    /**\r\n     * [handleDataItemWorkingValueChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    FlowDiagram.prototype.handleDataItemWorkingValueChange = function (dataItem, name) {\r\n        this.invalidate();\r\n    };\r\n    /**\r\n     * Sorts nodes by either their values or names, based on `sortBy` setting.\r\n     */\r\n    FlowDiagram.prototype.sortNodes = function () {\r\n        if (this.sortBy == \"name\") {\r\n            this._sorted = this.nodes.sortedIterator();\r\n        }\r\n        else if (this.sortBy == \"value\") {\r\n            this._sorted = $iter.sort(this.nodes.iterator(), function (x, y) { return $order.reverse($number.order(x[1].total, y[1].total)); });\r\n        }\r\n        else {\r\n            this._sorted = this.nodes.iterator();\r\n        }\r\n    };\r\n    /**\r\n     * Updates a cummulative value of the node.\r\n     *\r\n     * A node's value is determined by summing values of all of the incoming\r\n     * links or all of the outgoing links, whichever results in bigger number.\r\n     *\r\n     * @param node  Node value\r\n     */\r\n    FlowDiagram.prototype.getNodeValue = function (node) {\r\n        // todo: totalIncomming totalOutgoing, total\r\n        var incomingTotal = 0;\r\n        var outgoingTotal = 0;\r\n        $iter.each(node.incomingDataItems.iterator(), function (dataItem) {\r\n            var value = dataItem.getWorkingValue(\"value\");\r\n            if ($type.isNumber(value)) {\r\n                incomingTotal += value;\r\n            }\r\n        });\r\n        $iter.each(node.outgoingDataItems.iterator(), function (dataItem) {\r\n            var value = dataItem.getWorkingValue(\"value\");\r\n            if ($type.isNumber(value)) {\r\n                outgoingTotal += value;\r\n            }\r\n        });\r\n        node.total = incomingTotal + outgoingTotal;\r\n        node.totalIncoming = incomingTotal;\r\n        node.totalOutgoing = outgoingTotal;\r\n    };\r\n    ;\r\n    /**\r\n     * Changes the sort type of the nodes.\r\n     *\r\n     * This will actually reshuffle nodes using nice animation.\r\n     */\r\n    FlowDiagram.prototype.changeSorting = function () {\r\n        this.sortNodes();\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    FlowDiagram.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Flow diagram\");\r\n        }\r\n    };\r\n    /**\r\n     * Creates and returns a new data item.\r\n     *\r\n     * @return Data item\r\n     */\r\n    FlowDiagram.prototype.createDataItem = function () {\r\n        return new FlowDiagramDataItem();\r\n    };\r\n    Object.defineProperty(FlowDiagram.prototype, \"nodePadding\", {\r\n        /**\r\n         * @return Padding (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"nodePadding\");\r\n        },\r\n        /**\r\n         * Padding for node square in pixels.\r\n         *\r\n         * Padding will add extra space around node's name label.\r\n         *\r\n         * @param value Padding (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"nodePadding\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagram.prototype, \"sortBy\", {\r\n        /**\r\n         * @returns Node sorting\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"sortBy\");\r\n        },\r\n        /**\r\n         * Sort nodes by \"name\" or \"value\" or do not sort at all. If not sorted, nodes will appear in the same order as they are in the data.\r\n         * @default \"none\"\r\n         * @param value  Node sorting\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"sortBy\", value);\r\n            this.changeSorting();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagram.prototype, \"minNodeSize\", {\r\n        /**\r\n         * @returns min node size\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"minNodeSize\");\r\n        },\r\n        /**\r\n         * Sometimes nodes can get very small if their value is little. With this setting you\r\n         * can set min size of a node (this is relative value from the total size of all nodes)\r\n         * @default 0.02\r\n         * @param value  Node sorting\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"minNodeSize\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(FlowDiagram.prototype, \"nodes\", {\r\n        /**\r\n         * A list of chart's nodes.\r\n         *\r\n         * @param {DictionaryTemplate<string, this[\"_node\"]>}\r\n         */\r\n        get: function () {\r\n            if (!this._nodes) {\r\n                var template = this.createNode();\r\n                template.events.on(\"hit\", function (event) {\r\n                    event.target.handleHit(event);\r\n                });\r\n                this._nodes = new DictionaryTemplate(template);\r\n                this._disposers.push(new DictionaryDisposer(this._nodes));\r\n            }\r\n            return this._nodes;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    FlowDiagram.prototype.createNode = function () {\r\n        var node = new FlowDiagramNode();\r\n        this._disposers.push(node);\r\n        return node;\r\n    };\r\n    Object.defineProperty(FlowDiagram.prototype, \"links\", {\r\n        /**\r\n         * A list of chart's links.\r\n         *\r\n         * @param {ListTemplate<this[\"_link\"]>}\r\n         */\r\n        get: function () {\r\n            if (!this._links) {\r\n                this._links = new ListTemplate(this.createLink());\r\n                this._disposers.push(new ListDisposer(this._links));\r\n            }\r\n            return this._links;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    FlowDiagram.prototype.createLink = function () {\r\n        var link = new FlowDiagramLink();\r\n        this._disposers.push(link);\r\n        return link;\r\n    };\r\n    /**\r\n     * Setups the legend to use the chart's data.\r\n     * @ignore\r\n     */\r\n    FlowDiagram.prototype.feedLegend = function () {\r\n        var legend = this.legend;\r\n        if (legend) {\r\n            var legendData_1 = [];\r\n            this.nodes.each(function (key, node) {\r\n                legendData_1.push(node);\r\n            });\r\n            legend.data = legendData_1;\r\n            legend.dataFields.name = \"name\";\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    FlowDiagram.prototype.disposeData = function () {\r\n        _super.prototype.disposeData.call(this);\r\n        this.nodes.clear();\r\n    };\r\n    return FlowDiagram;\r\n}(Chart));\r\nexport { FlowDiagram };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"FlowDiagram\"] = FlowDiagram;\r\n//# sourceMappingURL=FlowDiagram.js.map","/**\r\n * Module for building Gauge charts.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { RadarChart, RadarChartDataItem } from \"./RadarChart\";\r\nimport { ListTemplate, ListDisposer } from \"../../core/utils/List\";\r\nimport { ClockHand } from \"../elements/ClockHand\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[GaugeChart]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar GaugeChartDataItem = /** @class */ (function (_super) {\r\n    __extends(GaugeChartDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function GaugeChartDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"GaugeChartDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return GaugeChartDataItem;\r\n}(RadarChartDataItem));\r\nexport { GaugeChartDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a Gauge chart.\r\n *\r\n * @see {@link IGaugeChartEvents} for a list of available Events\r\n * @see {@link IGaugeChartAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/gauge-chart/} for documentation\r\n * @important\r\n */\r\nvar GaugeChart = /** @class */ (function (_super) {\r\n    __extends(GaugeChart, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function GaugeChart() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"GaugeChart\";\r\n        _this.startAngle = 180;\r\n        _this.endAngle = 360;\r\n        _this.hands = new ListTemplate(new ClockHand());\r\n        _this.hands.events.on(\"inserted\", _this.processHand, _this, false);\r\n        _this._disposers.push(new ListDisposer(_this.hands));\r\n        _this._disposers.push(_this.hands.template);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    GaugeChart.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Gauge chart\");\r\n        }\r\n    };\r\n    /**\r\n     * Decorates a [[ClockHand]] when it is added to the chart.\r\n     *\r\n     * @param event  Event\r\n     */\r\n    GaugeChart.prototype.processHand = function (event) {\r\n        var hand = event.newValue;\r\n        if (!hand.axis) {\r\n            hand.axis = this.xAxes.getIndex(0);\r\n        }\r\n    };\r\n    /**\r\n     * This function is used to sort element's JSON config properties, so that\r\n     * some properties that absolutely need to be processed last, can be put at\r\n     * the end.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param a  Element 1\r\n     * @param b  Element 2\r\n     * @return Sorting number\r\n     */\r\n    GaugeChart.prototype.configOrder = function (a, b) {\r\n        if (a == b) {\r\n            return 0;\r\n        }\r\n        // Must come last\r\n        else if (a == \"hands\") {\r\n            return 1;\r\n        }\r\n        else if (b == \"hands\") {\r\n            return -1;\r\n        }\r\n        else {\r\n            return _super.prototype.configOrder.call(this, a, b);\r\n        }\r\n    };\r\n    return GaugeChart;\r\n}(RadarChart));\r\nexport { GaugeChart };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"GaugeChart\"] = GaugeChart;\r\n//# sourceMappingURL=GaugeChart.js.map","/**\r\n * Percent chart module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { SerialChart, SerialChartDataItem } from \"./SerialChart\";\r\nimport { PercentSeries } from \"../series/PercentSeries\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[PercentChart]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar PercentChartDataItem = /** @class */ (function (_super) {\r\n    __extends(PercentChartDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PercentChartDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PercentChartDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return PercentChartDataItem;\r\n}(SerialChartDataItem));\r\nexport { PercentChartDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * This is a base class for \"percent-based\" chart types like Pie and Funnel.\r\n *\r\n * @see {@link IPercentChartEvents} for a list of available Events\r\n * @see {@link IPercentChartAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/pie-chart/} for Pie chart documentation\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/sliced-chart/} for Sliced chart documentation\r\n */\r\nvar PercentChart = /** @class */ (function (_super) {\r\n    __extends(PercentChart, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PercentChart() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"PercentChart\";\r\n        _this.align = \"none\";\r\n        _this.valign = \"none\";\r\n        // so that the chart is always drawn, even the legend wants all the space\r\n        _this.chartContainer.minHeight = 50;\r\n        _this.chartContainer.minWidth = 50;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * (Re)validates chart data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PercentChart.prototype.validateData = function () {\r\n        _super.prototype.validateData.call(this);\r\n        this.feedLegend();\r\n    };\r\n    /**\r\n     * Setups the legend to use the chart's data.\r\n     * @ignore\r\n     */\r\n    PercentChart.prototype.feedLegend = function () {\r\n        var legend = this.legend;\r\n        if (legend) {\r\n            var legendData_1 = [];\r\n            $iter.each(this.series.iterator(), function (series) {\r\n                if (!series.hiddenInLegend) {\r\n                    $iter.each(series.dataItems.iterator(), function (dataItem) {\r\n                        if (!dataItem.hiddenInLegend) {\r\n                            legendData_1.push(dataItem);\r\n                            if (!dataItem.legendSettings) {\r\n                                dataItem.legendSettings = series.legendSettings;\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n            legend.data = legendData_1;\r\n            legend.dataFields.name = \"category\";\r\n        }\r\n    };\r\n    /**\r\n     * Creates a new [[PercentSeries]].\r\n     *\r\n     * @return New series\r\n     */\r\n    PercentChart.prototype.createSeries = function () {\r\n        return new PercentSeries();\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    PercentChart.prototype.setLegend = function (legend) {\r\n        _super.prototype.setLegend.call(this, legend);\r\n        if (legend) {\r\n            legend.labels.template.text = \"{category}\";\r\n            legend.valueLabels.template.text = \"{value.percent.formatNumber('#.0')}%\";\r\n            legend.itemContainers.template.events.on(\"over\", function (event) {\r\n                var percentSeriesDataItem = event.target.dataItem.dataContext;\r\n                if (percentSeriesDataItem.visible && !percentSeriesDataItem.isHiding) {\r\n                    var slice = percentSeriesDataItem.slice;\r\n                    slice.dispatchImmediately(\"over\");\r\n                    slice.isHover = true;\r\n                    slice.interactions.isRealHover = true;\r\n                }\r\n            });\r\n            legend.itemContainers.template.events.on(\"out\", function (event) {\r\n                var percentSeriesDataItem = event.target.dataItem.dataContext;\r\n                var slice = percentSeriesDataItem.slice;\r\n                slice.dispatchImmediately(\"out\");\r\n                slice.isHover = false;\r\n            });\r\n        }\r\n    };\r\n    return PercentChart;\r\n}(SerialChart));\r\nexport { PercentChart };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @hidden\r\n */\r\nregistry.registeredClasses[\"PercentChart\"] = PercentChart;\r\nregistry.registeredClasses[\"PercentChartDataItem\"] = PercentChartDataItem;\r\n//# sourceMappingURL=PercentChart.js.map","/**\r\n * Pie chart module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { PercentChart, PercentChartDataItem } from \"./PercentChart\";\r\nimport { percent, Percent } from \"../../core/utils/Percent\";\r\nimport { PieSeries } from \"../series/PieSeries\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[PieChart]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar PieChartDataItem = /** @class */ (function (_super) {\r\n    __extends(PieChartDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieChartDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PieChartDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return PieChartDataItem;\r\n}(PercentChartDataItem));\r\nexport { PieChartDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a Pie chart.\r\n *\r\n * ```TypeScript\r\n * // Includes\r\n * import * as am4core from \"@amcharts/amcharts4/core\";\r\n * import * as am4charts from \"@amcharts/amcharts4/charts\";\r\n *\r\n * // Create chart\r\n * let chart = am4core.create(\"chartdiv\", am4charts.PieChart);\r\n *\r\n * // Set data\r\n * chart.data = [{\r\n * \t\"country\": \"Lithuania\",\r\n * \t\"litres\": 501.9\r\n * }, {\r\n * \t\"country\": \"Czechia\",\r\n * \t\"litres\": 301.9\r\n * }, {\r\n * \t\"country\": \"Ireland\",\r\n * \t\"litres\": 201.1\r\n * }];\r\n *\r\n * // Create series\r\n * let series = chart.series.push(new am4charts.PieSeries());\r\n * series.dataFields.value = \"litres\";\r\n * series.dataFields.category = \"country\";\r\n * ```\r\n * ```JavaScript\r\n * // Create chart\r\n * var chart = am4core.create(\"chartdiv\", am4charts.PieChart);\r\n *\r\n * // The following would work as well:\r\n * // var chart = am4core.create(\"chartdiv\", \"PieChart\");\r\n *\r\n * // Set data\r\n * chart.data = [{\r\n * \t\"country\": \"Lithuania\",\r\n * \t\"litres\": 501.9\r\n * }, {\r\n * \t\"country\": \"Czechia\",\r\n * \t\"litres\": 301.9\r\n * }, {\r\n * \t\"country\": \"Ireland\",\r\n * \t\"litres\": 201.1\r\n * }];\r\n *\r\n * // Create series\r\n * var series = chart.series.push(new am4charts.PieSeries());\r\n * series.dataFields.value = \"litres\";\r\n * series.dataFields.category = \"country\";\r\n * ```\r\n * ```JSON\r\n * var chart = am4core.createFromConfig({\r\n *\r\n * \t// Series\r\n * \t\"series\": [{\r\n * \t\t\"type\": \"PieSeries\",\r\n * \t\t\"dataFields\": {\r\n * \t\t\t\"value\": \"litres\",\r\n * \t\t\t\"category\": \"country\"\r\n * \t\t}\r\n * \t}],\r\n *\r\n * \t// Data\r\n * \t\"data\": [{\r\n * \t\t\"country\": \"Lithuania\",\r\n * \t\t\"litres\": 501.9\r\n * \t}, {\r\n * \t\t\"country\": \"Czechia\",\r\n * \t\t\"litres\": 301.9\r\n * \t}, {\r\n * \t\t\"country\": \"Ireland\",\r\n * \t\t\"litres\": 201.1\r\n * \t}]\r\n *\r\n * }, \"chartdiv\", \"PieChart\");\r\n * ```\r\n *\r\n * @see {@link IPieChartEvents} for a list of available Events\r\n * @see {@link IPieChartAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/pie-chart/} for documentation\r\n * @important\r\n */\r\nvar PieChart = /** @class */ (function (_super) {\r\n    __extends(PieChart, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieChart() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"PieChart\";\r\n        // Set defaults\r\n        _this.innerRadius = 0;\r\n        _this.radius = percent(80);\r\n        _this.align = \"none\";\r\n        _this.valign = \"none\";\r\n        _this.startAngle = -90;\r\n        _this.endAngle = 270;\r\n        var seriesContainer = _this.seriesContainer;\r\n        seriesContainer.isMeasured = true;\r\n        seriesContainer.valign = \"middle\";\r\n        seriesContainer.align = \"center\";\r\n        seriesContainer.layout = \"absolute\";\r\n        seriesContainer.width = undefined;\r\n        seriesContainer.height = undefined;\r\n        // so that the pie is always drawn, even the legend wants all the space\r\n        _this.chartContainer.minHeight = 50;\r\n        _this.chartContainer.minWidth = 50;\r\n        _this.chartContainer.events.on(\"maxsizechanged\", _this.updateRadius, _this, false); // need this for the chart to change radius if legend is removed/disabled\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    PieChart.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Pie chart\");\r\n        }\r\n    };\r\n    /**\r\n     * (Re)validates the chart, causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PieChart.prototype.validateLayout = function () {\r\n        _super.prototype.validateLayout.call(this);\r\n        this.updateRadius();\r\n    };\r\n    /**\r\n     * Decorates a new [[Series]] object with required parameters when it is\r\n     * added to the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event  Event\r\n     */\r\n    PieChart.prototype.handleSeriesAdded = function (event) {\r\n        _super.prototype.handleSeriesAdded.call(this, event);\r\n        this._chartPixelRadius = undefined;\r\n        this.updateSeriesAngles();\r\n    };\r\n    PieChart.prototype.updateSeriesAngles = function () {\r\n        var _this = this;\r\n        this.series.each(function (series) {\r\n            series._startAngleInternal = _this.startAngle;\r\n            series._endAngleInternal = _this.endAngle;\r\n            //series.defaultState.properties.startAngle = this.startAngle;\r\n            //series.defaultState.properties.endAngle = this.endAngle;\r\n        });\r\n    };\r\n    /**\r\n     * Recalculates pie's radius, based on a number of criteria.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    PieChart.prototype.updateRadius = function () {\r\n        var chartCont = this.chartContainer;\r\n        var rect = $math.getArcRect(this.startAngle, this.endAngle, 1);\r\n        var innerRect = { x: 0, y: 0, width: 0, height: 0 };\r\n        var innerRadius = this.innerRadius;\r\n        if (innerRadius instanceof Percent) {\r\n            innerRect = $math.getArcRect(this.startAngle, this.endAngle, innerRadius.value);\r\n        }\r\n        // @todo handle this when innerRadius set in pixels (do it for radar also)\r\n        rect = $math.getCommonRectangle([rect, innerRect]);\r\n        var maxRadius = Math.min(chartCont.innerWidth / rect.width, chartCont.innerHeight / rect.height);\r\n        if (!$type.isNumber(maxRadius)) {\r\n            maxRadius = 0;\r\n        }\r\n        var chartRadius = $utils.relativeRadiusToValue(this.radius, maxRadius);\r\n        var chartPixelInnerRadius = $utils.relativeRadiusToValue(this.innerRadius, maxRadius);\r\n        var seriesRadius = (chartRadius - chartPixelInnerRadius) / this.series.length;\r\n        if (chartRadius != this._chartPixelRadius || chartPixelInnerRadius != this._chartPixelInnerRadius) {\r\n            this._chartPixelRadius = chartRadius;\r\n            this._chartPixelInnerRadius = chartPixelInnerRadius;\r\n            //@todo: make it possible to set series radius in percent\r\n            $iter.each($iter.indexed(this.series.iterator()), function (a) {\r\n                var i = a[0];\r\n                var series = a[1];\r\n                var radius = chartPixelInnerRadius + $utils.relativeRadiusToValue(series.radius, chartRadius - chartPixelInnerRadius);\r\n                var innerRadius = chartPixelInnerRadius + $utils.relativeRadiusToValue(series.innerRadius, chartRadius - chartPixelInnerRadius);\r\n                if (!$type.isNumber(radius)) {\r\n                    radius = chartPixelInnerRadius + seriesRadius * (i + 1);\r\n                }\r\n                if (!$type.isNumber(innerRadius)) {\r\n                    innerRadius = chartPixelInnerRadius + seriesRadius * i;\r\n                }\r\n                series.pixelRadius = radius;\r\n                series.pixelInnerRadius = innerRadius;\r\n            });\r\n            this.seriesContainer.definedBBox = { x: chartRadius * rect.x, y: chartRadius * rect.y, width: chartRadius * rect.width, height: chartRadius * rect.height };\r\n            this.seriesContainer.invalidateLayout();\r\n            this.bulletsContainer.x = this.seriesContainer.x;\r\n            this.bulletsContainer.y = this.seriesContainer.y;\r\n        }\r\n    };\r\n    Object.defineProperty(PieChart.prototype, \"radius\", {\r\n        /**\r\n         * @return Radius (px or relative)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Sets radius of the pie chart.\r\n         *\r\n         * Setting to a number will mean a fixed pixel radius.\r\n         *\r\n         * Setting to an instance of [[Percent]] will mean a relative radius to\r\n         * available space.\r\n         *\r\n         * E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * // Set pie chart to be at 50% of the available space\r\n         * pieChart.radius = am4core.percent.percent(50);\r\n         * ```\r\n         * ```JavaScript\r\n         * // Set pie chart to be at 50% of the available space\r\n         * pieChart.radius = am4core.percent.percent(50);\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // Set pie chart to be at 50% of the available space\r\n         *   \"radius\": \"50%\"\r\n         * }\r\n         * ```\r\n         *\r\n         * @default 80%\r\n         * @param value  Radius (px or relative)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPercentProperty(\"radius\", value, true, false, 10, false)) {\r\n                this.invalidateLayout();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieChart.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Relative inner radius (0-1)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Sets relative inner radius (to create a donut chart).\r\n         *\r\n         * Setting to a number will mean a fixed pixel radius.\r\n         *\r\n         * Setting to an instance of [[Percent]] will mean a relative radius to\r\n         * available space.\r\n         *\r\n         * NOTE: it's not related to `radius`.\r\n         *\r\n         * E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * // Set pie chart to be at 50% of the available space\r\n         * pieChart.innerRadius = am4core.percent.percent(50);\r\n         * ```\r\n         * ```JavaScript\r\n         * // Set pie chart to be at 50% of the available space\r\n         * pieChart.innerRadius = am4core.percent.percent(50);\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // Set pie chart to be at 50% of the available space\r\n         *   \"innerRadius\": \"50%\"\r\n         * }\r\n         * ```\r\n         *\r\n         * @default 0\r\n         * @param value  Relative inner radius (0-1)\r\n         * @todo Setting things like `innerRadius` modifies `slice.radius` and it then looks like it is not the same value as in default state\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates a new [[PieSeries]].\r\n     *\r\n     * @return New series\r\n     */\r\n    PieChart.prototype.createSeries = function () {\r\n        return new PieSeries();\r\n    };\r\n    Object.defineProperty(PieChart.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Start angle (degrees)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startAngle\");\r\n        },\r\n        /**\r\n         * Starting angle of the Pie circle. (degrees)\r\n         *\r\n         * Normally, a pie chart begins (the left side of the first slice is drawn)\r\n         * at the top center. (at -90 degrees)\r\n         *\r\n         * You can use `startAngle` to change this setting.\r\n         *\r\n         * E.g. setting this to 0 will make the first slice be drawn to the right.\r\n         *\r\n         * For a perfect circle the absolute sum of `startAngle` and `endAngle`\r\n         * needs to be 360.\r\n         *\r\n         * However, it's **not** necessary to do so. You can set to those lesser\r\n         * numbers, to create semi-circles.\r\n         *\r\n         * E.g. `startAngle = -90` with `endAngle = 0` will create a Pie chart that\r\n         * looks like a quarter of a circle.\r\n         *\r\n         * NOTE: This setting is not supported in a 3D pie chart.\r\n         *\r\n         * @default -90\r\n         * @param value  Start angle (degrees)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"startAngle\", value)) {\r\n                this.updateRadius();\r\n                this.updateSeriesAngles();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieChart.prototype, \"endAngle\", {\r\n        /**\r\n         * @return End angle (degrees)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endAngle\");\r\n        },\r\n        /**\r\n         * End angle of the Pie circle. (degrees)\r\n         *\r\n         * Normally, a pie chart ends (the right side of the last slice is drawn)\r\n         * at the top center. (at 270 degrees)\r\n         *\r\n         * You can use `endAngle` to change this setting.\r\n         *\r\n         * For a perfect circle the absolute sum of `startAngle` and `endAngle`\r\n         * needs to be 360.\r\n         *\r\n         * However, it's **not** necessary to do so. You can set to those lesser\r\n         * numbers, to create semi-circles.\r\n         *\r\n         * E.g. `startAngle = -90` with `endAngle = 0` will create a Pie chart that\r\n         * looks like a quarter of a circle.\r\n         *\r\n         * NOTE: This setting is not supported in a 3D pie chart.\r\n         *\r\n         * @default 270\r\n         * @param value  End angle (degrees)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"endAngle\", value)) {\r\n                this.updateRadius();\r\n                this.updateSeriesAngles();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return PieChart;\r\n}(PercentChart));\r\nexport { PieChart };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PieChart\"] = PieChart;\r\nregistry.registeredClasses[\"PieChartDataItem\"] = PieChartDataItem;\r\n//# sourceMappingURL=PieChart.js.map","/**\r\n * 3D Pie chart module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * Imports\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { PieChart, PieChartDataItem } from \"./PieChart\";\r\nimport { PieSeries3D } from \"../series/PieSeries3D\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $math from \"../../core/utils/Math\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[PieChart3D]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar PieChart3DDataItem = /** @class */ (function (_super) {\r\n    __extends(PieChart3DDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieChart3DDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"PieChart3DDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return PieChart3DDataItem;\r\n}(PieChartDataItem));\r\nexport { PieChart3DDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a 3D Pie chart.\r\n *\r\n *  * ```TypeScript\r\n * // Includes\r\n * import * as am4core from \"@amcharts/amcharts4/core\";\r\n * import * as am4charts from \"@amcharts/amcharts4/charts\";\r\n *\r\n * // Create chart\r\n * let chart = am4core.create(\"chartdiv\", am4charts.Pie3DChart);\r\n *\r\n * // Set data\r\n * chart.data = [{\r\n * \t\"country\": \"Lithuania\",\r\n * \t\"litres\": 501.9\r\n * }, {\r\n * \t\"country\": \"Czechia\",\r\n * \t\"litres\": 301.9\r\n * }, {\r\n * \t\"country\": \"Ireland\",\r\n * \t\"litres\": 201.1\r\n * }];\r\n *\r\n * // Create series\r\n * let series = chart.series.push(new am4charts.Pie3DSeries());\r\n * series.dataFields.value = \"litres\";\r\n * series.dataFields.category = \"country\";\r\n * ```\r\n * ```JavaScript\r\n * // Create chart\r\n * var chart = am4core.create(\"chartdiv\", am4charts.Pie3DChart);\r\n *\r\n * // The following would work as well:\r\n * // var chart = am4core.create(\"chartdiv\", \"Pie3DChart\");\r\n *\r\n * // Set data\r\n * chart.data = [{\r\n * \t\"country\": \"Lithuania\",\r\n * \t\"litres\": 501.9\r\n * }, {\r\n * \t\"country\": \"Czechia\",\r\n * \t\"litres\": 301.9\r\n * }, {\r\n * \t\"country\": \"Ireland\",\r\n * \t\"litres\": 201.1\r\n * }];\r\n *\r\n * // Create series\r\n * var series = chart.series.push(new am4charts.Pie3DSeries());\r\n * series.dataFields.value = \"litres\";\r\n * series.dataFields.category = \"country\";\r\n * ```\r\n * ```JSON\r\n * var chart = am4core.createFromConfig({\r\n *\r\n * \t// Series\r\n * \t\"series\": [{\r\n * \t\t\"type\": \"Pie3DSeries\",\r\n * \t\t\"dataFields\": {\r\n * \t\t\t\"value\": \"litres\",\r\n * \t\t\t\"category\": \"country\"\r\n * \t\t}\r\n * \t}],\r\n *\r\n * \t// Data\r\n * \t\"data\": [{\r\n * \t\t\"country\": \"Lithuania\",\r\n * \t\t\"litres\": 501.9\r\n * \t}, {\r\n * \t\t\"country\": \"Czechia\",\r\n * \t\t\"litres\": 301.9\r\n * \t}, {\r\n * \t\t\"country\": \"Ireland\",\r\n * \t\t\"litres\": 201.1\r\n * \t}]\r\n *\r\n * }, \"chartdiv\", \"Pie3DChart\");\r\n * ```\r\n *\r\n * @see {@link IPieChart3DEvents} for a list of available Events\r\n * @see {@link IPieChart3DAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/pie-chart/} for documentation\r\n * @important\r\n */\r\nvar PieChart3D = /** @class */ (function (_super) {\r\n    __extends(PieChart3D, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function PieChart3D() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"PieChart3D\";\r\n        _this.depth = 20;\r\n        _this.angle = 10;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(PieChart3D.prototype, \"depth\", {\r\n        /**\r\n         * @return Depth (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"depth\");\r\n        },\r\n        /**\r\n         * Depth of the 3D pie in pixels.\r\n         *\r\n         * This will determine \"height\" of the pie.\r\n         *\r\n         * @default 20\r\n         * @param value  Depth (px)\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"depth\", value)) {\r\n                this.invalidateDataUsers();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PieChart3D.prototype, \"angle\", {\r\n        /**\r\n         * @return Angle (degrees)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"angle\");\r\n        },\r\n        /**\r\n         * An angle of a \"point of view\" in degrees. Possible range 0 - 90.\r\n         *\r\n         * @default 10\r\n         * @param value  Angle (degrees)\r\n         */\r\n        set: function (value) {\r\n            value = $math.fitToRange(value, 0, 90);\r\n            if (this.setPropertyValue(\"angle\", value)) {\r\n                this.invalidateDataUsers();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates and returns a new Series.\r\n     *\r\n     * @return New series\r\n     */\r\n    PieChart3D.prototype.createSeries = function () {\r\n        return new PieSeries3D();\r\n    };\r\n    return PieChart3D;\r\n}(PieChart));\r\nexport { PieChart3D };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"PieChart3D\"] = PieChart3D;\r\n//# sourceMappingURL=PieChart3D.js.map","/**\r\n * Radar chart module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { XYChart, XYChartDataItem } from \"./XYChart\";\r\nimport { percent, Percent } from \"../../core/utils/Percent\";\r\nimport { RadarSeries } from \"../series/RadarSeries\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { Circle } from \"../../core/elements/Circle\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { AxisRendererCircular } from \"../axes/AxisRendererCircular\";\r\nimport { AxisRendererRadial } from \"../axes/AxisRendererRadial\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[RadarChart]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar RadarChartDataItem = /** @class */ (function (_super) {\r\n    __extends(RadarChartDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RadarChartDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"RadarChartDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return RadarChartDataItem;\r\n}(XYChartDataItem));\r\nexport { RadarChartDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a Radar chart.\r\n *\r\n * @see {@link IRadarChartEvents} for a list of available Events\r\n * @see {@link IRadarChartAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/radar-chart/} for documentation\r\n * @important\r\n */\r\nvar RadarChart = /** @class */ (function (_super) {\r\n    __extends(RadarChart, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function RadarChart() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Defines X axis renderer type.\r\n         */\r\n        _this._axisRendererX = AxisRendererCircular;\r\n        /**\r\n         * Defines Y axis renderer type.\r\n         */\r\n        _this._axisRendererY = AxisRendererRadial;\r\n        /**\r\n         * used by cursor. We adjust innerradius if start and end angle are close to each other\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.innerRadiusModifyer = 1;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this.mr = 1;\r\n        _this.className = \"RadarChart\";\r\n        _this.startAngle = -90;\r\n        _this.endAngle = 270;\r\n        _this.radius = percent(80);\r\n        _this.innerRadius = 0;\r\n        var radarContainer = _this.plotContainer.createChild(Container);\r\n        radarContainer.shouldClone = false;\r\n        radarContainer.layout = \"absolute\";\r\n        radarContainer.align = \"center\";\r\n        radarContainer.valign = \"middle\";\r\n        _this.seriesContainer.parent = radarContainer;\r\n        _this.radarContainer = radarContainer;\r\n        _this.bulletsContainer.parent = radarContainer;\r\n        _this.axisBulletsContainer = radarContainer;\r\n        _this._cursorContainer = radarContainer;\r\n        _this.chartContainer.events.on(\"maxsizechanged\", _this.invalidate, _this, false); // need this for the chart to change radius if legend is removed/disabled\r\n        _this._bulletMask = radarContainer.createChild(Circle);\r\n        _this._bulletMask.shouldClone = false;\r\n        _this._bulletMask.element = _this.paper.add(\"path\");\r\n        _this._bulletMask.opacity = 0;\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    RadarChart.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Radar chart\");\r\n        }\r\n    };\r\n    /**\r\n     * Decorates Axis with required properties for this chart.\r\n     *\r\n     * @param axis  Axis\r\n     */\r\n    RadarChart.prototype.processAxis = function (axis) {\r\n        _super.prototype.processAxis.call(this, axis);\r\n        var renderer = axis.renderer;\r\n        renderer.gridContainer.parent = renderer;\r\n        renderer.breakContainer.parent = renderer;\r\n        axis.parent = this.radarContainer;\r\n        renderer.toBack();\r\n    };\r\n    /**\r\n     * Updates all X axes after range change event.\r\n     */\r\n    RadarChart.prototype.handleXAxisRangeChange = function () {\r\n        _super.prototype.handleXAxisRangeChange.call(this);\r\n        $iter.each(this.yAxes.iterator(), function (axis) {\r\n            axis.invalidate();\r\n        });\r\n    };\r\n    /**\r\n     * Updates all Y axes after range change event.\r\n     */\r\n    RadarChart.prototype.handleYAxisRangeChange = function () {\r\n        _super.prototype.handleYAxisRangeChange.call(this);\r\n        $iter.each(this.xAxes.iterator(), function (axis) {\r\n            axis.invalidate();\r\n        });\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    RadarChart.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Set up cursor\r\n            if ($type.hasValue(config.cursor) && !$type.hasValue(config.cursor.type)) {\r\n                config.cursor.type = \"RadarCursor\";\r\n            }\r\n            // Set up series\r\n            if ($type.hasValue(config.series) && $type.isArray(config.series)) {\r\n                for (var i = 0, len = config.series.length; i < len; i++) {\r\n                    config.series[i].type = config.series[i].type || \"RadarSeries\";\r\n                }\r\n            }\r\n            // Set up axes\r\n            /*if ($type.hasValue(config.xAxes) && $type.isArray(config.xAxes)) {\r\n                for (let i = 0, len = config.xAxes.length; i < len; i++) {\r\n                    config.xAxes[i].type = config.xAxes[i].type || \"AxisRendererCircular\";\r\n                }\r\n            }\r\n            if ($type.hasValue(config.yAxes) && $type.isArray(config.yAxes)) {\r\n                for (let i = 0, len = config.yAxes.length; i < len; i++) {\r\n                    config.yAxes[i].type = config.yAxes[i].type || \"AxisRendererRadial\";\r\n                }\r\n            }*/\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    /**\r\n     * Does calculations before drawing the chart.\r\n     */\r\n    RadarChart.prototype.beforeDraw = function () {\r\n        _super.prototype.beforeDraw.call(this);\r\n        var plotContainer = this.plotContainer;\r\n        var rect = $math.getArcRect(this.startAngle, this.endAngle, 1);\r\n        var innerRect = { x: 0, y: 0, width: 0, height: 0 };\r\n        var wr = plotContainer.innerWidth / rect.width;\r\n        var hr = plotContainer.innerHeight / rect.height;\r\n        var innerRadius = this.innerRadius;\r\n        if (innerRadius instanceof Percent) {\r\n            var value = innerRadius.value;\r\n            var mr = Math.min(wr, hr);\r\n            this.mr = mr;\r\n            value = Math.max(mr * value, mr - Math.min(plotContainer.innerHeight, plotContainer.innerWidth)) / mr;\r\n            innerRect = $math.getArcRect(this.startAngle, this.endAngle, value);\r\n            this.innerRadiusModifyer = value / innerRadius.value;\r\n            innerRadius = percent(value * 100);\r\n        }\r\n        // @todo handle this when innerRadius set in pixels (do it for pie also)\r\n        rect = $math.getCommonRectangle([rect, innerRect]);\r\n        var maxRadius = Math.min(plotContainer.innerWidth / rect.width, plotContainer.innerHeight / rect.height);\r\n        var diameter = $utils.relativeRadiusToValue(this.radius, maxRadius) * 2 || 0;\r\n        var radius = diameter / 2;\r\n        var startAngle = this.startAngle;\r\n        var endAngle = this.endAngle;\r\n        this._pixelInnerRadius = $utils.relativeRadiusToValue(innerRadius, radius);\r\n        this._bulletMask.path = $path.arc(startAngle, endAngle - startAngle, radius, this._pixelInnerRadius);\r\n        $iter.each(this.xAxes.iterator(), function (axis) {\r\n            if (axis.renderer.useChartAngles) {\r\n                axis.renderer.startAngle = startAngle;\r\n                axis.renderer.endAngle = endAngle;\r\n            }\r\n            axis.width = diameter;\r\n            axis.height = diameter;\r\n            //axis.renderer.width = diameter;\r\n            //axis.renderer.height = diameter;\r\n            axis.renderer.pixelRadiusReal = radius;\r\n            //axis.renderer.innerRadius = innerRadius;\r\n        });\r\n        $iter.each(this.yAxes.iterator(), function (axis) {\r\n            axis.renderer.startAngle = startAngle;\r\n            axis.renderer.endAngle = endAngle;\r\n            axis.width = diameter;\r\n            axis.height = diameter;\r\n            //axis.renderer.width = diameter;\r\n            //axis.renderer.height = diameter;\r\n            axis.renderer.pixelRadiusReal = radius;\r\n            //axis.renderer.innerRadius = innerRadius;\r\n        });\r\n        var cursor = this.cursor;\r\n        if (cursor) {\r\n            cursor.width = diameter;\r\n            cursor.height = diameter;\r\n            cursor.startAngle = startAngle;\r\n            cursor.endAngle = endAngle;\r\n        }\r\n        this.radarContainer.definedBBox = { x: radius * rect.x, y: radius * rect.y, width: radius * rect.width, height: radius * rect.height };\r\n        this.radarContainer.validatePosition();\r\n    };\r\n    /**\r\n     * Creates and returns a new Series, suitable for RadarChart.\r\n     *\r\n     * @return New Series\r\n     */\r\n    RadarChart.prototype.createSeries = function () {\r\n        return new RadarSeries();\r\n    };\r\n    Object.defineProperty(RadarChart.prototype, \"startAngle\", {\r\n        /**\r\n         * @return Start angle (degrees)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"startAngle\");\r\n        },\r\n        /**\r\n         * Starting angle of the Radar face. (degrees)\r\n         *\r\n         * Normally, a circular radar face begins (the radial axis is drawn) at the\r\n         * top center. (at -90 degrees)\r\n         *\r\n         * You can use `startAngle` to change this setting.\r\n         *\r\n         * E.g. setting this to 0 will make the radial axis start horizontally to\r\n         * the right, as opposed to vertical.\r\n         *\r\n         * For a perfect circle the absolute sum of `startAngle` and `endAngle`\r\n         * needs to be 360.\r\n         *\r\n         * However, it's **not** necessary to do so. You can set those to lesser\r\n         * numbers, to create semi-circles.\r\n         *\r\n         * E.g. `startAngle = -90` with `endAngle = 0` will create a radar face that\r\n         * looks like a quarter of a circle.\r\n         *\r\n         * @default -90\r\n         * @param value  Start angle (degrees)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"startAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadarChart.prototype, \"endAngle\", {\r\n        /**\r\n         * @return End angle (degrees)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"endAngle\");\r\n        },\r\n        /**\r\n         * Starting angle of the Radar face. (degrees)\r\n         *\r\n         * Normally, a circular radar face ends (the radial axis is drawn) exactly\r\n         * where it has started, forming a full 360 circle. (at 270 degrees)\r\n         *\r\n         * You can use `endAngle` to end the circle somewhere else.\r\n         *\r\n         * E.g. setting this to 180 will make the radar face end at horizontal line\r\n         * to the left off the center.\r\n         *\r\n         * For a perfect circle the absolute sum of `startAngle` and `endAngle`\r\n         * needs to be 360.\r\n         *\r\n         * However, it's **not** necessary to do so. You can set those to lesser\r\n         * numbers, to create semi-circles.\r\n         *\r\n         * E.g. `startAngle = -90` with `endAngle = 0` will create a radar face that\r\n         * looks like a quarter of a circle.\r\n         *\r\n         * @default -90\r\n         * @param value  End angle (degrees)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"endAngle\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadarChart.prototype, \"radius\", {\r\n        /**\r\n         * @return Outer radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"radius\");\r\n        },\r\n        /**\r\n         * Outer radius of the Radar face.\r\n         *\r\n         * This can either be in absolute pixel value, or relative [[Percent]].\r\n         *\r\n         * @param value  Outer radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"radius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadarChart.prototype, \"pixelInnerRadius\", {\r\n        /**\r\n         * @return Inner radius in pixels\r\n         */\r\n        get: function () {\r\n            return this._pixelInnerRadius;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RadarChart.prototype, \"innerRadius\", {\r\n        /**\r\n         * @return Inner radius\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"innerRadius\");\r\n        },\r\n        /**\r\n         * Inner radius of the radar face.\r\n         *\r\n         * This can either be in absolute pixel value, or relative [[Percent]].\r\n         *\r\n         * If set in Percent, it will be relative to `radius`. (outer radius)\r\n         *\r\n         * @param value Inner radius\r\n         */\r\n        set: function (value) {\r\n            this.setPercentProperty(\"innerRadius\", value, true, false, 10, false);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Triggers (re)rendering of the horizontal (X) axis.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axis Axis\r\n     */\r\n    RadarChart.prototype.updateXAxis = function (renderer) {\r\n        //do not call super!\r\n        if (renderer) {\r\n            renderer.processRenderer();\r\n        }\r\n    };\r\n    /**\r\n     * Triggers (re)rendering of the vertical (Y) axis.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axis Axis\r\n     */\r\n    RadarChart.prototype.updateYAxis = function (renderer) {\r\n        // do not call super!\r\n        if (renderer) {\r\n            renderer.processRenderer();\r\n        }\r\n    };\r\n    return RadarChart;\r\n}(XYChart));\r\nexport { RadarChart };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"RadarChart\"] = RadarChart;\r\n//# sourceMappingURL=RadarChart.js.map","/**\r\n * Sankey diagram module.\r\n */\r\nimport { __extends, __read, __spread } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { FlowDiagram, FlowDiagramDataItem } from \"./FlowDiagram\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { SankeyNode } from \"../elements/SankeyNode\";\r\nimport { SankeyLink } from \"../elements/SankeyLink\";\r\nimport { Animation } from \"../../core/utils/Animation\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $object from \"../../core/utils/Object\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n//@todo rearange notes after dragged\r\n/**\r\n * Defines a [[DataItem]] for [[SankeyDiagram]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar SankeyDiagramDataItem = /** @class */ (function (_super) {\r\n    __extends(SankeyDiagramDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SankeyDiagramDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"SankeyDiagramDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return SankeyDiagramDataItem;\r\n}(FlowDiagramDataItem));\r\nexport { SankeyDiagramDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a Sankey Diagram chart.\r\n *\r\n * @see {@link ISankeyDiagramEvents} for a list of available Events\r\n * @see {@link ISankeyDiagramAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/sankey-diagram/} for documentation\r\n * @important\r\n */\r\nvar SankeyDiagram = /** @class */ (function (_super) {\r\n    __extends(SankeyDiagram, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SankeyDiagram() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"SankeyDiagram\";\r\n        _this.orientation = \"horizontal\";\r\n        _this.nodeAlign = \"middle\";\r\n        _this.nodesContainer.width = percent(100);\r\n        _this.nodesContainer.height = percent(100);\r\n        _this.linksContainer.width = percent(100);\r\n        _this.linksContainer.height = percent(100);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * (Re)validates chart's data, effectively causing the chart to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    SankeyDiagram.prototype.validateData = function () {\r\n        var _this = this;\r\n        _super.prototype.validateData.call(this);\r\n        this._levelCount = 0;\r\n        this.nodes.each(function (key, node) {\r\n            node.level = undefined;\r\n        });\r\n        this.nodes.each(function (key, node) {\r\n            node.level = _this.getNodeLevel(node, 0);\r\n            _this._levelCount = $math.max(_this._levelCount, node.level);\r\n        });\r\n    };\r\n    /**\r\n     * Returns node's highest level.\r\n     *\r\n     * @param node   Node\r\n     * @param level  Current level\r\n     * @return New level\r\n     */\r\n    SankeyDiagram.prototype.getNodeLevel = function (node, level) {\r\n        var _this = this;\r\n        //@todo solve circular so\r\n        var levels = [level];\r\n        $iter.each(node.incomingDataItems.iterator(), function (link) {\r\n            if (link.fromNode) {\r\n                if ($type.isNumber(link.fromNode.level)) {\r\n                    levels.push(link.fromNode.level + 1);\r\n                }\r\n                else {\r\n                    levels.push(_this.getNodeLevel(link.fromNode, level + 1));\r\n                }\r\n            }\r\n        });\r\n        return Math.max.apply(Math, __spread(levels));\r\n    };\r\n    /**\r\n     * Calculates relation between pixel height and total value.\r\n     *\r\n     * In Sankey the actual thickness of links and height of nodes will depend\r\n     * on their values.\r\n     */\r\n    SankeyDiagram.prototype.calculateValueHeight = function () {\r\n        var _this = this;\r\n        // calculate sums of each level\r\n        this._levelSum = {};\r\n        this._levelNodesCount = {};\r\n        this.maxSum = 0;\r\n        var total = this.dataItem.values.value.sum;\r\n        $iter.each(this._sorted, function (strNode) {\r\n            var node = strNode[1];\r\n            _this.getNodeValue(node);\r\n        });\r\n        this.nodes.each(function (key, node) {\r\n            var level = node.level;\r\n            var value = Math.max(node.totalIncoming, node.totalOutgoing);\r\n            if (value / total < _this.minNodeSize) {\r\n                value = total * _this.minNodeSize;\r\n            }\r\n            if ($type.isNumber(_this._levelSum[level])) {\r\n                _this._levelSum[level] += value;\r\n            }\r\n            else {\r\n                _this._levelSum[level] = value;\r\n            }\r\n            if ($type.isNumber(_this._levelNodesCount[level])) {\r\n                _this._levelNodesCount[level]++;\r\n            }\r\n            else {\r\n                _this._levelNodesCount[level] = 1;\r\n            }\r\n        });\r\n        var availableHeight;\r\n        if (this.orientation == \"horizontal\") {\r\n            availableHeight = this.chartContainer.maxHeight - 1;\r\n        }\r\n        else {\r\n            availableHeight = this.chartContainer.maxWidth - 1;\r\n        }\r\n        var maxSumLevel;\r\n        var minHeight;\r\n        $object.each(this._levelSum, function (key, value) {\r\n            var realValue = value;\r\n            var levelNodeCount = _this._levelNodesCount[key];\r\n            var valueHeight = (availableHeight - (levelNodeCount - 1) * _this.nodePadding) / realValue;\r\n            if (valueHeight == Infinity) {\r\n                valueHeight = 0;\r\n            }\r\n            if (minHeight > valueHeight || !$type.isNumber(minHeight)) {\r\n                minHeight = valueHeight;\r\n                _this.maxSum = realValue;\r\n                maxSumLevel = $type.toNumber(key);\r\n            }\r\n        });\r\n        this._maxSumLevel = maxSumLevel;\r\n        var maxSumLevelNodeCount = this._levelNodesCount[this._maxSumLevel];\r\n        var valueHeight = (availableHeight - (maxSumLevelNodeCount - 1) * this.nodePadding) / this.maxSum;\r\n        if (valueHeight == Infinity) {\r\n            valueHeight = 0;\r\n        }\r\n        if (!$type.isNumber(this.valueHeight)) {\r\n            this.valueHeight = valueHeight;\r\n        }\r\n        else {\r\n            var finalHeight = void 0;\r\n            try {\r\n                finalHeight = this._heightAnimation.animationOptions[0].to;\r\n            }\r\n            catch (err) {\r\n            }\r\n            // without animations it will be non-smooth as maxValue jumps from one column to another\r\n            if (finalHeight != valueHeight) {\r\n                var duration = this.interpolationDuration;\r\n                try {\r\n                    duration = this.nodes.template.states.getKey(\"active\").transitionDuration;\r\n                }\r\n                catch (err) {\r\n                }\r\n                this._heightAnimation = new Animation(this, { property: \"valueHeight\", from: this.valueHeight, to: valueHeight }, duration, this.interpolationEasing).start();\r\n                this._disposers.push(this._heightAnimation);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Redraws the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    SankeyDiagram.prototype.validate = function () {\r\n        var _this = this;\r\n        _super.prototype.validate.call(this);\r\n        this.calculateValueHeight();\r\n        var container = this.nodesContainer;\r\n        var nextCoordinate = {};\r\n        var maxSumLevelNodeCount = this._levelNodesCount[this._maxSumLevel];\r\n        var total = this.dataItem.values.value.sum;\r\n        $iter.each(this._sorted, function (strNode) {\r\n            var node = strNode[1];\r\n            var level = node.level;\r\n            var levelCoordinate = 0;\r\n            var nodeCount = _this._levelNodesCount[level];\r\n            switch (_this.nodeAlign) {\r\n                case \"bottom\":\r\n                    levelCoordinate = (_this.maxSum - _this._levelSum[level]) * _this.valueHeight - (nodeCount - maxSumLevelNodeCount) * _this.nodePadding;\r\n                    break;\r\n                case \"middle\":\r\n                    levelCoordinate = (_this.maxSum - _this._levelSum[level]) * _this.valueHeight / 2 - (nodeCount - maxSumLevelNodeCount) * _this.nodePadding / 2;\r\n                    break;\r\n            }\r\n            node.parent = container;\r\n            var delta;\r\n            var x;\r\n            var y;\r\n            var value = Math.max(node.totalIncoming, node.totalOutgoing);\r\n            if (value / total < _this.minNodeSize) {\r\n                value = total * _this.minNodeSize;\r\n            }\r\n            if (_this.orientation == \"horizontal\") {\r\n                delta = (_this.innerWidth - node.pixelWidth) / _this._levelCount;\r\n                x = delta * node.level;\r\n                y = nextCoordinate[level] || levelCoordinate;\r\n                var h = value * _this.valueHeight;\r\n                node.height = h;\r\n                node.minX = x;\r\n                node.maxX = x;\r\n                nextCoordinate[level] = y + h + _this.nodePadding;\r\n            }\r\n            else {\r\n                delta = (_this.innerHeight - node.pixelHeight) / _this._levelCount;\r\n                x = nextCoordinate[level] || levelCoordinate;\r\n                y = delta * node.level;\r\n                var w = value * _this.valueHeight;\r\n                node.width = w;\r\n                node.minY = y;\r\n                node.maxY = y;\r\n                nextCoordinate[level] = x + w + _this.nodePadding;\r\n            }\r\n            node.x = x;\r\n            node.y = y;\r\n        });\r\n    };\r\n    /**\r\n     * Performs actual operations to reveal this element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param duration Fade in duration (ms)\r\n     * @return Fade in duration (ms)\r\n     */\r\n    SankeyDiagram.prototype.showReal = function (duration) {\r\n        var _this = this;\r\n        if (this.preventShow) {\r\n            return;\r\n        }\r\n        if (this.interpolationDuration > 0) {\r\n            var container_1 = this.nodesContainer;\r\n            var i_1 = 0;\r\n            $iter.each(this.links.iterator(), function (link) {\r\n                link.hide(0);\r\n            });\r\n            $iter.each(this._sorted, function (strNode) {\r\n                var node = strNode[1];\r\n                var property;\r\n                if (_this.orientation == \"horizontal\") {\r\n                    node.dx = -(container_1.pixelWidth - node.pixelWidth) / Math.max(_this._levelCount, 1);\r\n                    property = \"dx\";\r\n                }\r\n                else {\r\n                    node.dy = -(container_1.pixelHeight - node.pixelHeight) / Math.max(_this._levelCount, 1);\r\n                    property = \"dy\";\r\n                }\r\n                var delay = 0;\r\n                var duration = _this.interpolationDuration;\r\n                if (_this.sequencedInterpolation) {\r\n                    delay = _this.sequencedInterpolationDelay * i_1 + duration * i_1 / $iter.length(_this.nodes.iterator());\r\n                }\r\n                node.opacity = 0;\r\n                node.invalidateLinks();\r\n                node.animate([{ property: \"opacity\", from: 0, to: 1 }, { property: property, to: 0 }], _this.interpolationDuration, _this.interpolationEasing).delay(delay);\r\n                $iter.each(node.outgoingDataItems.iterator(), function (dataItem) {\r\n                    var animation = dataItem.link.show(_this.interpolationDuration);\r\n                    if (animation && !animation.isFinished()) {\r\n                        animation.delay(delay);\r\n                    }\r\n                });\r\n                $iter.each(node.incomingDataItems.iterator(), function (dataItem) {\r\n                    if (!dataItem.fromNode) {\r\n                        var animation = dataItem.link.show(_this.interpolationDuration);\r\n                        if (animation && !animation.isFinished()) {\r\n                            animation.delay(delay);\r\n                        }\r\n                    }\r\n                });\r\n                i_1++;\r\n            });\r\n        }\r\n        return _super.prototype.showReal.call(this);\r\n    };\r\n    /**\r\n     * Changes the sort type of the nodes.\r\n     *\r\n     * This will actually reshuffle nodes using nice animation.\r\n     */\r\n    SankeyDiagram.prototype.changeSorting = function () {\r\n        var _this = this;\r\n        this.sortNodes();\r\n        var nextCoordinate = {};\r\n        $iter.each(this._sorted, function (strNode) {\r\n            var node = strNode[1];\r\n            var level = node.level;\r\n            var levelCoordinate = (_this.maxSum - _this._levelSum[level]) * _this.valueHeight / 2;\r\n            var property;\r\n            var nodeHeight;\r\n            if (_this.orientation == \"horizontal\") {\r\n                property = \"y\";\r\n                nodeHeight = node.pixelHeight;\r\n            }\r\n            else {\r\n                property = \"x\";\r\n                nodeHeight = node.pixelWidth;\r\n            }\r\n            node.animate({ property: property, to: nextCoordinate[level] || levelCoordinate }, _this.interpolationDuration, _this.interpolationEasing);\r\n            nextCoordinate[level] = (nextCoordinate[level] || levelCoordinate) + nodeHeight + _this.nodePadding;\r\n            node.invalidateLinks();\r\n        });\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    SankeyDiagram.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Sankey diagram\");\r\n        }\r\n    };\r\n    /**\r\n     * Creates and returns a new data item.\r\n     *\r\n     * @return Data item\r\n     */\r\n    SankeyDiagram.prototype.createDataItem = function () {\r\n        return new SankeyDiagramDataItem();\r\n    };\r\n    Object.defineProperty(SankeyDiagram.prototype, \"nodeAlign\", {\r\n        /**\r\n         * @returns Returns nodeAlign value\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"nodeAlign\");\r\n        },\r\n        /**\r\n         * How to align nodes. In case layout is vertical, top means left and bottom means right\r\n         *\r\n         * @param value  Node sorting\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"nodeAlign\", value);\r\n            this.changeSorting();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SankeyDiagram.prototype, \"orientation\", {\r\n        /**\r\n         * @return Orientation\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"orientation\");\r\n        },\r\n        /**\r\n         * Orientation of the chart: \"horizontal\" or \"vertical\";\r\n         *\r\n         * @param value Orientation\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"orientation\", value, true);\r\n            var nameLabel = this.nodes.template.nameLabel;\r\n            if (value == \"vertical\") {\r\n                this.nodes.template.width = undefined;\r\n                nameLabel.label.horizontalCenter = \"middle\";\r\n                nameLabel.locationX = 0.5;\r\n            }\r\n            else {\r\n                this.nodes.template.height = undefined;\r\n                nameLabel.label.horizontalCenter = \"left\";\r\n                nameLabel.locationX = 1;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    SankeyDiagram.prototype.createNode = function () {\r\n        var node = new SankeyNode();\r\n        this._disposers.push(node);\r\n        return node;\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    SankeyDiagram.prototype.createLink = function () {\r\n        var link = new SankeyLink();\r\n        this._disposers.push(link);\r\n        return link;\r\n    };\r\n    Object.defineProperty(SankeyDiagram.prototype, \"valueHeight\", {\r\n        /**\r\n         * @ignore\r\n         */\r\n        get: function () {\r\n            return this._valueHeight;\r\n        },\r\n        /**\r\n         * @ignore\r\n         */\r\n        set: function (value) {\r\n            if (value != this._valueHeight) {\r\n                this._valueHeight = value;\r\n                this.invalidate();\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    SankeyDiagram.prototype.disposeData = function () {\r\n        _super.prototype.disposeData.call(this);\r\n        this._sorted = this.nodes.iterator();\r\n    };\r\n    return SankeyDiagram;\r\n}(FlowDiagram));\r\nexport { SankeyDiagram };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"SankeyDiagram\"] = SankeyDiagram;\r\n//# sourceMappingURL=SankeyDiagram.js.map","/**\r\n * Sliced chart module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { PercentChart, PercentChartDataItem } from \"./PercentChart\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $type from \"../../core/utils/Type\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[SlicedChart]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar SlicedChartDataItem = /** @class */ (function (_super) {\r\n    __extends(SlicedChartDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SlicedChartDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"SlicedChartDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return SlicedChartDataItem;\r\n}(PercentChartDataItem));\r\nexport { SlicedChartDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a Sliced chart.\r\n *\r\n * @see {@link ISlicedChartEvents} for a list of available Events\r\n * @see {@link ISlicedChartAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/sliced-chart/} for documentation\r\n * @important\r\n */\r\nvar SlicedChart = /** @class */ (function (_super) {\r\n    __extends(SlicedChart, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function SlicedChart() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        _this.className = \"SlicedChart\";\r\n        _this.seriesContainer.layout = \"horizontal\";\r\n        _this.padding(15, 15, 15, 15);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    SlicedChart.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"Sliced chart\");\r\n        }\r\n    };\r\n    /**\r\n     * (Re)validates the chart, causing it to redraw.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    SlicedChart.prototype.validate = function () {\r\n        _super.prototype.validate.call(this);\r\n    };\r\n    return SlicedChart;\r\n}(PercentChart));\r\nexport { SlicedChart };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"SlicedChart\"] = SlicedChart;\r\nregistry.registeredClasses[\"SlicedChartDataItem\"] = SlicedChartDataItem;\r\n//# sourceMappingURL=SlicedChart.js.map","/**\r\n * TreeMap chart module.\r\n *\r\n * Parts of the functionality used in this module are taken from D3.js library\r\n * (https://d3js.org/)\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { XYChart, XYChartDataItem } from \"./XYChart\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { DictionaryTemplate, DictionaryDisposer } from \"../../core/utils/Dictionary\";\r\nimport { ValueAxis } from \"../axes/ValueAxis\";\r\nimport { TreeMapSeries } from \"../series/TreeMapSeries\";\r\nimport { ColorSet } from \"../../core/utils/ColorSet\";\r\nimport { MouseCursorStyle } from \"../../core/interaction/Mouse\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $array from \"../../core/utils/Array\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[TreeMap]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar TreeMapDataItem = /** @class */ (function (_super) {\r\n    __extends(TreeMapDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function TreeMapDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        /**\r\n         * Required for squarify functionality.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        _this.rows = [];\r\n        _this.className = \"TreeMapDataItem\";\r\n        _this.values.value = {};\r\n        _this.values.x0 = {};\r\n        _this.values.y0 = {};\r\n        _this.values.x1 = {};\r\n        _this.values.y1 = {};\r\n        _this.hasChildren.children = true;\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"legendDataItem\", {\r\n        /**\r\n         * @return Legend data item\r\n         */\r\n        get: function () {\r\n            return this._legendDataItem;\r\n        },\r\n        /**\r\n         * A legend's data item, that corresponds to this data item.\r\n         *\r\n         * @param value  Legend data item\r\n         */\r\n        set: function (value) {\r\n            this._legendDataItem = value;\r\n            if (value.label) {\r\n                value.label.dataItem = this;\r\n            }\r\n            if (value.valueLabel) {\r\n                value.valueLabel.dataItem = this;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns a duration (ms) the Data Item should take to animate from one\r\n     * value to another.\r\n     *\r\n     * If the duration is not specified via parameter, this method will try to\r\n     * request a default duration from the related `Component`.\r\n     *\r\n     * @param duration  Default duration (ms)\r\n     * @return Duration (ms)\r\n     */\r\n    TreeMapDataItem.prototype.getDuration = function () {\r\n        return 0;\r\n    };\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"value\", {\r\n        /**\r\n         * @return Value\r\n         */\r\n        get: function () {\r\n            var value = 0;\r\n            if (!this.children || this.children.length == 0) {\r\n                value = this.values[\"value\"].workingValue;\r\n            }\r\n            else {\r\n                $iter.each(this.children.iterator(), function (child) {\r\n                    var childValue = child.value;\r\n                    if ($type.isNumber(childValue)) {\r\n                        value += childValue;\r\n                    }\r\n                });\r\n            }\r\n            return value;\r\n            /*\r\n            let value = this.values[\"value\"].workingValue;\r\n    \r\n            if (!$type.isNumber(value)) {\r\n                value = 0;\r\n                if (this.children) {\r\n                    $iter.each(this.children.iterator(), (child) => {\r\n                        if ($type.isNumber(child.value)) {\r\n                            value += child.value;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            return value;*/\r\n        },\r\n        /**\r\n         * Numeric value of the item.\r\n         *\r\n         * @param value  Value\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"value\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"percent\", {\r\n        /**\r\n         * Percent value of a node\r\n         */\r\n        get: function () {\r\n            if (this.parent) {\r\n                return this.value / this.parent.value * 100;\r\n            }\r\n            return 100;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"x0\", {\r\n        /**\r\n         * @return X\r\n         */\r\n        get: function () {\r\n            return this.values.x0.value;\r\n        },\r\n        /**\r\n         * Item's X position.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description (review)\r\n         * @param value  X\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"x0\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"x1\", {\r\n        /**\r\n         * @return X\r\n         */\r\n        get: function () {\r\n            return this.values.x1.value;\r\n        },\r\n        /**\r\n         * Item's X position.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description (review)\r\n         * @param value  X\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"x1\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"y0\", {\r\n        /**\r\n         * @return Y\r\n         */\r\n        get: function () {\r\n            return this.values.y0.value;\r\n        },\r\n        /**\r\n         * Item's Y position.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description (review)\r\n         * @param value  Y\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"y0\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"y1\", {\r\n        /**\r\n         * @return Y\r\n         */\r\n        get: function () {\r\n            return this.values.y1.value;\r\n        },\r\n        /**\r\n         * Item's Y position.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @todo Description (review)\r\n         * @param value  Y\r\n         */\r\n        set: function (value) {\r\n            this.setValue(\"y1\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"name\", {\r\n        /**\r\n         * @return Name\r\n         */\r\n        get: function () {\r\n            return this.properties.name;\r\n        },\r\n        /**\r\n         * Item's name.\r\n         *\r\n         * @param name  Name\r\n         */\r\n        set: function (name) {\r\n            this.setProperty(\"name\", name);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"children\", {\r\n        /**\r\n         * @return Item's children\r\n         */\r\n        get: function () {\r\n            return this.properties.children;\r\n        },\r\n        /**\r\n         * A list of item's sub-children.\r\n         *\r\n         * Having children means that the TreeMap chat will automatically be\r\n         * \"drillable\". Clicking on an item with children will zoom to the item, then\r\n         * display its children.\r\n         *\r\n         * Treemap can have any level of nesting.\r\n         *\r\n         * @param children  Item's children\r\n         */\r\n        set: function (children) {\r\n            this.setProperty(\"children\", children);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"level\", {\r\n        /**\r\n         * Depth level in the treemap hierarchy.\r\n         *\r\n         * The top-level item will have level set at 0. Its children will have\r\n         * level 1, and so on.\r\n         *\r\n         * @readonly\r\n         * @return Level\r\n         */\r\n        get: function () {\r\n            if (!this.parent) {\r\n                return 0;\r\n            }\r\n            else {\r\n                return this.parent.level + 1;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"color\", {\r\n        /**\r\n         * @return Color\r\n         */\r\n        get: function () {\r\n            var color = this.properties.color;\r\n            if (color == undefined) {\r\n                if (this.parent) {\r\n                    color = this.parent.color;\r\n                }\r\n            }\r\n            if (color == undefined) {\r\n                if (this.component) {\r\n                    color = this.component.colors.getIndex(this.component.colors.step * this.index);\r\n                }\r\n            }\r\n            return color;\r\n        },\r\n        /**\r\n         * Item's color.\r\n         *\r\n         * If not set, will use parent's color, or, if that is not set either,\r\n         * automatically assigned color from chart's color set. (`chart.colors`)\r\n         *\r\n         * @param value  Color\r\n         */\r\n        set: function (value) {\r\n            this.setProperty(\"color\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"fill\", {\r\n        /**\r\n         * @ignore\r\n         * For the legend to work properly\r\n         */\r\n        get: function () {\r\n            return this.color;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMapDataItem.prototype, \"series\", {\r\n        get: function () {\r\n            return this._series;\r\n        },\r\n        /**\r\n         * Series of children data items\r\n         * @todo: proper descrition\r\n         */\r\n        set: function (series) {\r\n            if (series != this._series) {\r\n                if (this._series) {\r\n                    this.component.series.removeValue(this._series);\r\n                    this._series.dispose();\r\n                }\r\n                this._series = series;\r\n                this._disposers.push(series);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Hides the Data Item and related visual elements.\r\n     *\r\n     * @param duration  Animation duration (ms)\r\n     * @param delay     Delay animation (ms)\r\n     * @param toValue   A value to set to `fields` when hiding\r\n     * @param fields    A list of data fields to set value to `toValue`\r\n     */\r\n    TreeMapDataItem.prototype.hide = function (duration, delay, toValue, fields) {\r\n        this.setWorkingValue(\"value\", 0);\r\n        if (this.children) {\r\n            this.children.each(function (child) {\r\n                child.hide(duration, delay, toValue, fields);\r\n            });\r\n        }\r\n        var seriesDataItem = this.seriesDataItem;\r\n        if (seriesDataItem) {\r\n            seriesDataItem.bullets.each(function (key, value) {\r\n                value.hide();\r\n                value.preventShow = true;\r\n            });\r\n        }\r\n        return _super.prototype.hide.call(this, duration, delay, toValue, fields);\r\n    };\r\n    /**\r\n     * Shows the Data Item and related visual elements.\r\n     *\r\n     * @param duration  Animation duration (ms)\r\n     * @param delay     Delay animation (ms)\r\n     * @param fields    A list of fields to set values of\r\n     */\r\n    TreeMapDataItem.prototype.show = function (duration, delay, fields) {\r\n        this.setWorkingValue(\"value\", this.values.value.value);\r\n        if (this.children) {\r\n            this.children.each(function (child) {\r\n                child.show(duration, delay, fields);\r\n            });\r\n        }\r\n        var seriesDataItem = this.seriesDataItem;\r\n        if (seriesDataItem) {\r\n            seriesDataItem.bullets.each(function (key, value) {\r\n                value.preventShow = false;\r\n            });\r\n        }\r\n        return _super.prototype.show.call(this, duration, delay, fields);\r\n    };\r\n    return TreeMapDataItem;\r\n}(XYChartDataItem));\r\nexport { TreeMapDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a TreeMap chart.\r\n *\r\n * @see {@link ITreeMapEvents} for a list of available Events\r\n * @see {@link ITreeMapAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/treemap/} for documentation\r\n */\r\nvar TreeMap = /** @class */ (function (_super) {\r\n    __extends(TreeMap, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function TreeMap() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * An algorithm used to divide area into squares based on their value.\r\n         *\r\n         * Available options: squarify (default), binaryTree, slice, dice, sliceDice.\r\n         *\r\n         * ```TypeScript\r\n         * chart.layoutAlgorithm = chart.sliceDice;\r\n         * ```\r\n         * ```JavaScript\r\n         * chart.layoutAlgorithm = chart.sliceDice;\r\n         * ```\r\n         * ```JSON\r\n         * {\r\n         *   // ...\r\n         *   \"layoutAlgorithm\": \"sliceDice\",\r\n         *   // ...\r\n         * }\r\n         * ```\r\n         *\r\n         * @see {@link https://www.amcharts.com/docs/v4/chart-types/treemap/#Area_division_methods} For more info and examples.\r\n         * @default squarify\r\n         */\r\n        _this.layoutAlgorithm = _this.squarify;\r\n        /**\r\n         * Is the chart zoomable?\r\n         *\r\n         * If the chart is `zoomable`, and items have sub-items, the chart will\r\n         * drill-down to sub-items when click on their parent item.\r\n         *\r\n         * @default true\r\n         */\r\n        _this.zoomable = true;\r\n        _this.className = \"TreeMap\";\r\n        _this._usesData = true;\r\n        _this.maxLevels = 2;\r\n        _this.currentLevel = 0;\r\n        _this.hideParentColumns = false;\r\n        _this.colors = new ColorSet();\r\n        _this.sorting = \"descending\";\r\n        // create two value axes for the chart\r\n        var xAxis = _this.xAxes.push(new ValueAxis());\r\n        xAxis.title.disabled = true;\r\n        xAxis.strictMinMax = true;\r\n        var xRenderer = xAxis.renderer;\r\n        xRenderer.inside = true;\r\n        xRenderer.labels.template.disabled = true;\r\n        xRenderer.ticks.template.disabled = true;\r\n        xRenderer.grid.template.disabled = true;\r\n        xRenderer.axisFills.template.disabled = true;\r\n        xRenderer.minGridDistance = 100;\r\n        xRenderer.line.disabled = true;\r\n        xRenderer.baseGrid.disabled = true;\r\n        //xRenderer.inversed = true;\r\n        var yAxis = _this.yAxes.push(new ValueAxis());\r\n        yAxis.title.disabled = true;\r\n        yAxis.strictMinMax = true;\r\n        var yRenderer = yAxis.renderer;\r\n        yRenderer.inside = true;\r\n        yRenderer.labels.template.disabled = true;\r\n        yRenderer.ticks.template.disabled = true;\r\n        yRenderer.grid.template.disabled = true;\r\n        yRenderer.axisFills.template.disabled = true;\r\n        yRenderer.minGridDistance = 100;\r\n        yRenderer.line.disabled = true;\r\n        yRenderer.baseGrid.disabled = true;\r\n        yRenderer.inversed = true;\r\n        // shortcuts\r\n        _this.xAxis = xAxis;\r\n        _this.yAxis = yAxis;\r\n        var template = new TreeMapSeries();\r\n        _this.seriesTemplates = new DictionaryTemplate(template);\r\n        template.virtualParent = _this;\r\n        _this._disposers.push(new DictionaryDisposer(_this.seriesTemplates));\r\n        _this._disposers.push(template);\r\n        _this.zoomOutButton.events.on(\"hit\", function () {\r\n            _this.zoomToChartDataItem(_this._homeDataItem);\r\n        }, undefined, false);\r\n        _this.seriesTemplates.events.on(\"insertKey\", function (event) {\r\n            event.newValue.isTemplate = true;\r\n        }, undefined, false);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(TreeMap.prototype, \"navigationBar\", {\r\n        /**\r\n         * Returns navigationBar if it is added to a chart\r\n         */\r\n        get: function () {\r\n            return this._navigationBar;\r\n        },\r\n        /**\r\n         * A navigation bar used to show \"breadcrumb\" control, indicating current\r\n         * drill-down path.\r\n         */\r\n        set: function (navigationBar) {\r\n            var _this = this;\r\n            if (this._navigationBar != navigationBar) {\r\n                this._navigationBar = navigationBar;\r\n                navigationBar.parent = this;\r\n                navigationBar.toBack();\r\n                navigationBar.links.template.events.on(\"hit\", function (event) {\r\n                    var dataItem = event.target.dataItem.dataContext;\r\n                    if (!dataItem.isDisposed()) {\r\n                        _this.zoomToChartDataItem(dataItem);\r\n                        _this.createTreeSeries(dataItem);\r\n                    }\r\n                }, undefined, true);\r\n                this._disposers.push(navigationBar);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * (Re)validates chart's data.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    TreeMap.prototype.validateData = function () {\r\n        this.series.clear();\r\n        this._tempSeries = [];\r\n        _super.prototype.validateData.call(this);\r\n        if (this._homeDataItem) {\r\n            this._homeDataItem.dispose();\r\n        }\r\n        var homeDataItem = this.dataItems.template.clone(); // cant' use createDataItem here!\r\n        this._homeDataItem = homeDataItem;\r\n        $iter.each(this.dataItems.iterator(), function (dataItem) {\r\n            dataItem.parent = homeDataItem;\r\n        });\r\n        homeDataItem.children = this.dataItems;\r\n        homeDataItem.x0 = 0;\r\n        homeDataItem.y0 = 0;\r\n        homeDataItem.name = this._homeText;\r\n        var maxX = 1000;\r\n        var maxY = Math.round((maxX * this.pixelHeight / this.pixelWidth) / 10) * 10 || 1000;\r\n        homeDataItem.x1 = maxX;\r\n        homeDataItem.y1 = maxY;\r\n        this.xAxis.min = 0;\r\n        this.xAxis.max = maxX;\r\n        this.xAxis.getMinMax();\r\n        this.yAxis.min = 0;\r\n        this.yAxis.max = maxY;\r\n        this.yAxis.getMinMax();\r\n        this.layoutItems(homeDataItem);\r\n        this.createTreeSeries(homeDataItem);\r\n        this.feedLegend();\r\n    };\r\n    /**\r\n     * Layouts and sizes all items according to their value and\r\n     * `layoutAlgorithm`.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param parent  Parent data item\r\n     */\r\n    TreeMap.prototype.layoutItems = function (parent, sorting) {\r\n        if (parent) {\r\n            var children = parent.children;\r\n            if (!sorting) {\r\n                sorting = this.sorting;\r\n            }\r\n            if (sorting == \"ascending\") {\r\n                children.values.sort(function (a, b) {\r\n                    return a.value - b.value;\r\n                });\r\n            }\r\n            if (sorting == \"descending\") {\r\n                children.values.sort(function (a, b) {\r\n                    return b.value - a.value;\r\n                });\r\n            }\r\n            this._updateDataItemIndexes(0);\r\n            this.layoutAlgorithm(parent);\r\n            for (var i = 0, len = children.length; i < len; i++) {\r\n                var node = children.getIndex(i);\r\n                if (node.children) {\r\n                    this.layoutItems(node);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Creates and returns a new treemap series.\r\n     *\r\n     * @todo Description\r\n     * @param dataItem  Data item to create series out of\r\n     */\r\n    TreeMap.prototype.createTreeSeries = function (dataItem) {\r\n        var _this = this;\r\n        this._tempSeries = [];\r\n        var navigationData = [dataItem];\r\n        // create parent series and navigation data\r\n        var parentDataItem = dataItem.parent;\r\n        while (parentDataItem != undefined) {\r\n            this.initSeries(parentDataItem);\r\n            navigationData.push(parentDataItem);\r\n            parentDataItem = parentDataItem.parent;\r\n        }\r\n        navigationData.reverse();\r\n        if (this.navigationBar) {\r\n            this.navigationBar.data = navigationData;\r\n        }\r\n        // create series and children series\r\n        this.createTreeSeriesReal(dataItem);\r\n        // add those which are not in the list\r\n        $array.each(this._tempSeries, function (series) {\r\n            if (_this.series.indexOf(series) == -1) {\r\n                _this.series.push(series);\r\n            }\r\n            series.zIndex = series.level;\r\n        });\r\n    };\r\n    /**\r\n     * [createTreeSeriesReal description]\r\n     *\r\n     * @todo Description\r\n     * @param dataItem [description]\r\n     */\r\n    TreeMap.prototype.createTreeSeriesReal = function (dataItem) {\r\n        if (dataItem.children) {\r\n            var level = dataItem.level;\r\n            if (level < this.currentLevel + this.maxLevels) {\r\n                this.initSeries(dataItem);\r\n                for (var i = 0; i < dataItem.children.length; i++) {\r\n                    var child = dataItem.children.getIndex(i);\r\n                    if (child.children) {\r\n                        this.createTreeSeriesReal(child);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeMap.prototype.setData = function (value) {\r\n        this.currentLevel = 0;\r\n        this.currentlyZoomed = undefined;\r\n        this.xAxis.start = 0;\r\n        this.xAxis.end = 1;\r\n        this.yAxis.start = 0;\r\n        this.yAxis.end = 1;\r\n        _super.prototype.setData.call(this, value);\r\n    };\r\n    /**\r\n     * @ignore\r\n     * Overriding, as tree map series are created on the fly all the time\r\n     */\r\n    TreeMap.prototype.seriesAppeared = function () {\r\n        return true;\r\n    };\r\n    /**\r\n     * Initializes the treemap series.\r\n     *\r\n     * @todo Description\r\n     * @param dataItem  Chart data item\r\n     */\r\n    TreeMap.prototype.initSeries = function (dataItem) {\r\n        var _this = this;\r\n        if (!dataItem.series) {\r\n            var series = void 0;\r\n            var template = this.seriesTemplates.getKey(dataItem.level.toString());\r\n            if (template) {\r\n                series = template.clone();\r\n            }\r\n            else {\r\n                series = this.series.create();\r\n            }\r\n            // for the legend to get {value}\r\n            series.dataItem.dataContext = dataItem;\r\n            series.name = dataItem.name;\r\n            series.parentDataItem = dataItem;\r\n            dataItem.series = series;\r\n            var level = dataItem.level;\r\n            series.level = level;\r\n            var dataContext = dataItem.dataContext;\r\n            if (dataContext) {\r\n                series.config = dataContext.config;\r\n            }\r\n            this.dataUsers.removeValue(series); // series do not use data directly, that's why we remove it\r\n            series.data = dataItem.children.values;\r\n            series.fill = dataItem.color;\r\n            series.columnsContainer.hide(0);\r\n            series.bulletsContainer.hide(0);\r\n            series.columns.template.adapter.add(\"fill\", function (fill, target) {\r\n                var dataItem = target.dataItem;\r\n                if (dataItem) {\r\n                    var treeMapDataItem = dataItem.treeMapDataItem;\r\n                    if (treeMapDataItem) {\r\n                        target.fill = treeMapDataItem.color;\r\n                        target.adapter.remove(\"fill\"); //@todo: make it possible adapters applied once?\r\n                        return treeMapDataItem.color;\r\n                    }\r\n                }\r\n            });\r\n            if (this.zoomable && (dataItem.level > this.currentLevel || (dataItem.children && dataItem.children.length > 0))) {\r\n                series.columns.template.cursorOverStyle = MouseCursorStyle.pointer;\r\n                if (this.zoomable) {\r\n                    series.columns.template.events.on(\"hit\", function (event) {\r\n                        var seriesDataItem = event.target.dataItem;\r\n                        if (dataItem.level > _this.currentLevel) {\r\n                            _this.zoomToChartDataItem(seriesDataItem.treeMapDataItem.parent);\r\n                        }\r\n                        else {\r\n                            _this.zoomToSeriesDataItem(seriesDataItem);\r\n                        }\r\n                    }, this, undefined);\r\n                }\r\n            }\r\n        }\r\n        this._tempSeries.push(dataItem.series);\r\n    };\r\n    /**\r\n     * Toggles bullets so that labels that belong to current drill level are\r\n     * shown.\r\n     *\r\n     * @param duration  Animation duration (ms)\r\n     */\r\n    TreeMap.prototype.toggleBullets = function (duration) {\r\n        var _this = this;\r\n        // hide all series which are not in tempSeries\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            if (_this._tempSeries.indexOf(series) == -1) {\r\n                //series.hideReal(duration);\r\n                series.columnsContainer.hide();\r\n                series.bulletsContainer.hide(duration);\r\n            }\r\n            else {\r\n                //series.showReal(duration);\r\n                series.columnsContainer.show();\r\n                series.bulletsContainer.show(duration);\r\n                series.dataItems.each(function (dataItem) {\r\n                    dataItem.bullets.each(function (key, bullet) {\r\n                        bullet.show();\r\n                    });\r\n                });\r\n                if (series.level < _this.currentLevel) {\r\n                    if (_this.hideParentColumns) {\r\n                        series.columnsContainer.hide();\r\n                    }\r\n                    series.bulletsContainer.hide(duration);\r\n                }\r\n                else if (series.level == _this.currentLevel) {\r\n                    if (_this.maxLevels > 1) {\r\n                        series.dataItems.each(function (dataItem) {\r\n                            if (dataItem.treeMapDataItem.children) {\r\n                                dataItem.bullets.each(function (key, bullet) {\r\n                                    bullet.hide();\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Zooms to particular item in series.\r\n     *\r\n     * @param dataItem  Data item\r\n     */\r\n    TreeMap.prototype.zoomToSeriesDataItem = function (dataItem) {\r\n        this.zoomToChartDataItem(dataItem.treeMapDataItem);\r\n    };\r\n    /**\r\n     * Zooms to particular item. If dataItem is not specified, the chart will zoom-out.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param dataItem  Data item\r\n     */\r\n    TreeMap.prototype.zoomToChartDataItem = function (dataItem) {\r\n        var _this = this;\r\n        if (!dataItem) {\r\n            dataItem = this._homeDataItem;\r\n        }\r\n        var zoomOutButton = this.zoomOutButton;\r\n        // this is needed because if there is only one fist level, it wont' be shown\r\n        if (zoomOutButton) {\r\n            if (dataItem != this._homeDataItem) {\r\n                zoomOutButton.show();\r\n            }\r\n            else {\r\n                zoomOutButton.hide();\r\n            }\r\n        }\r\n        if (dataItem && dataItem.children) {\r\n            this.xAxis.zoomToValues(dataItem.x0, dataItem.x1);\r\n            this.yAxis.zoomToValues(dataItem.y0, dataItem.y1);\r\n            this.currentLevel = dataItem.level;\r\n            this.currentlyZoomed = dataItem;\r\n            this.createTreeSeries(dataItem);\r\n            var rangeChangeAnimation = this.xAxis.rangeChangeAnimation || this.yAxis.rangeChangeAnimation;\r\n            if (rangeChangeAnimation && !rangeChangeAnimation.isDisposed() && !rangeChangeAnimation.isFinished()) {\r\n                this._dataDisposers.push(rangeChangeAnimation);\r\n                rangeChangeAnimation.events.once(\"animationended\", function () {\r\n                    _this.toggleBullets();\r\n                });\r\n            }\r\n            else {\r\n                this.toggleBullets();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    TreeMap.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"TreeMap chart\");\r\n        }\r\n        //this.homeText = this.language.translate(\"Home\");\r\n    };\r\n    /**\r\n     * Returns a new/empty DataItem of the type appropriate for this object.\r\n     *\r\n     * @see {@link DataItem}\r\n     * @return Data Item\r\n     */\r\n    TreeMap.prototype.createDataItem = function () {\r\n        return new TreeMapDataItem();\r\n    };\r\n    Object.defineProperty(TreeMap.prototype, \"maxLevels\", {\r\n        /**\r\n         * @return Maximum drill-down level\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maxLevels\");\r\n        },\r\n        /**\r\n         * Maximum number of levels the chart will display initially.\r\n         *\r\n         * @default 2\r\n         * @param value  Maximum drill-down level\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"maxLevels\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMap.prototype, \"currentLevel\", {\r\n        /**\r\n         * @return Current level\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"currentLevel\");\r\n        },\r\n        /**\r\n         * Current drill-down level the chart is at.\r\n         *\r\n         * @param value  Current level\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"currentLevel\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMap.prototype, \"hideParentColumns\", {\r\n        /**\r\n         * @return Hide?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"hideParentColumns\");\r\n        },\r\n        /**\r\n         * If set to `true`, columns of parent nodes will be hidden when user\r\n         * drills-down into deeper levels.\r\n         *\r\n         * @sice 4.7.4\r\n         * @default false\r\n         * @param  value  Hide?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"hideParentColumns\", value);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TreeMap.prototype, \"sorting\", {\r\n        get: function () {\r\n            return this.getPropertyValue(\"sorting\");\r\n        },\r\n        /**\r\n         * Sorting direction of treemap items.\r\n         *\r\n         * Available options: \"none\", \"ascending\", and \"descending\" (default).\r\n         *\r\n         * @default \"descending\"\r\n         * @param value [description]\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"sorting\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates and returns a new series of the suitable type.\r\n     *\r\n     * @return new series\r\n     */\r\n    TreeMap.prototype.createSeries = function () {\r\n        return new TreeMapSeries();\r\n    };\r\n    Object.defineProperty(TreeMap.prototype, \"homeText\", {\r\n        /**\r\n         * @return Home text\r\n         */\r\n        get: function () {\r\n            return this._homeText;\r\n        },\r\n        /**\r\n         * A text displayed on the \"home\" button which is used to go back to level 0\r\n         * after drill into sub-items.\r\n         *\r\n         * @param value  Home text\r\n         */\r\n        set: function (value) {\r\n            this._homeText = value;\r\n            if (this._homeDataItem) {\r\n                this._homeDataItem.name = this._homeText;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    TreeMap.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Instantiate layout algorithm\r\n            if ($type.hasValue(config[\"layoutAlgorithm\"]) && $type.isString(config[\"layoutAlgorithm\"])) {\r\n                switch (config[\"layoutAlgorithm\"]) {\r\n                    case \"squarify\":\r\n                        config[\"layoutAlgorithm\"] = this.squarify;\r\n                        break;\r\n                    case \"binaryTree\":\r\n                        config[\"layoutAlgorithm\"] = this.binaryTree;\r\n                        break;\r\n                    case \"slice\":\r\n                        config[\"layoutAlgorithm\"] = this.slice;\r\n                        break;\r\n                    case \"dice\":\r\n                        config[\"layoutAlgorithm\"] = this.dice;\r\n                        break;\r\n                    case \"sliceDice\":\r\n                        config[\"layoutAlgorithm\"] = this.sliceDice;\r\n                        break;\r\n                    default:\r\n                        delete config[\"layoutAlgorithm\"];\r\n                        break;\r\n                }\r\n            }\r\n            // Set type for navigation bar\r\n            if ($type.hasValue(config.navigationBar) && !$type.hasValue(config.navigationBar.type)) {\r\n                config.navigationBar.type = \"NavigationBar\";\r\n            }\r\n            _super.prototype.processConfig.call(this, config);\r\n        }\r\n    };\r\n    /**\r\n     * Measures the size of container and informs its children of how much size\r\n     * they can occupy, by setting their relative `maxWidth` and `maxHeight`\r\n     * properties.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    TreeMap.prototype.validateLayout = function () {\r\n        _super.prototype.validateLayout.call(this);\r\n        this.layoutItems(this.currentlyZoomed);\r\n    };\r\n    /**\r\n     * Validates (processes) data items.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    TreeMap.prototype.validateDataItems = function () {\r\n        _super.prototype.validateDataItems.call(this);\r\n        this.layoutItems(this._homeDataItem);\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            series.validateRawData();\r\n        });\r\n        this.zoomToChartDataItem(this._homeDataItem);\r\n    };\r\n    /**\r\n     * ==========================================================================\r\n     * TREEMAP LAYOUT FUNCTIONS\r\n     * ==========================================================================\r\n     * @hidden\r\n     */\r\n    /**\r\n     * The functions below are from D3.js library (https://d3js.org/)\r\n     *\r\n     * --------------------------------------------------------------------------\r\n     * Copyright 2017 Mike Bostock\r\n     *\r\n     * Redistribution and use in source and binary forms, with or without\r\n     * modification, are permitted provided that the following conditions are met:\r\n     *\r\n     * 1. Redistributions of source code must retain the above copyright notice,\r\n     *    this list of conditions and the following disclaimer.\r\n     *\r\n     * 2. Redistributions in binary form must reproduce the above copyright\r\n     *    notice,this list of conditions and the following disclaimer in the\r\n     *    documentation and/or other materials provided with the distribution.\r\n     *\r\n     * 3. Neither the name of the copyright holder nor the names of its\r\n     *    contributors may be used to endorse or promote products derived from\r\n     *    this software without specific prior written permission.\r\n     *\r\n     * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n     * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n     * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n     * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\r\n     * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n     * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n     * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n     * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n     * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n     * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n     * POSSIBILITY OF SUCH DAMAGE.\r\n     * --------------------------------------------------------------------------\r\n     * @hidden\r\n     */\r\n    /**\r\n     * Treemap layout algorithm: binaryTree.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param parent  Data item\r\n     */\r\n    TreeMap.prototype.binaryTree = function (parent) {\r\n        var nodes = parent.children, i, n = nodes.length, sum, sums = new Array(n + 1);\r\n        for (sums[0] = sum = i = 0; i < n; ++i) {\r\n            sums[i + 1] = sum += nodes.getIndex(i).value;\r\n        }\r\n        partition(0, n, parent.value, parent.x0, parent.y0, parent.x1, parent.y1);\r\n        function partition(i, j, value, x0, y0, x1, y1) {\r\n            if (i >= j - 1) {\r\n                var node = nodes.getIndex(i);\r\n                node.x0 = x0;\r\n                node.y0 = y0;\r\n                node.x1 = x1;\r\n                node.y1 = y1;\r\n                return;\r\n            }\r\n            var valueOffset = sums[i], valueTarget = (value / 2) + valueOffset, k = i + 1, hi = j - 1;\r\n            while (k < hi) {\r\n                var mid = k + hi >>> 1;\r\n                if (sums[mid] < valueTarget) {\r\n                    k = mid + 1;\r\n                }\r\n                else {\r\n                    hi = mid;\r\n                }\r\n            }\r\n            if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) {\r\n                --k;\r\n            }\r\n            var valueLeft = sums[k] - valueOffset, valueRight = value - valueLeft;\r\n            if ((x1 - x0) > (y1 - y0)) {\r\n                var xk = (x0 * valueRight + x1 * valueLeft) / value;\r\n                partition(i, k, valueLeft, x0, y0, xk, y1);\r\n                partition(k, j, valueRight, xk, y0, x1, y1);\r\n            }\r\n            else {\r\n                var yk = (y0 * valueRight + y1 * valueLeft) / value;\r\n                partition(i, k, valueLeft, x0, y0, x1, yk);\r\n                partition(k, j, valueRight, x0, yk, x1, y1);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Treemap layout algorithm: slice.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param parent  Data item\r\n     */\r\n    TreeMap.prototype.slice = function (parent) {\r\n        var x0 = parent.x0;\r\n        var x1 = parent.x1;\r\n        var y0 = parent.y0;\r\n        var y1 = parent.y1;\r\n        var nodes = parent.children;\r\n        var node;\r\n        var i = -1;\r\n        var n = nodes.length;\r\n        var k = parent.value && (y1 - y0) / parent.value;\r\n        while (++i < n) {\r\n            node = nodes.getIndex(i);\r\n            node.x0 = x0;\r\n            node.x1 = x1;\r\n            node.y0 = y0;\r\n            y0 += node.value * k;\r\n            node.y1 = y0;\r\n        }\r\n    };\r\n    /**\r\n     * Treemap layout algorithm: dice.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param parent  Data item\r\n     */\r\n    TreeMap.prototype.dice = function (parent) {\r\n        var x0 = parent.x0;\r\n        var x1 = parent.x1;\r\n        var y0 = parent.y0;\r\n        var y1 = parent.y1;\r\n        var nodes = parent.children, node, i = -1, n = nodes.length, k = parent.value && (x1 - x0) / parent.value;\r\n        while (++i < n) {\r\n            node = nodes.getIndex(i);\r\n            node.y0 = y0;\r\n            node.y1 = y1;\r\n            node.x0 = x0;\r\n            x0 += node.value * k;\r\n            node.x1 = x0;\r\n        }\r\n    };\r\n    /**\r\n     * Treemap layout algorithm: slideDice.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param parent  Data item\r\n     */\r\n    TreeMap.prototype.sliceDice = function (parent) {\r\n        if (parent.level & 1) {\r\n            this.slice(parent);\r\n        }\r\n        else {\r\n            this.dice(parent);\r\n        }\r\n    };\r\n    /**\r\n     * Treemap layout algorithm: squarify.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param parent  Data item\r\n     */\r\n    TreeMap.prototype.squarify = function (parent) {\r\n        var ratio = (1 + Math.sqrt(5)) / 2;\r\n        var x0 = parent.x0;\r\n        var x1 = parent.x1;\r\n        var y0 = parent.y0;\r\n        var y1 = parent.y1;\r\n        var nodes = parent.children;\r\n        var nodeValue;\r\n        var i0 = 0;\r\n        var i1 = 0;\r\n        var n = nodes.length;\r\n        var dx;\r\n        var dy;\r\n        var value = parent.value;\r\n        var sumValue;\r\n        var minValue;\r\n        var maxValue;\r\n        var newRatio;\r\n        var minRatio;\r\n        var alpha;\r\n        var beta;\r\n        while (i0 < n) {\r\n            dx = x1 - x0;\r\n            dy = y1 - y0;\r\n            // Find the next non-empty node.\r\n            do {\r\n                sumValue = nodes.getIndex(i1++).value;\r\n            } while (!sumValue && i1 < n);\r\n            minValue = maxValue = sumValue;\r\n            alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\r\n            beta = sumValue * sumValue * alpha;\r\n            minRatio = Math.max(maxValue / beta, beta / minValue);\r\n            // Keep adding nodes while the aspect ratio maintains or improves.\r\n            for (; i1 < n; ++i1) {\r\n                sumValue += nodeValue = nodes.getIndex(i1).value;\r\n                if (nodeValue < minValue) {\r\n                    minValue = nodeValue;\r\n                }\r\n                if (nodeValue > maxValue) {\r\n                    maxValue = nodeValue;\r\n                }\r\n                beta = sumValue * sumValue * alpha;\r\n                newRatio = Math.max(maxValue / beta, beta / minValue);\r\n                if (newRatio > minRatio) {\r\n                    sumValue -= nodeValue;\r\n                    break;\r\n                }\r\n                minRatio = newRatio;\r\n            }\r\n            // Position and record the row orientation.\r\n            var row = this.dataItems.template.clone();\r\n            row.value = sumValue;\r\n            row.dice = dx < dy;\r\n            row.children = nodes.slice(i0, i1);\r\n            row.x0 = x0;\r\n            row.y0 = y0;\r\n            row.x1 = x1;\r\n            row.y1 = y1;\r\n            if (row.dice) {\r\n                row.y1 = value ? (y0 += (dy * sumValue) / value) : y1;\r\n                this.dice(row);\r\n            }\r\n            else {\r\n                row.x1 = value ? (x0 += (dx * sumValue) / value) : x1;\r\n                this.slice(row);\r\n            }\r\n            value -= sumValue;\r\n            i0 = i1;\r\n        }\r\n    };\r\n    TreeMap.prototype.handleSeriesAdded2 = function () {\r\n        // void\r\n    };\r\n    /**\r\n     * [handleDataItemValueChange description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo Description\r\n     */\r\n    TreeMap.prototype.handleDataItemValueChange = function (dataItem, name) {\r\n        if (name == \"value\") {\r\n            this.invalidateDataItems();\r\n        }\r\n    };\r\n    TreeMap.prototype.handleDataItemWorkingValueChange = function (dataItem, name) {\r\n        if (name == \"value\") {\r\n            this.invalidateDataItems();\r\n        }\r\n    };\r\n    TreeMap.prototype.getLegendLevel = function (dataItem) {\r\n        if (!dataItem) {\r\n            return;\r\n        }\r\n        if (!dataItem.children) {\r\n            return;\r\n        }\r\n        if (dataItem.children.length > 1) {\r\n            return dataItem;\r\n        }\r\n        else if (dataItem.children.length == 1) {\r\n            return this.getLegendLevel(dataItem.children.getIndex(0));\r\n        }\r\n        else {\r\n            return dataItem;\r\n        }\r\n    };\r\n    Object.defineProperty(TreeMap.prototype, \"homeDataItem\", {\r\n        /**\r\n         * A data item associated with top node.\r\n         *\r\n         * @since 4.8.2\r\n         */\r\n        get: function () {\r\n            return this._homeDataItem;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Setups the legend to use the chart's data.\r\n     * @ignore\r\n     */\r\n    TreeMap.prototype.feedLegend = function () {\r\n        var legend = this.legend;\r\n        if (legend) {\r\n            legend.dataFields.name = \"name\";\r\n            var legendParent = this.getLegendLevel(this._homeDataItem);\r\n            if (legendParent) {\r\n                var legendData_1 = [];\r\n                legendParent.children.each(function (dataItem) {\r\n                    //if (!dataItem.hiddenInLegend) {\r\n                    legendData_1.push(dataItem);\r\n                    //}\r\n                });\r\n                legend.data = legendData_1;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    TreeMap.prototype.disposeData = function () {\r\n        _super.prototype.disposeData.call(this);\r\n        this._homeDataItem = undefined;\r\n        this.series.clear();\r\n        if (this.navigationBar) {\r\n            this.navigationBar.disposeData();\r\n        }\r\n        this.xAxis.disposeData();\r\n        this.yAxis.disposeData();\r\n    };\r\n    /**\r\n     * Since this chart uses hierarchical data, we need to remove childrent\r\n     * dataField from export of non-hierarchical formats such as CSV and XSLX.\r\n     *\r\n     * @return Export\r\n     */\r\n    TreeMap.prototype.getExporting = function () {\r\n        var _this = this;\r\n        var exporting = _super.prototype.getExporting.call(this);\r\n        exporting.adapter.add(\"formatDataFields\", function (info) {\r\n            if (info.format == \"csv\" || info.format == \"xlsx\") {\r\n                if ($type.hasValue(_this.dataFields.children)) {\r\n                    delete info.dataFields[_this.dataFields.children];\r\n                }\r\n            }\r\n            return info;\r\n        });\r\n        return exporting;\r\n    };\r\n    return TreeMap;\r\n}(XYChart));\r\nexport { TreeMap };\r\n/**\r\n * Register class, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"TreeMap\"] = TreeMap;\r\n//# sourceMappingURL=TreeMap.js.map","/**\r\n * XY Chart module.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { SerialChart, SerialChartDataItem } from \"./SerialChart\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { List, ListDisposer } from \"../../core/utils/List\";\r\nimport { Color } from \"../../core/utils/Color\";\r\nimport { ValueAxis } from \"../axes/ValueAxis\";\r\nimport { DateAxis } from \"../axes/DateAxis\";\r\nimport { AxisRendererX } from \"../axes/AxisRendererX\";\r\nimport { AxisRendererY } from \"../axes/AxisRendererY\";\r\nimport { CategoryAxis } from \"../axes/CategoryAxis\";\r\nimport { XYSeries } from \"../series/XYSeries\";\r\nimport { Disposer } from \"../../core/utils/Disposer\";\r\nimport { ZoomOutButton } from \"../../core/elements/ZoomOutButton\";\r\nimport { percent } from \"../../core/utils/Percent\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { XYChartScrollbar } from \"../elements/XYChartScrollbar\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\nimport * as $array from \"../../core/utils/Array\";\r\nimport * as $number from \"../../core/utils/Number\";\r\nimport { defaultRules, ResponsiveBreakpoints } from \"../../core/utils/Responsive\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[XYChart]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar XYChartDataItem = /** @class */ (function (_super) {\r\n    __extends(XYChartDataItem, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function XYChartDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"XYChartDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return XYChartDataItem;\r\n}(SerialChartDataItem));\r\nexport { XYChartDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates an XY chart, and any derivative chart, like Serial, Date-based, etc.\r\n *\r\n * Basically this is a chart type, that is used to display any chart\r\n * information in a square plot area.\r\n *\r\n * The horizontal and vertical scale is determined by the type of Axis.\r\n *\r\n * The plot types are determined by type of Series.\r\n *\r\n * ```TypeScript\r\n * // Includes\r\n * import * as am4core from \"@amcharts/amcharts4/core\";\r\n * import * as am4charts from \"@amcharts/amcharts4/charts\";\r\n *\r\n * // Create chart\r\n * let chart = am4core.create(\"chartdiv\", am4charts.XYChart);\r\n *\r\n * // Add Data\r\n * chart.data = [{\r\n * \"country\": \"USA\",\r\n * \"visits\": 3025\r\n * }, {\r\n * \t\"country\": \"China\",\r\n * \t\"visits\": 1882\r\n * }, {\r\n * \t\"country\": \"Japan\",\r\n * \t\"visits\": 1809\r\n * }];\r\n *\r\n * // Add category axis\r\n * let categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());\r\n * categoryAxis.dataFields.category = \"country\";\r\n *\r\n * // Add value axis\r\n * let valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\r\n *\r\n * // Add series\r\n * let series = chart.series.push(new am4charts.ColumnSeries());\r\n * series.name = \"Web Traffic\";\r\n * series.dataFields.categoryX = \"country\";\r\n * series.dataFields.valueY = \"visits\";\r\n * ```\r\n * ```JavaScript\r\n * // Create chart\r\n * var chart = am4core.create(\"chartdiv\", am4charts.XYChart);\r\n *\r\n * // The following would work as well:\r\n * // var chart = am4core.create(\"chartdiv\", \"XYChart\");\r\n *\r\n * // Add Data\r\n * chart.data = [{\r\n * \"country\": \"USA\",\r\n * \"visits\": 3025\r\n * }, {\r\n * \t\"country\": \"China\",\r\n * \t\"visits\": 1882\r\n * }, {\r\n * \t\"country\": \"Japan\",\r\n * \t\"visits\": 1809\r\n * }];\r\n *\r\n * // Add category axis\r\n * var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());\r\n * categoryAxis.dataFields.category = \"country\";\r\n *\r\n * // Add value axis\r\n * var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\r\n *\r\n * // Add series\r\n * var series = chart.series.push(new am4charts.ColumnSeries());\r\n * series.name = \"Web Traffic\";\r\n * series.dataFields.categoryX = \"country\";\r\n * series.dataFields.valueY = \"visits\";\r\n * ```\r\n * ```JSON\r\n * var chart = am4core.createFromConfig({\r\n *\r\n * \t// Category axis\r\n * \t\"xAxes\": [{\r\n * \t\t\"type\": \"CategoryAxis\",\r\n * \t\t\"dataFields\": {\r\n * \t\t\t\"category\": \"country\"\r\n * \t\t}\r\n * \t}],\r\n *\r\n * \t// Value axis\r\n * \t\"yAxes\": [{\r\n * \t\t\"type\": \"ValueAxis\"\r\n * \t}],\r\n *\r\n * \t// Series\r\n * \t\"series\": [{\r\n * \t\t\"type\": \"ColumnSeries\",\r\n * \t\t\"dataFields\": {\r\n * \t\t\t\"categoryX\": \"country\",\r\n * \t\t\t\"valueY\": \"visits\"\r\n * \t\t},\r\n * \t\t\"name\": \"Web Traffic\"\r\n * \t}],\r\n *\r\n * \t// Cursor\r\n * \t\"cursor\": {},\r\n *\r\n * \t// Data\r\n * \t\"data\": [{\r\n * \t\t\"country\": \"USA\",\r\n * \t\t\"visits\": 3025\r\n * \t}, {\r\n * \t\t\"country\": \"China\",\r\n * \t\t\"visits\": 1882\r\n * \t}, {\r\n * \t\t\"country\": \"Japan\",\r\n * \t\t\"visits\": 1809\r\n * \t}]\r\n *\r\n * }, \"chartdiv\", \"XYChart\");\r\n * ```\r\n *\r\n *\r\n * @see {@link IXYChartEvents} for a list of available Events\r\n * @see {@link IXYChartAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/xy-chart/} for documentation\r\n * @important\r\n */\r\nvar XYChart = /** @class */ (function (_super) {\r\n    __extends(XYChart, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function XYChart() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Defines the type of horizontal axis rederer.\r\n         */\r\n        _this._axisRendererX = AxisRendererX;\r\n        /**\r\n         * Defines the type of vertical axis rederer.\r\n         */\r\n        _this._axisRendererY = AxisRendererY;\r\n        /**\r\n         * @ignore\r\n         */\r\n        _this._seriesPoints = [];\r\n        _this.className = \"XYChart\";\r\n        // Set defaults\r\n        //this.margin(10, 10, 10, 10);\r\n        _this.maskBullets = true;\r\n        _this.arrangeTooltips = true;\r\n        // Create main chart container\r\n        var chartContainer = _this.chartContainer;\r\n        chartContainer.layout = \"vertical\";\r\n        _this.padding(15, 15, 15, 15);\r\n        // Create top axes container\r\n        var topAxesCont = chartContainer.createChild(Container);\r\n        topAxesCont.shouldClone = false;\r\n        topAxesCont.layout = \"vertical\";\r\n        topAxesCont.width = percent(100);\r\n        topAxesCont.zIndex = 1;\r\n        _this.topAxesContainer = topAxesCont;\r\n        // Create vertical axes and plot area container\r\n        // Plot area and vertical axes share the whole width of the chart,\r\n        // so we need to put then into a separate container so that layouting\r\n        // engine takes care of the positioning\r\n        var yAxesAndPlotCont = chartContainer.createChild(Container);\r\n        yAxesAndPlotCont.shouldClone = false;\r\n        yAxesAndPlotCont.layout = \"horizontal\";\r\n        yAxesAndPlotCont.width = percent(100);\r\n        yAxesAndPlotCont.height = percent(100);\r\n        yAxesAndPlotCont.zIndex = 0;\r\n        _this.yAxesAndPlotContainer = yAxesAndPlotCont;\r\n        // Create a container for bottom axes\r\n        var bottomAxesCont = chartContainer.createChild(Container);\r\n        bottomAxesCont.shouldClone = false;\r\n        bottomAxesCont.width = percent(100);\r\n        bottomAxesCont.layout = \"vertical\";\r\n        bottomAxesCont.zIndex = 1;\r\n        _this.bottomAxesContainer = bottomAxesCont;\r\n        // Create a container for left-side axes\r\n        var leftAxesCont = yAxesAndPlotCont.createChild(Container);\r\n        leftAxesCont.shouldClone = false;\r\n        leftAxesCont.layout = \"horizontal\";\r\n        leftAxesCont.height = percent(100);\r\n        leftAxesCont.contentAlign = \"right\";\r\n        leftAxesCont.events.on(\"transformed\", _this.updateXAxesMargins, _this, false);\r\n        leftAxesCont.zIndex = 1;\r\n        _this.leftAxesContainer = leftAxesCont;\r\n        // Create a container for plot area\r\n        var plotCont = yAxesAndPlotCont.createChild(Container);\r\n        plotCont.shouldClone = false;\r\n        plotCont.height = percent(100);\r\n        plotCont.width = percent(100);\r\n        // Create transparend background for plot container so that hover works\r\n        // on all of it\r\n        plotCont.background.fillOpacity = 0;\r\n        _this.plotContainer = plotCont;\r\n        // must go below plot container\r\n        _this.mouseWheelBehavior = \"none\";\r\n        _this._cursorContainer = plotCont;\r\n        // Create a container for right-side axes\r\n        var rightAxesCont = yAxesAndPlotCont.createChild(Container);\r\n        rightAxesCont.shouldClone = false;\r\n        rightAxesCont.layout = \"horizontal\";\r\n        rightAxesCont.height = percent(100);\r\n        rightAxesCont.zIndex = 1;\r\n        rightAxesCont.events.on(\"transformed\", _this.updateXAxesMargins, _this, false);\r\n        _this.rightAxesContainer = rightAxesCont;\r\n        _this.seriesContainer.parent = plotCont;\r\n        _this.bulletsContainer.parent = plotCont;\r\n        var zoomOutButton = plotCont.createChild(ZoomOutButton);\r\n        zoomOutButton.shouldClone = false;\r\n        zoomOutButton.align = \"right\";\r\n        zoomOutButton.valign = \"top\";\r\n        zoomOutButton.zIndex = Number.MAX_SAFE_INTEGER;\r\n        zoomOutButton.marginTop = 5;\r\n        zoomOutButton.marginRight = 5;\r\n        zoomOutButton.hide(0);\r\n        _this.zoomOutButton = zoomOutButton;\r\n        // Create a container for bullets\r\n        var axisBulletsContainer = _this.plotContainer.createChild(Container);\r\n        axisBulletsContainer.shouldClone = false;\r\n        axisBulletsContainer.width = percent(100);\r\n        axisBulletsContainer.height = percent(100);\r\n        axisBulletsContainer.isMeasured = false;\r\n        axisBulletsContainer.zIndex = 4;\r\n        axisBulletsContainer.layout = \"none\";\r\n        _this.axisBulletsContainer = axisBulletsContainer;\r\n        _this._bulletMask = _this.plotContainer;\r\n        _this.events.on(\"beforedatavalidated\", function () {\r\n            _this.series.each(function (series) {\r\n                series.dataGrouped = false;\r\n                series._baseInterval = {};\r\n            });\r\n        }, _this, false);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Sets defaults that instantiate some objects that rely on parent, so they\r\n     * cannot be set in constructor.\r\n     */\r\n    XYChart.prototype.applyInternalDefaults = function () {\r\n        _super.prototype.applyInternalDefaults.call(this);\r\n        this.zoomOutButton.exportable = false;\r\n        // Add a default screen reader title for accessibility\r\n        // This will be overridden in screen reader if there are any `titles` set\r\n        if (!$type.hasValue(this.readerTitle)) {\r\n            this.readerTitle = this.language.translate(\"X/Y chart\");\r\n        }\r\n    };\r\n    /**\r\n     * Draws the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChart.prototype.draw = function () {\r\n        _super.prototype.draw.call(this);\r\n        this.seriesContainer.toFront();\r\n        this.bulletsContainer.toFront();\r\n        if (this.maskBullets) {\r\n            this.bulletsContainer.mask = this._bulletMask;\r\n        }\r\n        this.updateSeriesLegend();\r\n    };\r\n    /**\r\n     * Triggers a redrawing of all chart's series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChart.prototype.updatePlotElements = function () {\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            series.invalidate();\r\n        });\r\n    };\r\n    /**\r\n     * Triggers data (re)validation which in turn can cause a redraw of the\r\n     * whole chart or just aprticular series / elements.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChart.prototype.validateData = function () {\r\n        // tell axes that data changed\r\n        if (this._parseDataFrom == 0) {\r\n            $iter.each(this.xAxes.iterator(), function (axis) {\r\n                axis.dataChangeUpdate();\r\n            });\r\n            $iter.each(this.yAxes.iterator(), function (axis) {\r\n                axis.dataChangeUpdate();\r\n            });\r\n            $iter.each(this.series.iterator(), function (series) {\r\n                series.dataChangeUpdate();\r\n            });\r\n        }\r\n        _super.prototype.validateData.call(this);\r\n    };\r\n    /**\r\n     * Updates margins for horizontal axes based on settings and available space.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChart.prototype.updateXAxesMargins = function () {\r\n        var leftAxesWidth = this.leftAxesContainer.measuredWidth;\r\n        var rightAxesWidth = this.rightAxesContainer.measuredWidth;\r\n        var bottomAxesCont = this.bottomAxesContainer;\r\n        if (bottomAxesCont.paddingLeft != leftAxesWidth || bottomAxesCont.paddingRight != rightAxesWidth) {\r\n            bottomAxesCont.paddingLeft = leftAxesWidth;\r\n            bottomAxesCont.paddingRight = rightAxesWidth;\r\n        }\r\n        var topAxesCont = this.topAxesContainer;\r\n        if (topAxesCont.paddingLeft != leftAxesWidth || topAxesCont.paddingRight != rightAxesWidth) {\r\n            topAxesCont.paddingLeft = leftAxesWidth;\r\n            topAxesCont.paddingRight = rightAxesWidth;\r\n        }\r\n    };\r\n    /**\r\n     * Triggers a re-initialization of this element.\r\n     *\r\n     * Will result in complete redrawing of the element.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChart.prototype.reinit = function () {\r\n        _super.prototype.reinit.call(this);\r\n        this.series.each(function (series) {\r\n            series.appeared = false;\r\n        });\r\n    };\r\n    /**\r\n     * Triggers an update on the horizontal axis when one of its properties\r\n     * change.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event An event object\r\n     */\r\n    XYChart.prototype.handleXAxisChange = function (event) {\r\n        this.updateXAxis(event.target);\r\n    };\r\n    /**\r\n     * Triggers an update on the vertical axis when one of its properties\r\n     * change.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event An event object\r\n     */\r\n    XYChart.prototype.handleYAxisChange = function (event) {\r\n        this.updateYAxis(event.target);\r\n    };\r\n    /**\r\n     * Sets up a new horizontal (X) axis when it is added to the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event  Axis insert event\r\n     */\r\n    XYChart.prototype.processXAxis = function (event) {\r\n        var axis = event.newValue;\r\n        axis.chart = this;\r\n        if (!axis.renderer) {\r\n            axis.renderer = new this._axisRendererX();\r\n            axis.renderer.observe([\"opposite\", \"inside\", \"inversed\", \"minGridDistance\"], this.handleXAxisChange, this, false);\r\n        }\r\n        axis.axisLetter = \"X\";\r\n        axis.events.on(\"startendchanged\", this.handleXAxisRangeChange, this, false);\r\n        //axis.events.on(\"endchanged\", this.handleXAxisRangeChange, this, false);\r\n        // Although axis does not use data directly, we set dataProvider here\r\n        // (but not add to chart data users) to hold up rendering before data\r\n        // is parsed (system handles this)\r\n        axis.dataProvider = this;\r\n        this.updateXAxis(axis.renderer);\r\n        this.processAxis(axis);\r\n    };\r\n    /**\r\n     * Sets up a new vertical (Y) axis when it is added to the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event Axis insert event\r\n     */\r\n    XYChart.prototype.processYAxis = function (event) {\r\n        var axis = event.newValue;\r\n        axis.chart = this;\r\n        if (!axis.renderer) {\r\n            axis.renderer = new this._axisRendererY();\r\n            axis.renderer.observe([\"opposite\", \"inside\", \"inversed\", \"minGridDistance\"], this.handleYAxisChange, this, false);\r\n        }\r\n        axis.axisLetter = \"Y\";\r\n        axis.events.on(\"startendchanged\", this.handleYAxisRangeChange, this, false);\r\n        //axis.events.on(\"endchanged\", this.handleYAxisRangeChange, this, false);\r\n        // Although axis does not use data directly, we set dataProvider here\r\n        // (but not add to chart data users) to hold up rendering before data\r\n        // is parsed (system handles this)\r\n        axis.dataProvider = this;\r\n        this.updateYAxis(axis.renderer);\r\n        this.processAxis(axis);\r\n    };\r\n    /**\r\n     * Updates horizontal (X) scrollbar and other horizontal axis whenever axis'\r\n     * value range changes.\r\n     */\r\n    XYChart.prototype.handleXAxisRangeChange = function () {\r\n        var range = this.getCommonAxisRange(this.xAxes);\r\n        if (this.scrollbarX) {\r\n            this.zoomAxes(this.xAxes, range, true);\r\n        }\r\n        this.toggleZoomOutButton();\r\n        this.updateScrollbar(this.scrollbarX, range);\r\n    };\r\n    /**\r\n     * Shows or hides the Zoom Out button depending on whether the chart is fully\r\n     * zoomed out or not.\r\n     */\r\n    XYChart.prototype.toggleZoomOutButton = function () {\r\n        if (this.zoomOutButton) {\r\n            var show_1 = false;\r\n            $iter.eachContinue(this.xAxes.iterator(), function (axis) {\r\n                if (axis.toggleZoomOutButton) {\r\n                    if (axis.maxZoomCount > 0) {\r\n                        var minZoomFactor = axis.maxZoomFactor / axis.maxZoomCount;\r\n                        if ($math.round(axis.end - axis.start, 3) < 1 / minZoomFactor) {\r\n                            show_1 = true;\r\n                            return false;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if ($math.round(axis.start, 3) > 0 || $math.round(axis.end, 3) < 1) {\r\n                            show_1 = true;\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n                return true;\r\n            });\r\n            $iter.eachContinue(this.yAxes.iterator(), function (axis) {\r\n                if (axis.toggleZoomOutButton) {\r\n                    if (axis.maxZoomCount > 0) {\r\n                        var minZoomFactor = axis.maxZoomFactor / axis.maxZoomCount;\r\n                        if ($math.round(axis.end - axis.start, 3) < 1 / minZoomFactor) {\r\n                            show_1 = true;\r\n                            return false;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if ($math.round(axis.start, 3) > 0 || $math.round(axis.end, 3) < 1) {\r\n                            show_1 = true;\r\n                            return false;\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n            if (!this.seriesAppeared) {\r\n                show_1 = false;\r\n            }\r\n            if (show_1) {\r\n                this.zoomOutButton.show();\r\n            }\r\n            else {\r\n                this.zoomOutButton.hide();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     * moved this check to a separate method so that we could override it in TreeMapSeries\r\n     */\r\n    XYChart.prototype.seriesAppeared = function () {\r\n        var appeared = false;\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            if (!series.appeared) {\r\n                appeared = false;\r\n                return false;\r\n            }\r\n        });\r\n        return appeared;\r\n    };\r\n    /**\r\n     * Updates vertical (Y) scrollbar and other horizontal axis whenever axis'\r\n     * value range changes.\r\n     */\r\n    XYChart.prototype.handleYAxisRangeChange = function () {\r\n        var range = this.getCommonAxisRange(this.yAxes);\r\n        if (this.scrollbarY) {\r\n            this.zoomAxes(this.yAxes, range, true);\r\n        }\r\n        this.toggleZoomOutButton();\r\n        this.updateScrollbar(this.scrollbarY, range);\r\n    };\r\n    /**\r\n     * Updates a relative scrollbar whenever data range of the axis changes.\r\n     *\r\n     * @param scrollbar  Scrollbar instance\r\n     * @param range      New data (values) range of the axis\r\n     */\r\n    XYChart.prototype.updateScrollbar = function (scrollbar, range) {\r\n        if (scrollbar) {\r\n            scrollbar.skipRangeEvents();\r\n            scrollbar.start = range.start;\r\n            scrollbar.end = range.end;\r\n        }\r\n    };\r\n    /**\r\n     * Returns a common range of values between a list of axes.\r\n     *\r\n     * This is used to synchronize the zoom between multiple axes.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axes  A list of axes\r\n     * @return Common value range\r\n     */\r\n    XYChart.prototype.getCommonAxisRange = function (axes) {\r\n        var start;\r\n        var end;\r\n        axes.each(function (axis) {\r\n            if (axis instanceof ValueAxis && axis.syncWithAxis) {\r\n            }\r\n            else {\r\n                var axisStart = axis.start;\r\n                var axisEnd = axis.end;\r\n                if (axis.renderer.inversed) {\r\n                    axisStart = 1 - axis.end;\r\n                    axisEnd = 1 - axis.start;\r\n                }\r\n                if (!$type.isNumber(start) || (axisStart < start)) {\r\n                    start = axisStart;\r\n                }\r\n                if (!$type.isNumber(end) || (axisEnd > end)) {\r\n                    end = axisEnd;\r\n                }\r\n            }\r\n        });\r\n        return { start: start, end: end };\r\n    };\r\n    /**\r\n     * Triggers (re)rendering of the horizontal (X) axis.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axis  Axis\r\n     */\r\n    XYChart.prototype.updateXAxis = function (renderer) {\r\n        var axis = renderer.axis;\r\n        if (renderer.opposite) {\r\n            axis.parent = this.topAxesContainer;\r\n            axis.toFront();\r\n        }\r\n        else {\r\n            axis.parent = this.bottomAxesContainer;\r\n            axis.toBack();\r\n        }\r\n        if (axis.renderer) {\r\n            axis.renderer.processRenderer();\r\n        }\r\n    };\r\n    /**\r\n     * Triggers (re)rendering of the vertical (Y) axis.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axis  Axis\r\n     */\r\n    XYChart.prototype.updateYAxis = function (renderer) {\r\n        var axis = renderer.axis;\r\n        if (renderer.opposite) {\r\n            axis.parent = this.rightAxesContainer;\r\n            axis.toBack();\r\n        }\r\n        else {\r\n            axis.parent = this.leftAxesContainer;\r\n            axis.toFront();\r\n        }\r\n        if (axis.renderer) {\r\n            axis.renderer.processRenderer();\r\n        }\r\n    };\r\n    /**\r\n     * Decorates an Axis for use with this chart, e.g. sets proper renderer\r\n     * and containers for placement.\r\n     *\r\n     * @param axis  Axis\r\n     */\r\n    XYChart.prototype.processAxis = function (axis) {\r\n        var _this = this;\r\n        // Value axis does not use data directly, only category axis does\r\n        if (axis instanceof CategoryAxis) {\r\n            this._dataUsers.moveValue(axis);\r\n        }\r\n        var renderer = axis.renderer;\r\n        renderer.gridContainer.parent = this.plotContainer;\r\n        renderer.gridContainer.toBack();\r\n        renderer.breakContainer.parent = this.plotContainer;\r\n        renderer.breakContainer.toFront();\r\n        renderer.breakContainer.zIndex = 10;\r\n        axis.addDisposer(new Disposer(function () {\r\n            _this.dataUsers.removeValue(axis);\r\n        }));\r\n        renderer.bulletsContainer.parent = this.axisBulletsContainer;\r\n        this._disposers.push(axis.events.on(\"positionchanged\", function () {\r\n            var point = $utils.spritePointToSprite({ x: 0, y: 0 }, axis, _this.axisBulletsContainer);\r\n            if (axis.renderer instanceof AxisRendererY) {\r\n                renderer.bulletsContainer.y = point.y;\r\n            }\r\n            if (axis.renderer instanceof AxisRendererX) {\r\n                renderer.bulletsContainer.x = point.x;\r\n            }\r\n        }, undefined, false));\r\n        this.plotContainer.events.on(\"maxsizechanged\", function () {\r\n            if (_this.inited) {\r\n                axis.invalidateDataItems();\r\n                _this.updateSeriesMasks();\r\n            }\r\n        }, axis, false);\r\n    };\r\n    /**\r\n     * This is done because for some reason IE doesn't change mask if path of a\r\n     * mask changes.\r\n     */\r\n    XYChart.prototype.updateSeriesMasks = function () {\r\n        if ($utils.isIE()) {\r\n            this.series.each(function (series) {\r\n                var mask = series.mainContainer.mask;\r\n                series.mainContainer.mask = undefined;\r\n                series.mainContainer.mask = mask;\r\n            });\r\n        }\r\n    };\r\n    XYChart.prototype.handleSeriesRemoved = function (event) {\r\n        var series = event.oldValue;\r\n        if (series) {\r\n            if (series.xAxis) {\r\n                series.xAxis.series.removeValue(series);\r\n                series.xAxis.invalidateProcessedData();\r\n            }\r\n            if (series.yAxis) {\r\n                series.yAxis.series.removeValue(series);\r\n                series.yAxis.invalidateProcessedData();\r\n            }\r\n            // otherwise extremes won't change\r\n            this.series.each(function (series) {\r\n                series.resetExtremes();\r\n            });\r\n        }\r\n        _super.prototype.handleSeriesRemoved.call(this, event);\r\n    };\r\n    Object.defineProperty(XYChart.prototype, \"xAxes\", {\r\n        /**\r\n         * A list of horizontal (X) axes.\r\n         *\r\n         * @return List of axes\r\n         */\r\n        get: function () {\r\n            if (!this._xAxes) {\r\n                this._xAxes = new List();\r\n                this._xAxes.events.on(\"inserted\", this.processXAxis, this, false);\r\n                this._xAxes.events.on(\"removed\", this.handleAxisRemoval, this, false);\r\n                this._disposers.push(new ListDisposer(this._xAxes, false));\r\n            }\r\n            return this._xAxes;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYChart.prototype.handleAxisRemoval = function (event) {\r\n        var axis = event.oldValue;\r\n        this.dataUsers.removeValue(axis); // need to remove, as it might not be disposed\r\n        if (axis.autoDispose) {\r\n            axis.dispose();\r\n        }\r\n    };\r\n    Object.defineProperty(XYChart.prototype, \"yAxes\", {\r\n        /**\r\n         * A list of vertical (Y) axes.\r\n         *\r\n         * @return List of axes\r\n         */\r\n        get: function () {\r\n            if (!this._yAxes) {\r\n                this._yAxes = new List();\r\n                this._yAxes.events.on(\"inserted\", this.processYAxis, this, false);\r\n                this._yAxes.events.on(\"removed\", this.handleAxisRemoval, this, false);\r\n                this._disposers.push(new ListDisposer(this._yAxes, false));\r\n            }\r\n            return this._yAxes;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Decorates a new [[XYSeries]] object with required parameters when it is\r\n     * added to the chart.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param event  Event\r\n     */\r\n    XYChart.prototype.handleSeriesAdded = function (event) {\r\n        try {\r\n            _super.prototype.handleSeriesAdded.call(this, event);\r\n            var series = event.newValue;\r\n            if (this.xAxes.length == 0 || this.yAxes.length == 0) {\r\n                registry.removeFromInvalidComponents(series);\r\n                series.dataInvalid = false;\r\n            }\r\n            $utils.used(series.xAxis); // this is enough to get axis, handled in getter\r\n            $utils.used(series.yAxis); // this is enough to get axis, handled in getter\r\n            series.maskBullets = series.maskBullets;\r\n            if (series.fill == undefined) {\r\n                if (this.patterns) {\r\n                    if (!$type.hasValue(series.stroke)) {\r\n                        series.stroke = this.colors.next();\r\n                    }\r\n                    series.fill = this.patterns.next();\r\n                    if ($type.hasValue(series.fillOpacity)) {\r\n                        series.fill.backgroundOpacity = series.fillOpacity;\r\n                    }\r\n                    if (series.stroke instanceof Color) {\r\n                        series.fill.stroke = series.stroke;\r\n                        series.fill.fill = series.stroke;\r\n                    }\r\n                }\r\n                else {\r\n                    series.fill = this.colors.next();\r\n                }\r\n            }\r\n            if (!$type.hasValue(series.stroke)) {\r\n                series.stroke = series.fill;\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.raiseCriticalError(e);\r\n        }\r\n    };\r\n    Object.defineProperty(XYChart.prototype, \"cursor\", {\r\n        /**\r\n         * @return Cursor\r\n         */\r\n        get: function () {\r\n            return this._cursor;\r\n        },\r\n        /**\r\n         * Chart's [[Cursor]].\r\n         *\r\n         * @param cursor  Cursor\r\n         */\r\n        set: function (cursor) {\r\n            if (this._cursor != cursor) {\r\n                if (this._cursor) {\r\n                    this.removeDispose(this._cursor);\r\n                }\r\n                this._cursor = cursor;\r\n                if (cursor) {\r\n                    // TODO this is wrong, fix it\r\n                    this._disposers.push(cursor);\r\n                    cursor.chart = this;\r\n                    cursor.shouldClone = false;\r\n                    cursor.parent = this._cursorContainer;\r\n                    cursor.events.on(\"cursorpositionchanged\", this.handleCursorPositionChange, this, false);\r\n                    cursor.events.on(\"zoomstarted\", this.handleCursorZoomStart, this, false);\r\n                    cursor.events.on(\"zoomended\", this.handleCursorZoomEnd, this, false);\r\n                    cursor.events.on(\"panstarted\", this.handleCursorPanStart, this, false);\r\n                    cursor.events.on(\"panning\", this.handleCursorPanning, this, false);\r\n                    cursor.events.on(\"panended\", this.handleCursorPanEnd, this, false);\r\n                    cursor.events.on(\"behaviorcanceled\", this.handleCursorCanceled, this, false);\r\n                    cursor.events.on(\"hidden\", this.handleHideCursor, this, false);\r\n                    cursor.zIndex = Number.MAX_SAFE_INTEGER - 1;\r\n                    if (this.tapToActivate) {\r\n                        // We need this in order to setup cursor properly\r\n                        this.setTapToActivate(this.tapToActivate);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Performs tasks when the cursor's position changes, e.g. shows proper\r\n     * tooltips on axes and series.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChart.prototype.handleCursorPositionChange = function () {\r\n        var cursor = this.cursor;\r\n        if (cursor.visible && !cursor.isHiding) {\r\n            var xPosition_1 = this.cursor.xPosition;\r\n            var yPosition_1 = this.cursor.yPosition;\r\n            this.showSeriesTooltip({\r\n                x: xPosition_1,\r\n                y: yPosition_1\r\n            });\r\n            var exceptAxes_1 = [];\r\n            var snapToSeries = cursor.snapToSeries;\r\n            if (snapToSeries && !cursor.downPoint) {\r\n                if (snapToSeries instanceof XYSeries) {\r\n                    snapToSeries = [snapToSeries];\r\n                }\r\n                var dataItems_1 = [];\r\n                $array.each(snapToSeries, function (snpSeries) {\r\n                    var xAxis = snpSeries.xAxis;\r\n                    var yAxis = snpSeries.yAxis;\r\n                    if (xAxis instanceof ValueAxis && !(xAxis instanceof DateAxis) && yAxis instanceof ValueAxis && !(yAxis instanceof DateAxis)) {\r\n                        snpSeries.dataItems.each(function (dataItem) {\r\n                            dataItems_1.push(dataItem);\r\n                        });\r\n                        $array.move(exceptAxes_1, snpSeries.yAxis);\r\n                        $array.move(exceptAxes_1, snpSeries.xAxis);\r\n                    }\r\n                    else {\r\n                        if (snpSeries.baseAxis == snpSeries.xAxis) {\r\n                            $array.move(exceptAxes_1, snpSeries.yAxis);\r\n                            dataItems_1.push(xAxis.getSeriesDataItem(snpSeries, xAxis.toAxisPosition(xPosition_1), true));\r\n                        }\r\n                        if (snpSeries.baseAxis == snpSeries.yAxis) {\r\n                            $array.move(exceptAxes_1, snpSeries.xAxis);\r\n                            dataItems_1.push(yAxis.getSeriesDataItem(snpSeries, yAxis.toAxisPosition(yPosition_1), true));\r\n                        }\r\n                    }\r\n                });\r\n                var closestDataItem_1 = this.getClosest(dataItems_1, xPosition_1, yPosition_1);\r\n                if (closestDataItem_1) {\r\n                    this.series.each(function (series) {\r\n                        var closestSeries = closestDataItem_1.component;\r\n                        if (series != closestSeries) {\r\n                            series.hideTooltip();\r\n                            if (series.xAxis != closestSeries.xAxis) {\r\n                                series.xAxis.hideTooltip();\r\n                            }\r\n                            if (series.yAxis != closestSeries.yAxis) {\r\n                                series.yAxis.hideTooltip();\r\n                            }\r\n                        }\r\n                    });\r\n                    closestDataItem_1.component.showTooltipAtDataItem(closestDataItem_1);\r\n                    cursor.handleSnap(closestDataItem_1.component);\r\n                }\r\n            }\r\n            //}\r\n            this._seriesPoints = [];\r\n            if (this._cursorXPosition != xPosition_1) {\r\n                this.showAxisTooltip(this.xAxes, xPosition_1, exceptAxes_1);\r\n            }\r\n            if (this._cursorYPosition != yPosition_1) {\r\n                this.showAxisTooltip(this.yAxes, yPosition_1, exceptAxes_1);\r\n            }\r\n            if (this.arrangeTooltips) {\r\n                this.sortSeriesTooltips(this._seriesPoints);\r\n            }\r\n            if (this.legend) {\r\n                this.legend.afterDraw();\r\n            }\r\n        }\r\n    };\r\n    XYChart.prototype.getClosest = function (dataItems, xPosition, yPosition) {\r\n        var minDistance = Infinity;\r\n        var closestDataItem;\r\n        $array.eachContinue(dataItems, function (dataItem) {\r\n            if (dataItem) {\r\n                var xAxis = dataItem.component.xAxis;\r\n                var yAxis = dataItem.component.yAxis;\r\n                var xPos = xAxis.positionToCoordinate(xAxis.toGlobalPosition(xAxis.toAxisPosition(xPosition)));\r\n                var yPos = yAxis.positionToCoordinate(yAxis.toGlobalPosition(yAxis.toAxisPosition(yPosition)));\r\n                var xField = dataItem.component.xField;\r\n                var yField = dataItem.component.yField;\r\n                if (xAxis instanceof ValueAxis && !$type.isNumber(dataItem.getValue(xField))) {\r\n                    return true;\r\n                }\r\n                if (yAxis instanceof ValueAxis && !$type.isNumber(dataItem.getValue(yField))) {\r\n                    return true;\r\n                }\r\n                var dxPosition = xAxis.positionToCoordinate(xAxis.toGlobalPosition(xAxis.getPositionX(dataItem, xField, dataItem.locations[xField], \"valueX\")));\r\n                var dyPosition = yAxis.positionToCoordinate(yAxis.toGlobalPosition(yAxis.getPositionY(dataItem, yField, dataItem.locations[yField], \"valueY\")));\r\n                var distance = Math.sqrt(Math.pow(xPos - dxPosition, 2) + Math.pow(yPos - dyPosition, 2));\r\n                if (distance < minDistance) {\r\n                    minDistance = distance;\r\n                    closestDataItem = dataItem;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n        return closestDataItem;\r\n    };\r\n    /**\r\n     * Hides all cursor-related tooltips when the cursor itself is hidden.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChart.prototype.handleHideCursor = function () {\r\n        this.hideObjectTooltip(this.xAxes);\r\n        this.hideObjectTooltip(this.yAxes);\r\n        this.hideObjectTooltip(this.series);\r\n        this._cursorXPosition = undefined;\r\n        this._cursorYPosition = undefined;\r\n        this.updateSeriesLegend();\r\n    };\r\n    /**\r\n     * Updates values for each series' legend item.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChart.prototype.updateSeriesLegend = function () {\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            series.updateLegendValue();\r\n        });\r\n    };\r\n    /**\r\n     * Hides a tooltip for a list of objects.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param sprites  A list of sprites to hide tooltip for\r\n     */\r\n    XYChart.prototype.hideObjectTooltip = function (sprites) {\r\n        $iter.each(sprites.iterator(), function (sprite) {\r\n            sprite.hideTooltip(0);\r\n        });\r\n    };\r\n    /**\r\n     * Shows a tooltip for all chart's series, using specific coordinates as a\r\n     * reference point.\r\n     *\r\n     * The tooltip might be shown at different coordinates depending on the\r\n     * actual data point's position, overlapping with other tooltips, etc.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param position  Reference point\r\n     */\r\n    XYChart.prototype.showSeriesTooltip = function (position) {\r\n        var _this = this;\r\n        if (!position) {\r\n            this.series.each(function (series) {\r\n                series.hideTooltip();\r\n            });\r\n            return;\r\n        }\r\n        var seriesPoints = [];\r\n        this.series.each(function (series) {\r\n            //if (series.tooltipText || series.tooltipHTML) { // not good, bullets are not hovered then\r\n            if ((series.xAxis instanceof DateAxis && series.xAxis.snapTooltip) || (series.yAxis instanceof DateAxis && series.yAxis.snapTooltip)) {\r\n                // void\r\n            }\r\n            else {\r\n                var point = series.showTooltipAtPosition(position.x, position.y);\r\n                if (point) {\r\n                    series.tooltip.setBounds($utils.spriteRectToSvg({ x: 0, y: 0, width: _this.pixelWidth, height: _this.pixelHeight }, _this));\r\n                    seriesPoints.push({ series: series, point: point });\r\n                }\r\n            }\r\n            //}\r\n        });\r\n        if (this.arrangeTooltips) {\r\n            this.sortSeriesTooltips(seriesPoints);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYChart.prototype.sortSeriesTooltips = function (seriesPoints) {\r\n        if (seriesPoints.length > 0) {\r\n            var cursor_1 = this.cursor;\r\n            if (cursor_1 && $type.isNumber(cursor_1.maxTooltipDistance)) {\r\n                var cursorPoint_1 = $utils.spritePointToSvg({ x: cursor_1.point.x, y: cursor_1.point.y }, cursor_1);\r\n                var nearestSeries_1;\r\n                var nearestPoint_1;\r\n                var smallestDistance_1 = Infinity;\r\n                $array.each(seriesPoints, function (seriesPoint) {\r\n                    var series = seriesPoint.series;\r\n                    var fixedPoint = seriesPoint.point;\r\n                    if (fixedPoint) {\r\n                        var point = { x: fixedPoint.x, y: fixedPoint.y };\r\n                        var distance = Math.abs($math.getDistance(point, cursorPoint_1));\r\n                        if (distance < smallestDistance_1) {\r\n                            nearestPoint_1 = point;\r\n                            smallestDistance_1 = distance;\r\n                            nearestSeries_1 = series;\r\n                        }\r\n                    }\r\n                });\r\n                var newSeriesPoints_1 = [];\r\n                if (nearestSeries_1) {\r\n                    $array.each(seriesPoints, function (seriesPoint) {\r\n                        if (Math.abs($math.getDistance(seriesPoint.point, nearestPoint_1)) <= Math.abs(cursor_1.maxTooltipDistance)) {\r\n                            newSeriesPoints_1.push({ series: seriesPoint.series, point: seriesPoint.point });\r\n                        }\r\n                        else {\r\n                            var tooltipDataItem = seriesPoint.series.tooltipDataItem;\r\n                            if (tooltipDataItem) {\r\n                                $array.each(tooltipDataItem.sprites, function (sprite) {\r\n                                    sprite.isHover = false;\r\n                                    sprite.handleOutReal(); // to avoid flicker\r\n                                });\r\n                            }\r\n                            seriesPoint.series.tooltip.hide(0);\r\n                        }\r\n                    });\r\n                    if (cursor_1.maxTooltipDistance < 0) {\r\n                        if (newSeriesPoints_1.length > 0) {\r\n                            $array.each(newSeriesPoints_1, function (np) {\r\n                                if (nearestSeries_1 != np.series) {\r\n                                    np.series.tooltip.hide(0);\r\n                                }\r\n                            });\r\n                        }\r\n                        newSeriesPoints_1 = [{ series: nearestSeries_1, point: nearestPoint_1 }];\r\n                    }\r\n                }\r\n                seriesPoints = newSeriesPoints_1;\r\n            }\r\n            var topLeft_1 = $utils.spritePointToSvg({ x: -0.5, y: -0.5 }, this.plotContainer);\r\n            var bottomRight_1 = $utils.spritePointToSvg({ x: this.plotContainer.pixelWidth + 0.5, y: this.plotContainer.pixelHeight + 0.5 }, this.plotContainer);\r\n            var sum_1 = 0;\r\n            var filteredSeriesPoints_1 = [];\r\n            $array.each(seriesPoints, function (seriesPoint) {\r\n                var point = seriesPoint.point;\r\n                if (point && $math.isInRectangle(point, { x: topLeft_1.x, y: topLeft_1.y, width: bottomRight_1.x - topLeft_1.x, height: bottomRight_1.y - topLeft_1.y })) {\r\n                    filteredSeriesPoints_1.push({ point: point, series: seriesPoint.series });\r\n                    sum_1 += point.y;\r\n                }\r\n            });\r\n            seriesPoints = filteredSeriesPoints_1;\r\n            var firstSeries = this.series.getIndex(0);\r\n            var inversed = false;\r\n            if (firstSeries && firstSeries.yAxis && firstSeries.yAxis.renderer.inversed) {\r\n                inversed = true;\r\n            }\r\n            if (inversed) {\r\n                seriesPoints.sort(function (a, b) { return $number.order(a.point.y, b.point.y); });\r\n            }\r\n            else {\r\n                seriesPoints.sort(function (a, b) { return $number.order(b.point.y, a.point.y); });\r\n                seriesPoints.reverse();\r\n            }\r\n            var averageY = sum_1 / seriesPoints.length;\r\n            var maxY = $utils.svgPointToDocument({ x: 0, y: 0 }, this.svgContainer.SVGContainer).y;\r\n            if (seriesPoints.length > 0) {\r\n                var top_1 = topLeft_1.y;\r\n                var bottom = bottomRight_1.y;\r\n                // TODO is this needed ?\r\n                $utils.spritePointToDocument({ x: 0, y: top_1 }, this);\r\n                var dropped = false;\r\n                if (averageY > top_1 + (bottom - top_1) / 2) {\r\n                    var nextHeight = bottom;\r\n                    for (var i = seriesPoints.length - 1; i >= 0; i--) {\r\n                        var series = seriesPoints[i].series;\r\n                        var tooltip = series.tooltip;\r\n                        var pointY = seriesPoints[i].point.y;\r\n                        tooltip.setBounds({ x: 0, y: -maxY, width: this.pixelWidth, height: nextHeight + maxY });\r\n                        if (tooltip.invalid) {\r\n                            tooltip.validate();\r\n                        }\r\n                        tooltip.toBack();\r\n                        nextHeight = $utils.spritePointToSvg({ x: 0, y: tooltip.label.pixelY - tooltip.pixelY + pointY - tooltip.pixelMarginTop }, tooltip).y;\r\n                        if (nextHeight < -maxY) {\r\n                            dropped = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (averageY <= top_1 + (bottom - top_1) / 2 || dropped) {\r\n                    var nextY = top_1;\r\n                    for (var i = 0, len = seriesPoints.length; i < len; i++) {\r\n                        var series = seriesPoints[i].series;\r\n                        var pointY = seriesPoints[i].point.y;\r\n                        var tooltip = series.tooltip;\r\n                        tooltip.setBounds({ x: 0, y: nextY, width: this.pixelWidth, height: bottom });\r\n                        if (tooltip.invalid) {\r\n                            tooltip.validate();\r\n                        }\r\n                        tooltip.toBack();\r\n                        nextY = $utils.spritePointToSvg({ x: 0, y: tooltip.label.pixelY + tooltip.label.measuredHeight - tooltip.pixelY + pointY + tooltip.pixelMarginBottom }, tooltip).y;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Shows tooltips for a list of axes at specific position.\r\n     *\r\n     * Position might be X coordinate for horizontal axes, and Y coordinate for\r\n     * vertical axes.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param axes      List of axes to show tooltip on\r\n     * @param position  Position (px)\r\n     */\r\n    XYChart.prototype.showAxisTooltip = function (axes, position, except) {\r\n        var _this = this;\r\n        $iter.each(axes.iterator(), function (axis) {\r\n            if (!except || except.indexOf(axis) == -1) {\r\n                if (_this.dataItems.length > 0 || axis.dataItems.length > 0) {\r\n                    axis.showTooltipAtPosition(position);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Recalculates the value range for the axis taking into account zoom level & inversed.\r\n     *\r\n     * @param axis   Axis\r\n     * @param range  Range\r\n     * @return Modified range\r\n     */\r\n    XYChart.prototype.getUpdatedRange = function (axis, range) {\r\n        if (!axis) {\r\n            return;\r\n        }\r\n        var start;\r\n        var end;\r\n        var inversed = axis.renderer.inversed;\r\n        if (inversed) {\r\n            $math.invertRange(range);\r\n            start = 1 - axis.end;\r\n            end = 1 - axis.start;\r\n        }\r\n        else {\r\n            start = axis.start;\r\n            end = axis.end;\r\n        }\r\n        var difference = end - start;\r\n        return {\r\n            start: start + range.start * difference,\r\n            end: start + range.end * difference\r\n        };\r\n    };\r\n    /**\r\n     * Performs zoom and other operations when user finishes zooming using chart\r\n     * cursor, e.g. zooms axes.\r\n     *\r\n     * @param event Cursor's event\r\n     */\r\n    XYChart.prototype.handleCursorZoomEnd = function (event) {\r\n        var cursor = this.cursor;\r\n        var behavior = cursor.behavior;\r\n        if (behavior == \"zoomX\" || behavior == \"zoomXY\") {\r\n            var xRange = cursor.xRange;\r\n            if (xRange && this.xAxes.length > 0) {\r\n                xRange = this.getUpdatedRange(this.xAxes.getIndex(0), xRange);\r\n                xRange.priority = \"start\";\r\n                this.zoomAxes(this.xAxes, xRange);\r\n            }\r\n        }\r\n        if (behavior == \"zoomY\" || behavior == \"zoomXY\") {\r\n            var yRange = cursor.yRange;\r\n            if (yRange && this.yAxes.length > 0) {\r\n                yRange = this.getUpdatedRange(this.yAxes.getIndex(0), yRange);\r\n                yRange.priority = \"start\";\r\n                this.zoomAxes(this.yAxes, yRange);\r\n            }\r\n        }\r\n        this.handleHideCursor();\r\n    };\r\n    /**\r\n     * Performs zoom and other operations when user is panning chart plot using chart cursor.\r\n     *\r\n     * @param event Cursor's event\r\n     */\r\n    XYChart.prototype.handleCursorPanStart = function (event) {\r\n        var xAxis = this.xAxes.getIndex(0);\r\n        if (xAxis) {\r\n            this._panStartXRange = { start: xAxis.start, end: xAxis.end };\r\n        }\r\n        var yAxis = this.yAxes.getIndex(0);\r\n        if (yAxis) {\r\n            this._panStartYRange = { start: yAxis.start, end: yAxis.end };\r\n        }\r\n    };\r\n    /**\r\n     * Performs zoom and other operations when user ends panning\r\n     *\r\n     * @param event Cursor's event\r\n     */\r\n    XYChart.prototype.handleCursorPanEnd = function (event) {\r\n        var cursor = this.cursor;\r\n        var behavior = cursor.behavior;\r\n        if (this._panEndXRange && (behavior == \"panX\" || behavior == \"panXY\")) {\r\n            var panEndRange = this._panEndXRange;\r\n            var delta = 0;\r\n            if (panEndRange.start < 0) {\r\n                delta = panEndRange.start;\r\n            }\r\n            if (panEndRange.end > 1) {\r\n                delta = panEndRange.end - 1;\r\n            }\r\n            this.zoomAxes(this.xAxes, { start: panEndRange.start - delta, end: panEndRange.end - delta }, false, true);\r\n            this._panEndXRange = undefined;\r\n            this._panStartXRange = undefined;\r\n        }\r\n        if (this._panEndYRange && (behavior == \"panY\" || behavior == \"panXY\")) {\r\n            var panEndRange = this._panEndYRange;\r\n            var delta = 0;\r\n            if (panEndRange.start < 0) {\r\n                delta = panEndRange.start;\r\n            }\r\n            if (panEndRange.end > 1) {\r\n                delta = panEndRange.end - 1;\r\n            }\r\n            this.zoomAxes(this.yAxes, { start: panEndRange.start - delta, end: panEndRange.end - delta }, false, true);\r\n            this._panEndYRange = undefined;\r\n            this._panStartYRange = undefined;\r\n        }\r\n    };\r\n    XYChart.prototype.handleCursorCanceled = function () {\r\n        this._panEndXRange = undefined;\r\n        this._panStartXRange = undefined;\r\n    };\r\n    /**\r\n     * Performs zoom and other operations when user is panning chart plot using chart cursor.\r\n     *\r\n     * @param event Cursor's event\r\n     */\r\n    XYChart.prototype.handleCursorPanning = function (event) {\r\n        var cursor = this.cursor;\r\n        var behavior = cursor.behavior;\r\n        var maxPanOut = cursor.maxPanOut;\r\n        if (this._panStartXRange && (behavior == \"panX\" || behavior == \"panXY\")) {\r\n            var panStartRange = this._panStartXRange;\r\n            var range = cursor.xRange;\r\n            var axisRange = this.getCommonAxisRange(this.xAxes);\r\n            var difference = (panStartRange.end - panStartRange.start);\r\n            var delta = range.start * (axisRange.end - axisRange.start);\r\n            var newStart = Math.max(-maxPanOut, delta + panStartRange.start);\r\n            var newEnd = Math.min(delta + panStartRange.end, 1 + maxPanOut);\r\n            if (newStart <= 0) {\r\n                newEnd = newStart + difference;\r\n            }\r\n            if (newEnd >= 1) {\r\n                newStart = newEnd - difference;\r\n            }\r\n            var newRange = {\r\n                start: newStart,\r\n                end: newEnd\r\n            };\r\n            this._panEndXRange = newRange;\r\n            this.zoomAxes(this.xAxes, newRange, false, false, cursor.maxPanOut);\r\n        }\r\n        if (this._panStartYRange && (behavior == \"panY\" || behavior == \"panXY\")) {\r\n            var panStartRange = this._panStartYRange;\r\n            var range = cursor.yRange;\r\n            var axisRange = this.getCommonAxisRange(this.yAxes);\r\n            var difference = panStartRange.end - panStartRange.start;\r\n            var delta = range.start * (axisRange.end - axisRange.start);\r\n            var newStart = Math.max(-maxPanOut, delta + panStartRange.start);\r\n            var newEnd = Math.min(delta + panStartRange.end, 1 + maxPanOut);\r\n            if (newStart <= 0) {\r\n                newEnd = newStart + difference;\r\n            }\r\n            if (newEnd >= 1) {\r\n                newStart = newEnd - difference;\r\n            }\r\n            var newRange = {\r\n                start: newStart,\r\n                end: newEnd\r\n            };\r\n            this._panEndYRange = newRange;\r\n            this.zoomAxes(this.yAxes, newRange, false, false, cursor.maxPanOut);\r\n        }\r\n        this.handleHideCursor();\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYChart.prototype.handleYAxisSet = function (series) {\r\n    };\r\n    /**\r\n     * Performs zoom and other operations when user starts zooming using chart\r\n     * cursor, e.g. zooms axes.\r\n     *\r\n     * @param event Cursor's event\r\n     */\r\n    XYChart.prototype.handleCursorZoomStart = function (event) {\r\n        // Nothing here\r\n        // This method is here only as a \"placeholder\" for extending classes to\r\n        // override if necessary\r\n    };\r\n    Object.defineProperty(XYChart.prototype, \"scrollbarX\", {\r\n        /**\r\n         * @return Scrollbar\r\n         */\r\n        get: function () {\r\n            return this._scrollbarX;\r\n        },\r\n        /**\r\n         * Horizontal (X) scrollbar.\r\n         *\r\n         * @param scrollbar Scrollbar\r\n         */\r\n        set: function (scrollbar) {\r\n            var _this = this;\r\n            if (this._scrollbarX) {\r\n                this.removeDispose(this._scrollbarX);\r\n            }\r\n            this._scrollbarX = scrollbar;\r\n            if (scrollbar) {\r\n                this._disposers.push(scrollbar);\r\n                scrollbar.parent = this.topAxesContainer;\r\n                scrollbar.shouldClone = false;\r\n                scrollbar.startGrip.exportable = false;\r\n                scrollbar.endGrip.exportable = false;\r\n                scrollbar.toBack();\r\n                scrollbar.orientation = \"horizontal\";\r\n                scrollbar.events.on(\"rangechanged\", this.handleXScrollbarChange, this, false);\r\n                // accessibility related\r\n                scrollbar.adapter.add(\"positionValue\", function (arg) {\r\n                    var xAxis = _this.xAxes.getIndex(0);\r\n                    if (xAxis) {\r\n                        arg.value = xAxis.getPositionLabel(xAxis.renderer.inversed\r\n                            ? 1 - arg.position\r\n                            : arg.position);\r\n                    }\r\n                    return arg;\r\n                });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"scrollbarY\", {\r\n        /**\r\n         * @return Scrollbar\r\n         */\r\n        get: function () {\r\n            return this._scrollbarY;\r\n        },\r\n        /**\r\n         * Vertical (Y) scrollbar.\r\n         *\r\n         * @param scrollbar Scrollbar\r\n         */\r\n        set: function (scrollbar) {\r\n            var _this = this;\r\n            if (this._scrollbarY) {\r\n                this.removeDispose(this._scrollbarY);\r\n            }\r\n            this._scrollbarY = scrollbar;\r\n            if (scrollbar) {\r\n                this._disposers.push(scrollbar);\r\n                scrollbar.parent = this.rightAxesContainer;\r\n                scrollbar.startGrip.exportable = false;\r\n                scrollbar.shouldClone = false;\r\n                scrollbar.endGrip.exportable = false;\r\n                scrollbar.toFront();\r\n                scrollbar.orientation = \"vertical\";\r\n                scrollbar.events.on(\"rangechanged\", this.handleYScrollbarChange, this, false);\r\n                // accessibility related\r\n                scrollbar.adapter.add(\"positionValue\", function (arg) {\r\n                    var yAxis = _this.yAxes.getIndex(0);\r\n                    if (yAxis) {\r\n                        arg.value = yAxis.getPositionLabel(arg.position);\r\n                    }\r\n                    return arg;\r\n                });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Zooms axes affected by the horizontal (X) scrollbar when the selection\r\n     * on it changes.\r\n     *\r\n     * @param event Scrollbar range change event\r\n     */\r\n    XYChart.prototype.handleXScrollbarChange = function (event) {\r\n        if (this.inited) {\r\n            var scrollbar = event.target;\r\n            var range = scrollbar.range;\r\n            if (range.start == 0) {\r\n                range.priority = \"start\";\r\n            }\r\n            if (range.end == 1) {\r\n                range.priority = \"end\";\r\n            }\r\n            range = this.zoomAxes(this.xAxes, range);\r\n            scrollbar.fixRange(range);\r\n        }\r\n    };\r\n    /**\r\n     * Zooms axes affected by the vertical (Y) scrollbar when the selection\r\n     * on it changes.\r\n     *\r\n     * @param event Scrollbar range change event\r\n     */\r\n    XYChart.prototype.handleYScrollbarChange = function (event) {\r\n        if (this.inited) {\r\n            var scrollbar = event.target;\r\n            var range = scrollbar.range;\r\n            if (range.end == 1) {\r\n                range.priority = \"end\";\r\n            }\r\n            if (range.start == 0) {\r\n                range.priority = \"start\";\r\n            }\r\n            range = this.zoomAxes(this.yAxes, range);\r\n            scrollbar.fixRange(range);\r\n        }\r\n    };\r\n    /**\r\n     * Zooms axes that are affected by to specific relative range.\r\n     *\r\n     * @param axes       List of axes to zoom\r\n     * @param range      Range of values to zoom to (0-1)\r\n     * @param instantly  If set to `true` will skip zooming animation\r\n     * @return Recalculated range that is common to all involved axes\r\n     */\r\n    XYChart.prototype.zoomAxes = function (axes, range, instantly, round, declination) {\r\n        var realRange = { start: 0, end: 1 };\r\n        this.showSeriesTooltip(); // hides\r\n        if (!this.dataInvalid) {\r\n            $iter.each(axes.iterator(), function (axis) {\r\n                if (axis.renderer.inversed) {\r\n                    range = $math.invertRange(range);\r\n                }\r\n                axis.hideTooltip(0);\r\n                if (round) {\r\n                    //let diff = range.end - range.start;\r\n                    if (axis instanceof CategoryAxis) {\r\n                        var cellWidth = axis.getCellEndPosition(0) - axis.getCellStartPosition(0);\r\n                        range.start = axis.roundPosition(range.start + cellWidth / 2 - (axis.startLocation) * cellWidth, axis.startLocation);\r\n                        range.end = axis.roundPosition(range.end - cellWidth / 2 + (1 - axis.endLocation) * cellWidth, axis.endLocation);\r\n                    }\r\n                    else {\r\n                        range.start = axis.roundPosition(range.start + 0.0001, 0, axis.startLocation);\r\n                        range.end = axis.roundPosition(range.end + 0.0001, 0, axis.endLocation);\r\n                    }\r\n                }\r\n                var axisRange = axis.zoom(range, instantly, instantly, declination);\r\n                if (axis.renderer.inversed) {\r\n                    axisRange = $math.invertRange(axisRange);\r\n                }\r\n                realRange = axisRange;\r\n            });\r\n        }\r\n        return realRange;\r\n    };\r\n    Object.defineProperty(XYChart.prototype, \"maskBullets\", {\r\n        /**\r\n         * @return Mask bullet container?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"maskBullets\");\r\n        },\r\n        /**\r\n         * Indicates if bullet container is masked.\r\n         *\r\n         * If it is set to `true`, any bullets that do not fit into bullet container\r\n         * will be clipped off. Settting to `false` will allow bullets to \"spill out\"\r\n         * of the plot area so they are not cut off.\r\n         *\r\n         * @param value Mask bullet container?\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"maskBullets\", value, true) && this.bulletsContainer) {\r\n                if (value) {\r\n                    this.bulletsContainer.mask = this._bulletMask;\r\n                }\r\n                else {\r\n                    this.bulletsContainer.mask = undefined;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"arrangeTooltips\", {\r\n        /**\r\n         * @return Arrange tooltips?\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"arrangeTooltips\");\r\n        },\r\n        /**\r\n         * Indicates if chart should arrange series tooltips so that they would not\r\n         * overlap.\r\n         *\r\n         * If set to `true` (default), the chart will adjust vertical positions of\r\n         * all simultaneously shown tooltips to avoid overlapping.\r\n         *\r\n         * However, if you have a vertically-arranged chart, it might not make sense,\r\n         * because tooltips would most probably not be aligned horizontally. In this\r\n         * case it would probably be a good idea to set this setting to `false`.\r\n         *\r\n         * @default true\r\n         * @param value Arrange tooltips?\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"arrangeTooltips\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Handles mouse wheel event.\r\n     *\r\n     * @param event  Original event\r\n     */\r\n    XYChart.prototype.handleWheel = function (event) {\r\n        var plotContainer = this.plotContainer;\r\n        var svgPoint = $utils.documentPointToSvg(event.point, this.htmlContainer, this.svgContainer.cssScale);\r\n        var plotPoint = $utils.svgPointToSprite(svgPoint, plotContainer);\r\n        var shift = event.shift.y;\r\n        this.handleWheelReal(shift, this.mouseWheelBehavior, plotPoint);\r\n    };\r\n    /**\r\n     * Handles mouse wheel event.\r\n     *\r\n     * @param event  Original event\r\n     */\r\n    XYChart.prototype.handleHorizontalWheel = function (event) {\r\n        var plotContainer = this.plotContainer;\r\n        var svgPoint = $utils.documentPointToSvg(event.point, this.htmlContainer, this.svgContainer.cssScale);\r\n        var plotPoint = $utils.svgPointToSprite(svgPoint, plotContainer);\r\n        this.handleWheelReal(event.shift.x, this.horizontalMouseWheelBehavior, plotPoint);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYChart.prototype.handleWheelReal = function (shift, mouseWheelBehavior, plotPoint) {\r\n        if (shift != 0) {\r\n            var plotContainer = this.plotContainer;\r\n            var rangeX = this.getCommonAxisRange(this.xAxes);\r\n            var rangeY = this.getCommonAxisRange(this.yAxes);\r\n            var shiftStep = 0.1;\r\n            var maxPanOut = 0;\r\n            if (mouseWheelBehavior == \"panX\" || mouseWheelBehavior == \"panXY\") {\r\n                var differenceX = rangeX.end - rangeX.start;\r\n                var newStartX = Math.max(-maxPanOut, rangeX.start + shiftStep * shift / 100 * (rangeX.end - rangeX.start));\r\n                var newEndX = Math.min(rangeX.end + shiftStep * shift / 100 * (rangeX.end - rangeX.start), 1 + maxPanOut);\r\n                if (newStartX <= 0) {\r\n                    newEndX = newStartX + differenceX;\r\n                }\r\n                if (newEndX >= 1) {\r\n                    newStartX = newEndX - differenceX;\r\n                }\r\n                this.zoomAxes(this.xAxes, { start: newStartX, end: newEndX });\r\n            }\r\n            if (mouseWheelBehavior == \"panY\" || mouseWheelBehavior == \"panXY\") {\r\n                shift *= -1;\r\n                var differenceY = rangeY.end - rangeY.start;\r\n                var newStartY = Math.max(-maxPanOut, rangeY.start + shiftStep * shift / 100 * (rangeY.end - rangeY.start));\r\n                var newEndY = Math.min(rangeY.end + shiftStep * shift / 100 * (rangeY.end - rangeY.start), 1 + maxPanOut);\r\n                if (newStartY <= 0) {\r\n                    newEndY = newStartY + differenceY;\r\n                }\r\n                if (newEndY >= 1) {\r\n                    newStartY = newEndY - differenceY;\r\n                }\r\n                this.zoomAxes(this.yAxes, { start: newStartY, end: newEndY });\r\n            }\r\n            if (mouseWheelBehavior == \"zoomX\" || mouseWheelBehavior == \"zoomXY\") {\r\n                var locationX = plotPoint.x / plotContainer.maxWidth;\r\n                var location2X = this.xAxes.getIndex(0).toAxisPosition(locationX);\r\n                var newStartX = Math.max(-maxPanOut, rangeX.start - shiftStep * (rangeX.end - rangeX.start) * shift / 100 * locationX);\r\n                newStartX = Math.min(newStartX, location2X);\r\n                var newEndX = Math.min(rangeX.end + shiftStep * (rangeX.end - rangeX.start) * shift / 100 * (1 - locationX), 1 + maxPanOut);\r\n                newEndX = Math.max(newEndX, location2X);\r\n                this.zoomAxes(this.xAxes, { start: newStartX, end: newEndX });\r\n            }\r\n            if (mouseWheelBehavior == \"zoomY\" || mouseWheelBehavior == \"zoomXY\") {\r\n                var locationY = plotPoint.y / plotContainer.maxHeight;\r\n                var location2Y = this.yAxes.getIndex(0).toAxisPosition(locationY);\r\n                var newStartY = Math.max(-maxPanOut, rangeY.start - shiftStep * (rangeY.end - rangeY.start) * shift / 100 * (1 - locationY));\r\n                newStartY = Math.min(newStartY, location2Y);\r\n                var newEndY = Math.min(rangeY.end + shiftStep * shift / 100 * locationY * (rangeY.end - rangeY.start), 1 + maxPanOut);\r\n                newEndY = Math.max(newEndY, location2Y);\r\n                this.zoomAxes(this.yAxes, { start: newStartY, end: newEndY });\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(XYChart.prototype, \"mouseWheelBehavior\", {\r\n        /**\r\n         * @return Mouse wheel behavior\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"mouseWheelBehavior\");\r\n        },\r\n        /**\r\n         * Specifies action for when mouse wheel is used when over the chart.\r\n         *\r\n         * Options: Options: `\"zoomX\"`, `\"zoomY\"`, `\"zoomXY\"`, `\"panX\"`, `\"panY\"`,`\"panXY\"`, `\"none\"` (default).\r\n         *\r\n         * You can control sensitivity of wheel zooming via `mouseOptions`.\r\n         *\r\n         * @default \"none\"\r\n         * @see {@link https://www.amcharts.com/docs/v4/reference/sprite/#mouseOptions_property} More information about `mouseOptions`\r\n         * @param mouse wheel behavior\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"mouseWheelBehavior\", value)) {\r\n                if (value != \"none\") {\r\n                    this._mouseWheelDisposer = this.plotContainer.events.on(\"wheel\", this.handleWheel, this, false);\r\n                    this._disposers.push(this._mouseWheelDisposer);\r\n                }\r\n                else {\r\n                    if (this._mouseWheelDisposer) {\r\n                        this.plotContainer.wheelable = false;\r\n                        this.plotContainer.hoverable = false;\r\n                        this._mouseWheelDisposer.dispose();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYChart.prototype, \"horizontalMouseWheelBehavior\", {\r\n        /**\r\n         * @return Horizontal mouse wheel behavior\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"horizontalMouseWheelBehavior\");\r\n        },\r\n        /**\r\n         * Specifies action for when horizontal mouse wheel is used when over the chart.\r\n         *\r\n         * Options: Options: `\"zoomX\"`, `\"zoomY\"`, `\"zoomXY\"`, `\"panX\"`, `\"panY\"`, `\"panXY\"`, `\"none\"` (default).\r\n         *\r\n         * @default \"none\"\r\n         * @see {@link https://www.amcharts.com/docs/v4/reference/sprite/#mouseOptions_property} More information about `mouseOptions`\r\n         * @param mouse wheel behavior\r\n         */\r\n        set: function (value) {\r\n            if (this.setPropertyValue(\"horizontalMouseWheelBehavior\", value)) {\r\n                if (value != \"none\") {\r\n                    this._mouseWheelDisposer2 = this.plotContainer.events.on(\"wheel\", this.handleHorizontalWheel, this, false);\r\n                    this._disposers.push(this._mouseWheelDisposer2);\r\n                }\r\n                else {\r\n                    if (this._mouseWheelDisposer2) {\r\n                        this.plotContainer.wheelable = false;\r\n                        this.plotContainer.hoverable = false;\r\n                        this._mouseWheelDisposer2.dispose();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * This function is called by the [[DataSource]]'s `dateFields` adapater\r\n     * so that particular chart types can popuplate this setting with their\r\n     * own type-specific data fields so they are parsed properly.\r\n     *\r\n     * @param fields  Array of date fields\r\n     * @return Array of date fields populated with chart's date fields\r\n     */\r\n    XYChart.prototype.dataSourceDateFields = function (fields) {\r\n        var _this = this;\r\n        // Process parent\r\n        fields = _super.prototype.dataSourceDateFields.call(this, fields);\r\n        // Check if we have any series with date-fields\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            fields = _this.populateDataSourceFields(fields, series.dataFields, [\"dateX\", \"dateY\", \"openDateX\", \"openDateY\"]);\r\n        });\r\n        return fields;\r\n    };\r\n    /**\r\n     * This function is called by the [[DataSource]]'s `numberFields` adapater\r\n     * so that particular chart types can popuplate this setting with their\r\n     * own type-specific data fields so they are parsed properly.\r\n     *\r\n     * @param value  Array of number fields\r\n     * @return Array of number fields populated with chart's number fields\r\n     */\r\n    XYChart.prototype.dataSourceNumberFields = function (fields) {\r\n        var _this = this;\r\n        fields = _super.prototype.dataSourceDateFields.call(this, fields);\r\n        // Check if we have any series with date-fields\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            fields = _this.populateDataSourceFields(fields, series.dataFields, [\"valueX\", \"valueY\", \"openValueX\", \"openValueY\"]);\r\n        });\r\n        return fields;\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    XYChart.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Save axis ranges for later processing\r\n            var xAxes = [];\r\n            var yAxes = [];\r\n            // Set up axes\r\n            if ($type.hasValue(config.xAxes) && $type.isArray(config.xAxes)) {\r\n                for (var i = 0, len = config.xAxes.length; i < len; i++) {\r\n                    if (!config.xAxes[i].type) {\r\n                        throw Error(\"[XYChart error] No type set for xAxes[\" + i + \"].\");\r\n                    }\r\n                    else if ($type.hasValue(config.xAxes[i][\"axisRanges\"])) {\r\n                        // Maybe convert string dates?\r\n                        for (var x = 0, len_1 = config.xAxes[i][\"axisRanges\"].length; x < len_1; x++) {\r\n                            var range = config.xAxes[i][\"axisRanges\"][x];\r\n                            if ($type.hasValue(range.date) && $type.isString(range.date)) {\r\n                                range.date = this.dateFormatter.parse(range.date);\r\n                            }\r\n                            if ($type.hasValue(range.endDate) && $type.isString(range.endDate)) {\r\n                                range.endDate = this.dateFormatter.parse(range.endDate);\r\n                            }\r\n                        }\r\n                        xAxes.push({\r\n                            axisRanges: config.xAxes[i][\"axisRanges\"],\r\n                            index: i\r\n                        });\r\n                        delete (config.xAxes[i][\"axisRanges\"]);\r\n                    }\r\n                }\r\n            }\r\n            if ($type.hasValue(config.yAxes) && $type.isArray(config.yAxes)) {\r\n                for (var i = 0, len = config.yAxes.length; i < len; i++) {\r\n                    if (!config.yAxes[i].type) {\r\n                        throw Error(\"[XYChart error] No type set for yAxes[\" + i + \"].\");\r\n                    }\r\n                    else if ($type.hasValue(config.yAxes[i][\"axisRanges\"])) {\r\n                        // Maybe convert string dates?\r\n                        for (var x = 0, len_2 = config.yAxes[i][\"axisRanges\"].length; x < len_2; x++) {\r\n                            var range = config.yAxes[i][\"axisRanges\"][x];\r\n                            if ($type.hasValue(range.date) && $type.isString(range.date)) {\r\n                                range.date = this.dateFormatter.parse(range.date);\r\n                            }\r\n                            if ($type.hasValue(range.endDate) && $type.isString(range.endDate)) {\r\n                                range.endDate = this.dateFormatter.parse(range.endDate);\r\n                            }\r\n                        }\r\n                        yAxes.push({\r\n                            axisRanges: config.yAxes[i][\"axisRanges\"],\r\n                            index: i\r\n                        });\r\n                        delete (config.yAxes[i][\"axisRanges\"]);\r\n                    }\r\n                }\r\n            }\r\n            // Set up series\r\n            if ($type.hasValue(config.series) && $type.isArray(config.series)) {\r\n                for (var i = 0, len = config.series.length; i < len; i++) {\r\n                    config.series[i].type = config.series[i].type || \"LineSeries\";\r\n                }\r\n            }\r\n            // Set up cursor\r\n            if ($type.hasValue(config.cursor) && !$type.hasValue(config.cursor.type)) {\r\n                config.cursor.type = \"XYCursor\";\r\n            }\r\n            // Set up scrollbars\r\n            if ($type.hasValue(config.scrollbarX) && !$type.hasValue(config.scrollbarX.type)) {\r\n                config.scrollbarX.type = \"Scrollbar\";\r\n            }\r\n            if ($type.hasValue(config.scrollbarY) && !$type.hasValue(config.scrollbarY.type)) {\r\n                config.scrollbarY.type = \"Scrollbar\";\r\n            }\r\n            _super.prototype.processConfig.call(this, config);\r\n            // Finish up with ranges.\r\n            // We need to do this here because series are processed last in JSON\r\n            // config. Therefore their respective objects are not yet are available\r\n            // when axis (and respectively their ranges) are being processed.\r\n            if (yAxes.length) {\r\n                for (var i = 0, len = yAxes.length; i < len; i++) {\r\n                    this.yAxes.getIndex(yAxes[i].index).config = {\r\n                        axisRanges: yAxes[i].axisRanges\r\n                    };\r\n                }\r\n            }\r\n            if (xAxes.length) {\r\n                for (var i = 0, len = xAxes.length; i < len; i++) {\r\n                    this.xAxes.getIndex(xAxes[i].index).config = {\r\n                        axisRanges: xAxes[i].axisRanges\r\n                    };\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * This function is used to sort element's JSON config properties, so that\r\n     * some properties that absolutely need to be processed last, can be put at\r\n     * the end.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param a  Element 1\r\n     * @param b  Element 2\r\n     * @return Sorting number\r\n     */\r\n    XYChart.prototype.configOrder = function (a, b) {\r\n        if (a == b) {\r\n            return 0;\r\n        }\r\n        // Must come last\r\n        else if (a == \"scrollbarX\") {\r\n            return 1;\r\n        }\r\n        else if (b == \"scrollbarX\") {\r\n            return -1;\r\n        }\r\n        else if (a == \"scrollbarY\") {\r\n            return 1;\r\n        }\r\n        else if (b == \"scrollbarY\") {\r\n            return -1;\r\n        }\r\n        else if (a == \"cursor\") {\r\n            return 1;\r\n        }\r\n        else if (b == \"cursor\") {\r\n            return -1;\r\n        }\r\n        else if (a == \"series\") {\r\n            return 1;\r\n        }\r\n        else if (b == \"series\") {\r\n            return -1;\r\n        }\r\n        else {\r\n            return _super.prototype.configOrder.call(this, a, b);\r\n        }\r\n    };\r\n    /**\r\n     * Creates a new Series of type suitable for this chart.\r\n     *\r\n     * @return New series\r\n     */\r\n    XYChart.prototype.createSeries = function () {\r\n        return new XYSeries();\r\n    };\r\n    Object.defineProperty(XYChart.prototype, \"zoomOutButton\", {\r\n        /**\r\n         * @return Zoom out button\r\n         */\r\n        get: function () {\r\n            return this._zoomOutButton;\r\n        },\r\n        /**\r\n         * A [[Button]] element that is used for zooming out the chart.\r\n         *\r\n         * This button appears only when chart is zoomed in, and disappears\r\n         * autoamatically when it is zoome dout.\r\n         *\r\n         * @param button  Zoom out button\r\n         */\r\n        set: function (button) {\r\n            var _this = this;\r\n            this._zoomOutButton = button;\r\n            if (button) {\r\n                button.events.on(\"hit\", function () {\r\n                    _this.zoomAxes(_this.xAxes, { start: 0, end: 1 });\r\n                    _this.zoomAxes(_this.yAxes, { start: 0, end: 1 });\r\n                }, undefined, false);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all parameters from another [[XYChart]].\r\n     *\r\n     * @param source Source XYChart\r\n     */\r\n    XYChart.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        source.xAxes.each(function (axis) {\r\n            _this.xAxes.push(axis.clone());\r\n        });\r\n        source.yAxes.each(function (axis) {\r\n            _this.yAxes.push(axis.clone());\r\n        });\r\n        //this.xAxes.copyFrom(source.xAxes);\r\n        //this.yAxes.copyFrom(source.yAxes);\r\n        _super.prototype.copyFrom.call(this, source);\r\n        //this.zoomOutButton.copyFrom(source.zoomOutButton);\r\n        if (source.cursor) {\r\n            this.cursor = source.cursor.clone();\r\n        }\r\n        if (source.scrollbarX) {\r\n            this.scrollbarX = source.scrollbarX.clone();\r\n        }\r\n        if (source.scrollbarY) {\r\n            this.scrollbarY = source.scrollbarY.clone();\r\n        }\r\n        //@todo copy all container properties\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYChart.prototype.disposeData = function () {\r\n        _super.prototype.disposeData.call(this);\r\n        var scrollbarX = this.scrollbarX;\r\n        if (scrollbarX && scrollbarX instanceof XYChartScrollbar) {\r\n            scrollbarX.scrollbarChart.disposeData();\r\n        }\r\n        var scrollbarY = this.scrollbarY;\r\n        if (scrollbarY && scrollbarY instanceof XYChartScrollbar) {\r\n            scrollbarY.scrollbarChart.disposeData();\r\n        }\r\n        this.xAxes.each(function (axis) {\r\n            axis.disposeData();\r\n        });\r\n        this.yAxes.each(function (axis) {\r\n            axis.disposeData();\r\n        });\r\n    };\r\n    /**\r\n     * Adds one or several (array) of data items to the existing data.\r\n     *\r\n     * @param rawDataItem One or many raw data item objects\r\n     */\r\n    XYChart.prototype.addData = function (rawDataItem, removeCount) {\r\n        if (this.scrollbarX instanceof XYChartScrollbar) {\r\n            this.addScrollbarData(this.scrollbarX, removeCount);\r\n        }\r\n        if (this.scrollbarY instanceof XYChartScrollbar) {\r\n            this.addScrollbarData(this.scrollbarY, removeCount);\r\n        }\r\n        _super.prototype.addData.call(this, rawDataItem, removeCount);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYChart.prototype.addScrollbarData = function (scrollbar, removeCount) {\r\n        var chart = scrollbar.scrollbarChart;\r\n        chart._parseDataFrom = chart.data.length;\r\n        chart.invalidateData();\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    XYChart.prototype.removeScrollbarData = function (scrollbar, removeCount) {\r\n        var chart = scrollbar.scrollbarChart;\r\n        if ($type.isNumber(removeCount)) {\r\n            while (removeCount > 0) {\r\n                var dataItem = this.dataItems.getIndex(0);\r\n                if (dataItem) {\r\n                    chart.dataItems.remove(dataItem);\r\n                }\r\n                chart.dataUsers.each(function (dataUser) {\r\n                    var dataItem = dataUser.dataItems.getIndex(0);\r\n                    if (dataItem) {\r\n                        dataUser.dataItems.remove(dataItem);\r\n                    }\r\n                });\r\n                chart._parseDataFrom--;\r\n                removeCount--;\r\n            }\r\n            chart.invalidateData();\r\n        }\r\n    };\r\n    /**\r\n     * Removes elements from the beginning of data\r\n     *\r\n     * @param count number of elements to remove\r\n     */\r\n    XYChart.prototype.removeData = function (count) {\r\n        if (this.scrollbarX instanceof XYChartScrollbar) {\r\n            this.removeScrollbarData(this.scrollbarX, count);\r\n        }\r\n        if (this.scrollbarY instanceof XYChartScrollbar) {\r\n            this.removeScrollbarData(this.scrollbarY, count);\r\n        }\r\n        _super.prototype.removeData.call(this, count);\r\n    };\r\n    /**\r\n     * @param  value  Tap to activate?\r\n     */\r\n    XYChart.prototype.setTapToActivate = function (value) {\r\n        _super.prototype.setTapToActivate.call(this, value);\r\n        if (this.cursor) {\r\n            this.cursor.interactions.isTouchProtected = value;\r\n            this.plotContainer.interactions.isTouchProtected = value;\r\n        }\r\n    };\r\n    XYChart.prototype.handleTapToActivate = function () {\r\n        _super.prototype.handleTapToActivate.call(this);\r\n        if (this.cursor) {\r\n            this.cursor.interactions.isTouchProtected = false;\r\n            this.plotContainer.interactions.isTouchProtected = false;\r\n        }\r\n    };\r\n    XYChart.prototype.handleTapToActivateDeactivation = function () {\r\n        _super.prototype.handleTapToActivateDeactivation.call(this);\r\n        if (this.cursor) {\r\n            this.cursor.interactions.isTouchProtected = true;\r\n            this.plotContainer.interactions.isTouchProtected = true;\r\n        }\r\n    };\r\n    return XYChart;\r\n}(SerialChart));\r\nexport { XYChart };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"XYChart\"] = XYChart;\r\n/**\r\n * Add default responsive rules\r\n */\r\n/**\r\n * Remove horizontal scrollbar on narrow charts.\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.maybeXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof XYChart && target.scrollbarX) {\r\n            var state = target.states.create(stateId);\r\n            var sbstate = target.scrollbarX.states.create(stateId);\r\n            sbstate.properties.disabled = true;\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n/**\r\n * Remove vertical scrollbar on short charts.\r\n */\r\ndefaultRules.push({\r\n    relevant: ResponsiveBreakpoints.maybeXS,\r\n    state: function (target, stateId) {\r\n        if (target instanceof XYChart && target.scrollbarY) {\r\n            var state = target.states.create(stateId);\r\n            var sbstate = target.scrollbarY.states.create(stateId);\r\n            sbstate.properties.disabled = true;\r\n            return state;\r\n        }\r\n        return null;\r\n    }\r\n});\r\n//# sourceMappingURL=XYChart.js.map","/**\r\n * Module for building 3D serial charts.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * Imports\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { XYChart, XYChartDataItem } from \"./XYChart\";\r\nimport { Container } from \"../../core/Container\";\r\nimport { Sprite } from \"../../core/Sprite\";\r\nimport { AxisRendererX3D } from \"../axes/AxisRendererX3D\";\r\nimport { AxisRendererY3D } from \"../axes/AxisRendererY3D\";\r\nimport { ColumnSeries3D } from \"../series/ColumnSeries3D\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $math from \"../../core/utils/Math\";\r\nimport * as $type from \"../../core/utils/Type\";\r\nimport * as $path from \"../../core/rendering/Path\";\r\nimport * as $utils from \"../../core/utils/Utils\";\r\n/**\r\n * ============================================================================\r\n * DATA ITEM\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Defines a [[DataItem]] for [[XYChart3D]].\r\n *\r\n * @see {@link DataItem}\r\n */\r\nvar XYChart3DDataItem = /** @class */ (function (_super) {\r\n    __extends(XYChart3DDataItem, _super);\r\n    function XYChart3DDataItem() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"XYChart3DDataItem\";\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    return XYChart3DDataItem;\r\n}(XYChartDataItem));\r\nexport { XYChart3DDataItem };\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Creates a 3D XY chart.\r\n *\r\n * @see {@link IXYChart3DEvents} for a list of available Events\r\n * @see {@link IXYChart3DAdapters} for a list of available Adapters\r\n * @see {@link https://www.amcharts.com/docs/v4/chart-types/xy-chart/} for documentation\r\n * @important\r\n */\r\nvar XYChart3D = /** @class */ (function (_super) {\r\n    __extends(XYChart3D, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function XYChart3D() {\r\n        var _this = \r\n        // Init\r\n        _super.call(this) || this;\r\n        /**\r\n         * Type of the axis renderer to use for X axes.\r\n         */\r\n        _this._axisRendererX = AxisRendererX3D;\r\n        /**\r\n         * Type of the axis renderer to use for Y axes.\r\n         */\r\n        _this._axisRendererY = AxisRendererY3D;\r\n        _this.className = \"XYChart3D\";\r\n        // Set defaults\r\n        _this.depth = 30;\r\n        _this.angle = 30;\r\n        // Creeate container for columns\r\n        var columnsContainer = _this.seriesContainer.createChild(Container);\r\n        columnsContainer.shouldClone = false;\r\n        columnsContainer.isMeasured = false;\r\n        columnsContainer.layout = \"none\";\r\n        _this.columnsContainer = columnsContainer;\r\n        _this.columnsContainer.mask = _this.createChild(Sprite);\r\n        // Apply theme\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * This is done because for some reason IE doesn't change mask if path of a\r\n     * mask changes.\r\n     */\r\n    XYChart3D.prototype.updateSeriesMasks = function () {\r\n        _super.prototype.updateSeriesMasks.call(this);\r\n        if ($utils.isIE()) {\r\n            var columnsContainer = this.columnsContainer;\r\n            var mask = columnsContainer.mask;\r\n            columnsContainer.mask = undefined;\r\n            columnsContainer.mask = mask;\r\n        }\r\n    };\r\n    Object.defineProperty(XYChart3D.prototype, \"depth\", {\r\n        /**\r\n         * @return Depth (px)\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"depth\");\r\n        },\r\n        /**\r\n         * Depth of the 3D chart / columns in pixels.\r\n         *\r\n         * @param value  Depth (px)\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"depth\", value);\r\n            this.fixLayout();\r\n            this.invalidateDataUsers();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYChart3D.prototype, \"angle\", {\r\n        /**\r\n         * @return Angle\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"angle\");\r\n        },\r\n        /**\r\n         * Angle the chart is viewed at.\r\n         *\r\n         * @todo Description (review)\r\n         * @param value  Angle\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"angle\", value);\r\n            this.fixLayout();\r\n            this.invalidateDataUsers();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYChart3D.prototype, \"dx3D\", {\r\n        /**\r\n         * A calculated horizontal 3D offset (px).\r\n         *\r\n         * @readonly\r\n         * @return Offset (px)\r\n         */\r\n        get: function () {\r\n            return $math.cos(this.angle) * this.depth;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(XYChart3D.prototype, \"dy3D\", {\r\n        /**\r\n         * A calculated vertical 3D offset (px).\r\n         *\r\n         * @readonly\r\n         * @return Offset (px)\r\n         */\r\n        get: function () {\r\n            return -$math.sin(this.angle) * this.depth;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * (Re)validates layout\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    XYChart3D.prototype.validateLayout = function () {\r\n        _super.prototype.validateLayout.call(this);\r\n        this.fixColumns();\r\n    };\r\n    /**\r\n     * Updates the layout (padding and scrollbar positions) to accommodate for\r\n     * 3D depth and angle.\r\n     */\r\n    XYChart3D.prototype.fixLayout = function () {\r\n        this.chartContainer.marginTop = -this.dy3D;\r\n        this.chartContainer.paddingRight = this.dx3D;\r\n        if (this.scrollbarX) {\r\n            this.scrollbarX.dy = this.dy3D;\r\n            this.scrollbarX.dx = this.dx3D;\r\n        }\r\n        if (this.scrollbarY) {\r\n            this.scrollbarY.dy = this.dy3D;\r\n            this.scrollbarY.dx = this.dx3D;\r\n        }\r\n        this.fixColumns();\r\n        _super.prototype.fixLayout.call(this);\r\n    };\r\n    /**\r\n     * Updates column positions, offset and dimensions based on chart's angle\r\n     * and depth.\r\n     */\r\n    XYChart3D.prototype.fixColumns = function () {\r\n        var _this = this;\r\n        var count = 1;\r\n        var i = 0;\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            if (series instanceof ColumnSeries3D) {\r\n                if (!series.clustered && i > 0) {\r\n                    count++;\r\n                }\r\n                series.depthIndex = count - 1;\r\n                i++;\r\n            }\r\n        });\r\n        var s = 0;\r\n        $iter.each(this.series.iterator(), function (series) {\r\n            if (series instanceof ColumnSeries3D) {\r\n                series.depth = _this.depth / (count);\r\n                series.angle = _this.angle;\r\n                if (series.columnsContainer == _this.columnsContainer) {\r\n                    series.dx = _this.depth / (count) * $math.cos(_this.angle) * (series.depthIndex);\r\n                    series.dy = -_this.depth / (count) * $math.sin(_this.angle) * (series.depthIndex);\r\n                }\r\n                var inversed_1 = false;\r\n                if ((series.baseAxis == series.xAxis && series.xAxis.renderer.inversed) || (series.baseAxis == series.yAxis && series.yAxis.renderer.inversed)) {\r\n                    inversed_1 = true;\r\n                }\r\n                var i_1 = 1;\r\n                series.dataItems.each(function (dataItem) {\r\n                    var column = dataItem.column;\r\n                    if (column) {\r\n                        if (inversed_1) {\r\n                            column.zIndex = 1000 * (1000 - i_1) + s - series.depthIndex * 100;\r\n                        }\r\n                        else {\r\n                            column.zIndex = 1000 * i_1 + s - series.depthIndex * 100;\r\n                        }\r\n                    }\r\n                    i_1++;\r\n                });\r\n                if (inversed_1) {\r\n                    s--;\r\n                }\r\n                else {\r\n                    s++;\r\n                }\r\n            }\r\n        });\r\n        this.maskColumns();\r\n    };\r\n    /**\r\n     * Processes JSON-based config before it is applied to the object.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param config  Config\r\n     */\r\n    XYChart3D.prototype.processConfig = function (config) {\r\n        if (config) {\r\n            // Set up series\r\n            if ($type.hasValue(config.series) && $type.isArray(config.series)) {\r\n                for (var i = 0, len = config.series.length; i < len; i++) {\r\n                    config.series[i].type = config.series[i].type || \"ColumnSeries3D\";\r\n                }\r\n            }\r\n        }\r\n        _super.prototype.processConfig.call(this, config);\r\n    };\r\n    XYChart3D.prototype.maskColumns = function () {\r\n        var w = this.plotContainer.pixelWidth;\r\n        var h = this.plotContainer.pixelHeight;\r\n        var dx = this.dx3D;\r\n        var dy = this.dy3D;\r\n        var path = $path.moveTo({ x: 0, y: 0 }) + $path.lineTo({ x: dx, y: dy }) + $path.lineTo({ x: w + dx, y: dy }) + $path.lineTo({ x: w + dx, y: h + dy }) + $path.lineTo({ x: w, y: h }) + $path.lineTo({ x: w, y: h }) + $path.lineTo({ x: 0, y: h }) + $path.closePath();\r\n        var columnsContainer = this.columnsContainer;\r\n        if (columnsContainer && columnsContainer.mask) {\r\n            columnsContainer.mask.path = path;\r\n        }\r\n    };\r\n    return XYChart3D;\r\n}(XYChart));\r\nexport { XYChart3D };\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"XYChart3D\"] = XYChart3D;\r\n//# sourceMappingURL=XYChart3D.js.map","/**\r\n * Functionality for drawing quadratic curves.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Line } from \"./Line\";\r\nimport { color } from \"../utils/Color\";\r\nimport * as $path from \"../rendering/Path\";\r\nimport * as $math from \"../utils/Math\";\r\nimport * as $type from \"../utils/Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Draws a waved line.\r\n *\r\n * @see {@link IQuadraticCurveEvents} for a list of available events\r\n * @see {@link IQuadraticCurveAdapters} for a list of available Adapters\r\n */\r\nvar QuadraticCurve = /** @class */ (function (_super) {\r\n    __extends(QuadraticCurve, _super);\r\n    /**\r\n     * Constructor\r\n     */\r\n    function QuadraticCurve() {\r\n        var _this = _super.call(this) || this;\r\n        _this.className = \"QuadraticCurve\";\r\n        _this.element = _this.paper.add(\"path\");\r\n        _this.pixelPerfect = false;\r\n        _this.fill = color();\r\n        _this.applyTheme();\r\n        return _this;\r\n    }\r\n    /**\r\n     * Draws the waved line.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    QuadraticCurve.prototype.draw = function () {\r\n        //super.draw();\r\n        if ($type.isNumber(this.x1 + this.x2 + this.y1 + this.y2 + this.cpx + this.cpy)) {\r\n            var p1 = { x: this.x1, y: this.y1 };\r\n            var p2 = { x: this.x2, y: this.y2 };\r\n            var cp = { x: this.cpx, y: this.cpy };\r\n            var d = $path.moveTo(p1) + $path.quadraticCurveTo(p2, cp);\r\n            this.path = d;\r\n        }\r\n    };\r\n    Object.defineProperty(QuadraticCurve.prototype, \"cpx\", {\r\n        /**\r\n         * @return X\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cpx\");\r\n        },\r\n        /**\r\n         * X coordinate of control point.\r\n         *\r\n         * @param value X\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"cpx\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(QuadraticCurve.prototype, \"cpy\", {\r\n        /**\r\n         * @return Y\r\n         */\r\n        get: function () {\r\n            return this.getPropertyValue(\"cpy\");\r\n        },\r\n        /**\r\n         * Y coordinate of control point.\r\n         *\r\n         * @param value Y\r\n         */\r\n        set: function (value) {\r\n            this.setPropertyValue(\"cpy\", value, true);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Converts relative position along the line (0-1) into pixel coordinates.\r\n     *\r\n     * @param position  Position (0-1)\r\n     * @return Coordinates\r\n     */\r\n    QuadraticCurve.prototype.positionToPoint = function (position) {\r\n        var p1 = { x: this.x1, y: this.y1 };\r\n        var cp = { x: this.cpx, y: this.cpy };\r\n        var p2 = { x: this.x2, y: this.y2 };\r\n        var point1 = $math.getPointOnQuadraticCurve(p1, p2, cp, position);\r\n        var point2 = $math.getPointOnQuadraticCurve(p1, p2, cp, position + 0.001);\r\n        return { x: point1.x, y: point1.y, angle: $math.getAngle(point1, point2) };\r\n    };\r\n    return QuadraticCurve;\r\n}(Line));\r\nexport { QuadraticCurve };\r\n//# sourceMappingURL=QuadraticCurve.js.map","/**\r\n * Module: gauge\r\n */\r\n/**\r\n * Elements: types\r\n */\r\nexport { GaugeChartDataItem, GaugeChart } from \"./.internal/charts/types/GaugeChart\";\r\nexport { RadarChartDataItem, RadarChart } from \"./.internal/charts/types/RadarChart\";\r\nexport { XYChartDataItem, XYChart } from \"./.internal/charts/types/XYChart\";\r\nexport { SerialChartDataItem, SerialChart } from \"./.internal/charts/types/SerialChart\";\r\nexport { PieChart3DDataItem, PieChart3D } from \"./.internal/charts/types/PieChart3D\";\r\nexport { PieChartDataItem, PieChart } from \"./.internal/charts/types/PieChart\";\r\nexport { SlicedChart, SlicedChartDataItem } from \"./.internal/charts/types/SlicedChart\";\r\nexport { FlowDiagramDataItem, FlowDiagram } from \"./.internal/charts/types/FlowDiagram\";\r\nexport { SankeyDiagramDataItem, SankeyDiagram } from \"./.internal/charts/types/SankeyDiagram\";\r\nexport { ChordDiagramDataItem, ChordDiagram } from \"./.internal/charts/types/ChordDiagram\";\r\nexport { TreeMapDataItem, TreeMap } from \"./.internal/charts/types/TreeMap\";\r\nexport { XYChart3DDataItem, XYChart3D } from \"./.internal/charts/types/XYChart3D\";\r\n/**\r\n * Elements: charts\r\n */\r\nexport { ChartDataItem, Chart } from \"./.internal/charts/Chart\";\r\nexport { LegendDataItem, Legend, LegendSettings } from \"./.internal/charts/Legend\";\r\nexport { HeatLegend } from \"./.internal/charts/elements/HeatLegend\";\r\n/**\r\n * Elements: series\r\n */\r\nexport { SeriesDataItem, Series } from \"./.internal/charts/series/Series\";\r\nexport { XYSeriesDataItem, XYSeries } from \"./.internal/charts/series/XYSeries\";\r\nexport { LineSeriesDataItem, LineSeries } from \"./.internal/charts/series/LineSeries\";\r\nexport { LineSeriesSegment } from \"./.internal/charts/series/LineSeriesSegment\";\r\nexport { CandlestickSeriesDataItem, CandlestickSeries } from \"./.internal/charts/series/CandlestickSeries\";\r\nexport { OHLCSeriesDataItem, OHLCSeries } from \"./.internal/charts/series/OHLCSeries\";\r\nexport { ColumnSeriesDataItem, ColumnSeries } from \"./.internal/charts/series/ColumnSeries\";\r\nexport { StepLineSeriesDataItem, StepLineSeries } from \"./.internal/charts/series/StepLineSeries\";\r\nexport { RadarSeriesDataItem, RadarSeries } from \"./.internal/charts/series/RadarSeries\";\r\nexport { RadarColumnSeriesDataItem, RadarColumnSeries } from \"./.internal/charts/series/RadarColumnSeries\";\r\nexport { PieSeriesDataItem, PieSeries } from \"./.internal/charts/series/PieSeries\";\r\nexport { FunnelSeries, FunnelSeriesDataItem } from \"./.internal/charts/series/FunnelSeries\";\r\nexport { PyramidSeries, PyramidSeriesDataItem } from \"./.internal/charts/series/PyramidSeries\";\r\nexport { PictorialStackedSeries, PictorialStackedSeriesDataItem } from \"./.internal/charts/series/PictorialStackedSeries\";\r\nexport { PieTick } from \"./.internal/charts/elements/PieTick\";\r\nexport { FunnelSlice } from \"./.internal/charts/elements/FunnelSlice\";\r\nexport { PieSeries3DDataItem, PieSeries3D } from \"./.internal/charts/series/PieSeries3D\";\r\nexport { TreeMapSeriesDataItem, TreeMapSeries } from \"./.internal/charts/series/TreeMapSeries\";\r\nexport { ColumnSeries3DDataItem, ColumnSeries3D } from \"./.internal/charts/series/ColumnSeries3D\";\r\nexport { ConeSeriesDataItem, ConeSeries } from \"./.internal/charts/series/ConeSeries\";\r\nexport { CurvedColumnSeries, CurvedColumnSeriesDataItem } from \"./.internal/charts/series/CurvedColumnSeries\";\r\n/**\r\n * Elements: axes\r\n */\r\nexport { AxisDataItem, Axis } from \"./.internal/charts/axes/Axis\";\r\nexport { Grid } from \"./.internal/charts/axes/Grid\";\r\nexport { AxisTick } from \"./.internal/charts/axes/AxisTick\";\r\nexport { AxisLabel } from \"./.internal/charts/axes/AxisLabel\";\r\nexport { AxisLine } from \"./.internal/charts/axes/AxisLine\";\r\nexport { AxisFill } from \"./.internal/charts/axes/AxisFill\";\r\nexport { AxisRenderer } from \"./.internal/charts/axes/AxisRenderer\";\r\nexport { AxisBreak } from \"./.internal/charts/axes/AxisBreak\";\r\nexport { AxisBullet } from \"./.internal/charts/axes/AxisBullet\";\r\nexport { ValueAxisDataItem, ValueAxis } from \"./.internal/charts/axes/ValueAxis\";\r\nexport { CategoryAxisDataItem, CategoryAxis } from \"./.internal/charts/axes/CategoryAxis\";\r\nexport { CategoryAxisBreak } from \"./.internal/charts/axes/CategoryAxisBreak\";\r\nexport { DateAxisDataItem, DateAxis } from \"./.internal/charts/axes/DateAxis\";\r\nexport { DurationAxisDataItem, DurationAxis } from \"./.internal/charts/axes/DurationAxis\";\r\nexport { DateAxisBreak } from \"./.internal/charts/axes/DateAxisBreak\";\r\nexport { ValueAxisBreak } from \"./.internal/charts/axes/ValueAxisBreak\";\r\nexport { AxisRendererX } from \"./.internal/charts/axes/AxisRendererX\";\r\nexport { AxisRendererY } from \"./.internal/charts/axes/AxisRendererY\";\r\nexport { AxisRendererRadial } from \"./.internal/charts/axes/AxisRendererRadial\";\r\nexport { AxisLabelCircular } from \"./.internal/charts/axes/AxisLabelCircular\";\r\nexport { AxisRendererCircular } from \"./.internal/charts/axes/AxisRendererCircular\";\r\nexport { AxisFillCircular } from \"./.internal/charts/axes/AxisFillCircular\";\r\nexport { GridCircular } from \"./.internal/charts/axes/GridCircular\";\r\nexport { AxisRendererX3D } from \"./.internal/charts/axes/AxisRendererX3D\";\r\nexport { AxisRendererY3D } from \"./.internal/charts/axes/AxisRendererY3D\";\r\n/**\r\n * Elements: elements\r\n */\r\nexport { Tick } from \"./.internal/charts/elements/Tick\";\r\nexport { Bullet } from \"./.internal/charts/elements/Bullet\";\r\nexport { LabelBullet } from \"./.internal/charts/elements/LabelBullet\";\r\nexport { CircleBullet } from \"./.internal/charts/elements/CircleBullet\";\r\nexport { ErrorBullet } from \"./.internal/charts/elements/ErrorBullet\";\r\nexport { XYChartScrollbar } from \"./.internal/charts/elements/XYChartScrollbar\";\r\nexport { ClockHand } from \"./.internal/charts/elements/ClockHand\";\r\nexport { FlowDiagramNode } from \"./.internal/charts/elements/FlowDiagramNode\";\r\nexport { FlowDiagramLink } from \"./.internal/charts/elements/FlowDiagramLink\";\r\nexport { SankeyNode } from \"./.internal/charts/elements/SankeyNode\";\r\nexport { SankeyLink } from \"./.internal/charts/elements/SankeyLink\";\r\nexport { ChordNode } from \"./.internal/charts/elements/ChordNode\";\r\nexport { ChordLink } from \"./.internal/charts/elements/ChordLink\";\r\nexport { NavigationBarDataItem, NavigationBar } from \"./.internal/charts/elements/NavigationBar\";\r\nexport { Column } from \"./.internal/charts/elements/Column\";\r\nexport { Candlestick } from \"./.internal/charts/elements/Candlestick\";\r\nexport { OHLC } from \"./.internal/charts/elements/OHLC\";\r\nexport { RadarColumn } from \"./.internal/charts/elements/RadarColumn\";\r\nexport { Column3D } from \"./.internal/charts/elements/Column3D\";\r\nexport { ConeColumn } from \"./.internal/charts/elements/ConeColumn\";\r\nexport { CurvedColumn } from \"./.internal/charts/elements/CurvedColumn\";\r\n/**\r\n * Elements: cursors\r\n */\r\nexport { XYCursor } from \"./.internal/charts/cursors/XYCursor\";\r\nexport { Cursor } from \"./.internal/charts/cursors/Cursor\";\r\nexport { RadarCursor } from \"./.internal/charts/cursors/RadarCursor\";\r\n//# sourceMappingURL=charts.js.map","export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-sm-12 col-lg-6\\\">\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Simple Column Chart</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart1\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Layered Column Chart</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart2\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Bar and line chart mix</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart3\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Line Chart with Scroll and Zoom</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart4\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Radar Chart</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart5\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Polar Chart</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart6\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n  </div>\\n  <div class=\\\"col-sm-12 col-lg-6\\\">\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Column and Line Mix Chart</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart7\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Stacked Column Chart</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart8\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Date Based Data</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart9\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> zoomable on Value Axis</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart10\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Polar Scatter</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart11\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> 3D Pie Chart</h4>\\n      </div>\\n      <div card-bottom id=\\\"chart12\\\" style=\\\"width: 100%; height: 500px\\\"></div>\\n    </app-iq-card>\\n  </div>\\n</div>\\n\";","export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-sm-12 col-lg-6\\\">\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Line Chart</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"line1\\\" [options]=\\\"line1\\\"></app-apex-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Column Chart</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"column1\\\" [options]=\\\"column1\\\"></app-apex-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Mixes Chart</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"mixed1\\\" [options]=\\\"mixed1\\\"></app-apex-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Bubble Charts</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"bubble1\\\" [options]=\\\"bubble1\\\"></app-apex-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Pie Charts</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"chart1\\\" [options]=\\\"chart1\\\"></app-apex-chart>\\n    </app-iq-card>\\n  </div>\\n  <div class=\\\"col-sm-12 col-lg-6\\\">\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Line Area Chart</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"area1\\\" [options]=\\\"area1\\\"></app-apex-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Bar Chart</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"bar2\\\" [options]=\\\"bar2\\\"></app-apex-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\"> Candlestick Charts</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"candle1\\\" [options]=\\\"candle1\\\"></app-apex-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">  Scatter Charts</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"scatter\\\" [options]=\\\"scatter\\\"></app-apex-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Radial Bar Charts</h4>\\n      </div>\\n      <app-apex-chart card-bottom ids=\\\"radial\\\" [options]=\\\"radial\\\"></app-apex-chart>\\n    </app-iq-card>\\n  </div>\\n</div>\\n\";","export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-sm-12 col-lg-6\\\">\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Basic line Chart</h4>\\n      </div>\\n      <div id=\\\"high-basicline-chart\\\"></div>\\n      <app-high-chart card-bottom ids=\\\"chart1\\\" [options]=\\\"chart1\\\"></app-high-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Column and Bar Chart</h4>\\n      </div>\\n      <app-high-chart card-bottom ids=\\\"chart2\\\" [options]=\\\"chart2\\\"></app-high-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Pie Chart</h4>\\n      </div>\\n      <app-high-chart card-bottom ids=\\\"chart3\\\" [options]=\\\"chart3\\\"></app-high-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Dynamic Chart</h4>\\n      </div>\\n      <app-high-chart card-bottom ids=\\\"chart4\\\" [options]=\\\"chart4\\\"></app-high-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Gauges Chart</h4>\\n      </div>\\n      <app-high-chart card-bottom ids=\\\"chart5\\\" [options]=\\\"chart5\\\"></app-high-chart>\\n    </app-iq-card>\\n  </div>\\n  <div class=\\\"col-sm-12 col-lg-6\\\">\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Area Chart</h4>\\n      </div>\\n      <app-high-chart card-bottom ids=\\\"chart6\\\" [options]=\\\"chart6\\\"></app-high-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Scatter plot Chart</h4>\\n      </div>\\n      <app-high-chart card-bottom ids=\\\"chart7\\\" [options]=\\\"chart7\\\"></app-high-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Dual axes, line and column Chart</h4>\\n      </div>\\n      <app-high-chart card-bottom ids=\\\"chart8\\\" [options]=\\\"chart8\\\"></app-high-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">3D Chart</h4>\\n      </div>\\n      <app-high-chart card-bottom ids=\\\"chart9\\\" [options]=\\\"chart9\\\"></app-high-chart>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Bar With Nagative Chart</h4>\\n      </div>\\n      <app-high-chart card-bottom ids=\\\"chart10\\\" [options]=\\\"chart10\\\"></app-high-chart>\\n    </app-iq-card>\\n  </div>\\n</div>\\n\";","export default \"<div class=\\\"row\\\">\\n  <div class=\\\"col-sm-12 col-lg-6\\\">\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Line Chart</h4>\\n      </div>\\n      <div id=\\\"morris-line-chart\\\" style=\\\"height: 300px; margin-bottom: 40px;\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Area Chart</h4>\\n      </div>\\n      <div id=\\\"morris-area-chart\\\" style=\\\"height: 300px;\\\"></div>\\n    </app-iq-card>\\n  </div>\\n  <div class=\\\"col-sm-12 col-lg-6\\\">\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Bar Chart</h4>\\n      </div>\\n      <div id=\\\"morris-bar-chart\\\" style=\\\"height: 300px; margin-bottom: 90px;\\\"></div>\\n    </app-iq-card>\\n    <app-iq-card>\\n      <div card-header class=\\\"iq-header-title\\\">\\n        <h4 class=\\\"card-title\\\">Donut Chart</h4>\\n      </div>\\n      <div id=\\\"morris-donut-chart\\\" style=\\\"height: 300px;\\\"></div>\\n    </app-iq-card>\\n  </div>\\n</div>\\n\";","import {Component, NgZone, OnInit} from '@angular/core';\nimport * as am4charts from '@amcharts/amcharts4/charts';\nimport * as am4core from '@amcharts/amcharts4/core';\n\n@Component({\n  selector: 'app-chart-am',\n  templateUrl: './chart-am.component.html',\n  styles: []\n})\nexport class ChartAmComponent implements OnInit {\n\n  private chart: am4charts.XYChart;\n\n  constructor(private zone: NgZone) {\n  }\n\n  public chart1 = function(element) {\n    const chart = am4core.create(element, am4charts.XYChart);\n    chart.colors.list = [am4core.color('#0084ff')];\n\n    // Add data\n    chart.data = [{\n      country: 'USA',\n      visits: 2025\n    }, {\n      country: 'China',\n      visits: 1882\n    }, {\n      country: 'Japan',\n      visits: 1809\n    }, {\n      country: 'Germany',\n      visits: 1322\n    }, {\n      country: 'UK',\n      visits: 1122\n    }, {\n      country: 'France',\n      visits: 1114\n    }];\n    const categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());\n    categoryAxis.dataFields.category = 'country';\n    categoryAxis.renderer.grid.template.location = 0;\n    categoryAxis.renderer.minGridDistance = 30;\n\n    categoryAxis.renderer.labels.template.adapter.add('dy', function(dy, target) {\n      if (target.dataItem && target.dataItem.index) {\n        return dy + 25;\n      }\n      return dy;\n    });\n\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n\n    // Create series\n    const series = chart.series.push(new am4charts.ColumnSeries());\n    series.dataFields.valueY = 'visits';\n    series.dataFields.categoryX = 'country';\n    series.name = 'Visits';\n    series.columns.template.tooltipText = '{categoryX}: [bold]{valueY}[/]';\n    series.columns.template.fillOpacity = .8;\n\n    const columnTemplate = series.columns.template;\n    columnTemplate.strokeWidth = 2;\n    columnTemplate.strokeOpacity = 1;\n  };\n  public chart2 = function(element) {\n    const chart = am4core.create(element, am4charts.XYChart);\n    chart.colors.list = [am4core.color('#00ca00'), am4core.color('#0084ff')];\n\n    // Add percent sign to all numbers\n    chart.numberFormatter.numberFormat = '#.#\\'%\\'';\n\n    // Add data\n    chart.data = [{\n      country: 'USA',\n      year2004: 3.5,\n      year2005: 4.2\n    }, {\n      country: 'UK',\n      year2004: 1.7,\n      year2005: 3.1\n    }, {\n      country: 'Canada',\n      year2004: 2.8,\n      year2005: 2.9\n    }, {\n      country: 'Japan',\n      year2004: 2.6,\n      year2005: 2.3\n    }, {\n      country: 'France',\n      year2004: 1.4,\n      year2005: 2.1\n    }, {\n      country: 'Brazil',\n      year2004: 2.6,\n      year2005: 4.9\n    }];\n    // Create axes\n    const categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());\n    categoryAxis.dataFields.category = 'country';\n    categoryAxis.renderer.grid.template.location = 0;\n    categoryAxis.renderer.minGridDistance = 30;\n\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.title.text = 'GDP growth rate';\n    valueAxis.title.fontWeight = '800';\n\n    // Create series\n    const series = chart.series.push(new am4charts.ColumnSeries());\n    series.dataFields.valueY = 'year2004';\n    series.dataFields.categoryX = 'country';\n    series.clustered = false;\n    series.tooltipText = 'GDP grow in {categoryX} (2004): [bold]{valueY}[/]';\n\n    const series2 = chart.series.push(new am4charts.ColumnSeries());\n    series2.dataFields.valueY = 'year2005';\n    series2.dataFields.categoryX = 'country';\n    series2.clustered = false;\n    series2.columns.template.width = am4core.percent(50);\n    series2.tooltipText = 'GDP grow in {categoryX} (2005): [bold]{valueY}[/]';\n\n    chart.cursor = new am4charts.XYCursor();\n    chart.cursor.lineX.disabled = true;\n    chart.cursor.lineY.disabled = true;\n  };\n  public chart3 = function(element) {\n    const chart = am4core.create(element, am4charts.XYChart);\n    chart.colors.list = [am4core.color('#57aeff'),\n        am4core.color('#0084ff')];\n\n    chart.data = [{\n                year: 2005,\n                income: 23.5,\n                expenses: 18.1\n            }, {\n                year: '2006',\n                income: 26.2,\n                expenses: 22.8\n            }, {\n                year: '2007',\n                income: 30.1,\n                expenses: 23.9\n            }, {\n                year: '2008',\n                income: 29.5,\n                expenses: 25.1\n            }, {\n                year: '2009',\n                income: 24.6,\n                expenses: 25\n            }];\n\n        // create category axis for years\n    const categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());\n    categoryAxis.dataFields.category = 'year';\n    categoryAxis.renderer.inversed = true;\n    categoryAxis.renderer.grid.template.location = 0;\n\n        // create value axis for income and expenses\n    const valueAxis = chart.xAxes.push(new am4charts.ValueAxis());\n    valueAxis.renderer.opposite = true;\n\n\n        // create columns\n    const series = chart.series.push(new am4charts.ColumnSeries());\n    series.dataFields.categoryY = 'year';\n    series.dataFields.valueX = 'income';\n    series.name = 'Income';\n    series.columns.template.fillOpacity = 0.5;\n    series.columns.template.strokeOpacity = 0;\n    series.tooltipText = 'Income in {categoryY}: {valueX.value}';\n\n        // create line\n    const lineSeries = chart.series.push(new am4charts.LineSeries());\n    lineSeries.dataFields.categoryY = 'year';\n    lineSeries.dataFields.valueX = 'expenses';\n    lineSeries.name = 'Expenses';\n    lineSeries.strokeWidth = 3;\n    lineSeries.tooltipText = 'Expenses in {categoryY}: {valueX.value}';\n\n        // add bullets\n    const circleBullet = lineSeries.bullets.push(new am4charts.CircleBullet());\n    circleBullet.circle.fill = am4core.color('#fff');\n    circleBullet.circle.strokeWidth = 2;\n\n        // add chart cursor\n    chart.cursor = new am4charts.XYCursor();\n    chart.cursor.behavior = 'zoomY';\n\n        // add legend\n    chart.legend = new am4charts.Legend();\n  };\n  public chart4 = function(element) {\n    const chart = am4core.create(element, am4charts.XYChart);\n    chart.colors.list = [am4core.color('#57aeff')];\n\n    // Add data\n    chart.data = generateChartData();\n\n    // Create axes\n    const dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.minGridDistance = 50;\n\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n\n    // Create series\n    const series = chart.series.push(new am4charts.LineSeries());\n    series.dataFields.valueY = 'visits';\n    series.dataFields.dateX = 'date';\n    series.strokeWidth = 2;\n    series.minBulletDistance = 10;\n    series.tooltipText = '{valueY}';\n    series.tooltip.pointerOrientation = 'vertical';\n    series.tooltip.background.cornerRadius = 20;\n    series.tooltip.background.fillOpacity = 0.5;\n    series.tooltip.label.padding(12, 12, 12, 12);\n\n    // Add scrollbar\n    const scrollbarX = new am4charts.XYChartScrollbar();\n    scrollbarX.series.push(series);\n    chart.scrollbarX = scrollbarX;\n\n    // Add cursor\n    chart.cursor = new am4charts.XYCursor();\n    chart.cursor.xAxis = dateAxis;\n    chart.cursor.snapToSeries = series;\n\n    function generateChartData() {\n      const chartData = [];\n      const firstDate = new Date();\n      firstDate.setDate(firstDate.getDate() - 1000);\n      let visits = 1200;\n      for (let i = 0; i < 500; i++) {\n        const newDate = new Date(firstDate);\n        newDate.setDate(newDate.getDate() + i);\n\n        visits += Math.round((Math.random() < 0.5 ? 1 : -1) * Math.random() * 10);\n\n        chartData.push({\n          date: newDate,\n          visits\n        });\n      }\n      return chartData;\n    }\n  };\n  public chart5 = function(element) {\n    const chart = am4core.create(element, am4charts.RadarChart);\n    chart.colors.list = [am4core.color('#57aeff')];\n\n    /* Add data */\n    chart.data = [{\n      country: 'Lithuania',\n      litres: 501\n    }, {\n      country: 'Czechia',\n      litres: 301\n    }, {\n      country: 'Ireland',\n      litres: 266\n    }, {\n      country: 'Germany',\n      litres: 165\n    }, {\n      country: 'Australia',\n      litres: 139\n    }, {\n      country: 'Austria',\n      litres: 336\n    }, {\n      country: 'UK',\n      litres: 290\n    }, {\n      country: 'Belgium',\n      litres: 325\n    }, {\n      country: 'The Netherlands',\n      litres: 40\n    }];\n\n    /* Create axes */\n    const categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis<am4charts.AxisRendererCircular>());\n    categoryAxis.dataFields.category = 'country';\n\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis<am4charts.AxisRendererRadial>());\n    valueAxis.renderer.axisFills.template.fill = chart.colors.getIndex(2);\n    valueAxis.renderer.axisFills.template.fillOpacity = 0.05;\n\n    /* Create and configure series */\n    const series = chart.series.push(new am4charts.RadarSeries());\n    series.dataFields.valueY = 'litres';\n    series.dataFields.categoryX = 'country';\n    series.name = 'Sales';\n    series.strokeWidth = 3;\n  };\n  public chart6 = function(element) {\n    const chart = am4core.create(element, am4charts.RadarChart);\n\n    /* Add data */\n    chart.data = [{\n      direction: 'N',\n      value: 8\n    }, {\n      direction: 'NE',\n      value: 9\n    }, {\n      direction: 'E',\n      value: 4.5\n    }, {\n      direction: 'SE',\n      value: 3.5\n    }, {\n      direction: 'S',\n      value: 9.2\n    }, {\n      direction: 'SW',\n      value: 8.4\n    }, {\n      direction: 'W',\n      value: 11.1\n    }, {\n      direction: 'NW',\n      value: 10\n    }];\n\n    /* Create axes */\n    const categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis<am4charts.AxisRendererCircular>());\n    categoryAxis.dataFields.category = 'direction';\n\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis<am4charts.AxisRendererRadial>());\n    valueAxis.renderer.gridType = 'polygons';\n\n    const range = categoryAxis.axisRanges.create();\n    range.category = 'NW';\n    range.endCategory = 'NW';\n    range.axisFill.fill = am4core.color('#0084ff');\n    range.axisFill.fillOpacity = 0.3;\n\n    const range2 = categoryAxis.axisRanges.create();\n    range2.category = 'N';\n    range2.endCategory = 'N';\n    range2.axisFill.fill = am4core.color('#e64141');\n    range2.axisFill.fillOpacity = 0.3;\n\n    const range3 = categoryAxis.axisRanges.create();\n    range3.category = 'SE';\n    range3.endCategory = 'SW';\n    range3.axisFill.fill = am4core.color('#00ca00');\n    range3.axisFill.fillOpacity = 0.3;\n    range3.locations.endCategory = 0;\n\n    /* Create and configure series */\n    const series = chart.series.push(new am4charts.RadarSeries());\n    series.dataFields.valueY = 'value';\n    series.dataFields.categoryX = 'direction';\n    series.name = 'Wind direction';\n    series.strokeWidth = 3;\n    series.fillOpacity = 0.2;\n  };\n  public chart7 = function(element) {\n    const chart = am4core.create(element, am4charts.XYChart);\n    chart.colors.list = [am4core.color('#73bbff'), ];\n\n    // Export\n    chart.exporting.menu = new am4core.ExportMenu();\n\n    // Data for both series\n    const data = [{\n      year: '2009',\n      income: 23.5,\n      expenses: 21.1\n    }, {\n      year: '2010',\n      income: 26.2,\n      expenses: 30.5\n    }, {\n      year: '2011',\n      income: 30.1,\n      expenses: 34.9\n    }, {\n      year: '2012',\n      income: 29.5,\n      expenses: 31.1\n    }, {\n      year: '2013',\n      income: 30.6,\n      expenses: 28.2,\n      lineDash: '5,5',\n    }, {\n      year: '2014',\n      income: 34.1,\n      expenses: 32.9,\n      strokeWidth: 1,\n      columnDash: '5,5',\n      fillOpacity: 0.2,\n      additional: '(projection)'\n    }];\n\n    /* Create axes */\n    const categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());\n    categoryAxis.dataFields.category = 'year';\n    categoryAxis.renderer.minGridDistance = 30;\n\n    /* Create value axis */\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n\n    /* Create series */\n    const columnSeries = chart.series.push(new am4charts.ColumnSeries());\n    columnSeries.name = 'Income';\n    columnSeries.dataFields.valueY = 'income';\n    columnSeries.dataFields.categoryX = 'year';\n\n    columnSeries.columns.template.tooltipText = '[#fff font-size: 15px]{name} in {categoryX}:\\n[/][#fff font-size: 20px]{valueY}[/] [#fff]{additional}[/]';\n    columnSeries.columns.template.propertyFields.fillOpacity = 'fillOpacity';\n    columnSeries.columns.template.propertyFields.stroke = 'stroke';\n    columnSeries.columns.template.propertyFields.strokeWidth = 'strokeWidth';\n    columnSeries.columns.template.propertyFields.strokeDasharray = 'columnDash';\n    columnSeries.tooltip.label.textAlign = 'middle';\n\n    const lineSeries = chart.series.push(new am4charts.LineSeries());\n    lineSeries.name = 'Expenses';\n    lineSeries.dataFields.valueY = 'expenses';\n    lineSeries.dataFields.categoryX = 'year';\n\n    lineSeries.stroke = am4core.color('#0084ff');\n    lineSeries.strokeWidth = 3;\n    lineSeries.propertyFields.strokeDasharray = 'lineDash';\n    lineSeries.tooltip.label.textAlign = 'middle';\n\n    const bullet = lineSeries.bullets.push(new am4charts.Bullet());\n    bullet.fill = am4core.color('#fdd400'); // tooltips grab fill from parent by default\n    bullet.tooltipText = '[#fff font-size: 15px]{name} in {categoryX}:\\n[/][#fff font-size: 20px]{valueY}[/] [#fff]{additional}[/]';\n    const circle = bullet.createChild(am4core.Circle);\n    circle.radius = 4;\n    circle.fill = am4core.color('#fff');\n    circle.strokeWidth = 3;\n\n    chart.data = data;\n  };\n  public chart8 = function(element) {\n    const chart = am4core.create(element, am4charts.XYChart);\n    chart.colors.list = [am4core.color('#ef8282'),\n    am4core.color('#57dc57'),\n    am4core.color('#ffe357')];\n    // Add data\n    chart.data = [{\n      year: '2016',\n      europe: 2.5,\n      namerica: 2.5,\n      asia: 2.1,\n      lamerica: 0.3,\n      meast: 0.2\n    }, {\n      year: '2017',\n      europe: 2.6,\n      namerica: 2.7,\n      asia: 2.2,\n      lamerica: 0.3,\n      meast: 0.3\n    }, {\n      year: '2018',\n      europe: 2.8,\n      namerica: 2.9,\n      asia: 2.4,\n      lamerica: 0.3,\n      meast: 0.3\n    }];\n\n    // Create axes\n    const categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());\n    categoryAxis.dataFields.category = 'year';\n    categoryAxis.renderer.grid.template.location = 0;\n\n\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.renderer.inside = true;\n    valueAxis.renderer.labels.template.disabled = true;\n    valueAxis.min = 0;\n\n    // Create series\n    function createSeries(field, name) {\n\n      // Set up series\n      const series = chart.series.push(new am4charts.ColumnSeries());\n      series.name = name;\n      series.dataFields.valueY = field;\n      series.dataFields.categoryX = 'year';\n      series.sequencedInterpolation = true;\n\n      // Make it stacked\n      series.stacked = true;\n\n      // Configure columns\n      series.columns.template.width = am4core.percent(60);\n      series.columns.template.tooltipText = '[bold]{name}[/]\\n[font-size:14px]{categoryX}: {valueY}';\n\n      // Add label\n      const labelBullet = series.bullets.push(new am4charts.LabelBullet());\n      labelBullet.label.text = '{valueY}';\n      labelBullet.locationY = 0.5;\n\n      return series;\n    }\n\n    createSeries('europe', 'Europe');\n    createSeries('namerica', 'North America');\n    createSeries('asia', 'Asia-Pacific');\n\n    // Legend\n    chart.legend = new am4charts.Legend();\n  };\n  public chart9 = function(element) {\n    const chart = am4core.create(element, am4charts.XYChart);\n    chart.colors.list = [am4core.color('#57aeff')];\n\n    // Add data\n    chart.data = [{\n      date: '2012-07-27',\n      value: 13\n    }, {\n      date: '2012-07-28',\n      value: 11\n    }, {\n      date: '2012-07-29',\n      value: 15\n    }, {\n      date: '2012-07-30',\n      value: 16\n    }, {\n      date: '2012-07-31',\n      value: 18\n    }, {\n      date: '2012-08-01',\n      value: 13\n    }, {\n      date: '2012-08-02',\n      value: 22\n    }, {\n      date: '2012-08-03',\n      value: 23\n    }, {\n      date: '2012-08-04',\n      value: 20\n    }, {\n      date: '2012-08-05',\n      value: 17\n    }, {\n      date: '2012-08-06',\n      value: 16\n    }, {\n      date: '2012-08-07',\n      value: 18\n    }, {\n      date: '2012-08-08',\n      value: 21\n    }, {\n      date: '2012-08-09',\n      value: 26\n    }, {\n      date: '2012-08-10',\n      value: 24\n    }, {\n      date: '2012-08-11',\n      value: 29\n    }, {\n      date: '2012-08-12',\n      value: 32\n    }, {\n      date: '2012-08-13',\n      value: 18\n    }, {\n      date: '2012-08-14',\n      value: 24\n    }, {\n      date: '2012-08-15',\n      value: 22\n    }, {\n      date: '2012-08-16',\n      value: 18\n    }, {\n      date: '2012-08-17',\n      value: 19\n    }, {\n      date: '2012-08-18',\n      value: 14\n    }, {\n      date: '2012-08-19',\n      value: 15\n    }, {\n      date: '2012-08-20',\n      value: 12\n    }, {\n      date: '2012-08-21',\n      value: 8\n    }, {\n      date: '2012-08-22',\n      value: 9\n    }, {\n      date: '2012-08-23',\n      value: 8\n    }, {\n      date: '2012-08-24',\n      value: 7\n    }, {\n      date: '2012-08-25',\n      value: 5\n    }, {\n      date: '2012-08-26',\n      value: 11\n    }, {\n      date: '2012-08-27',\n      value: 13\n    }, {\n      date: '2012-08-28',\n      value: 18\n    }, {\n      date: '2012-08-29',\n      value: 20\n    }, {\n      date: '2012-08-30',\n      value: 29\n    }, {\n      date: '2012-08-31',\n      value: 33\n    }, {\n      date: '2012-09-01',\n      value: 42\n    }, {\n      date: '2012-09-02',\n      value: 35\n    }, {\n      date: '2012-09-03',\n      value: 31\n    }, {\n      date: '2012-09-04',\n      value: 47\n    }, {\n      date: '2012-09-05',\n      value: 52\n    }, {\n      date: '2012-09-06',\n      value: 46\n    }, {\n      date: '2012-09-07',\n      value: 41\n    }, {\n      date: '2012-09-08',\n      value: 43\n    }, {\n      date: '2012-09-09',\n      value: 40\n    }, {\n      date: '2012-09-10',\n      value: 39\n    }, {\n      date: '2012-09-11',\n      value: 34\n    }, {\n      date: '2012-09-12',\n      value: 29\n    }, {\n      date: '2012-09-13',\n      value: 34\n    }, {\n      date: '2012-09-14',\n      value: 37\n    }, {\n      date: '2012-09-15',\n      value: 42\n    }, {\n      date: '2012-09-16',\n      value: 49\n    }, {\n      date: '2012-09-17',\n      value: 46\n    }, {\n      date: '2012-09-18',\n      value: 47\n    }, {\n      date: '2012-09-19',\n      value: 55\n    }, {\n      date: '2012-09-20',\n      value: 59\n    }, {\n      date: '2012-09-21',\n      value: 58\n    }, {\n      date: '2012-09-22',\n      value: 57\n    }, {\n      date: '2012-09-23',\n      value: 61\n    }, {\n      date: '2012-09-24',\n      value: 59\n    }, {\n      date: '2012-09-25',\n      value: 67\n    }, {\n      date: '2012-09-26',\n      value: 65\n    }, {\n      date: '2012-09-27',\n      value: 61\n    }, {\n      date: '2012-09-28',\n      value: 66\n    }, {\n      date: '2012-09-29',\n      value: 69\n    }, {\n      date: '2012-09-30',\n      value: 71\n    }, {\n      date: '2012-10-01',\n      value: 67\n    }, {\n      date: '2012-10-02',\n      value: 63\n    }, {\n      date: '2012-10-03',\n      value: 46\n    }, {\n      date: '2012-10-04',\n      value: 32\n    }, {\n      date: '2012-10-05',\n      value: 21\n    }, {\n      date: '2012-10-06',\n      value: 18\n    }, {\n      date: '2012-10-07',\n      value: 21\n    }, {\n      date: '2012-10-08',\n      value: 28\n    }, {\n      date: '2012-10-09',\n      value: 27\n    }, {\n      date: '2012-10-10',\n      value: 36\n    }, {\n      date: '2012-10-11',\n      value: 33\n    }, {\n      date: '2012-10-12',\n      value: 31\n    }, {\n      date: '2012-10-13',\n      value: 30\n    }, {\n      date: '2012-10-14',\n      value: 34\n    }, {\n      date: '2012-10-15',\n      value: 38\n    }, {\n      date: '2012-10-16',\n      value: 37\n    }, {\n      date: '2012-10-17',\n      value: 44\n    }, {\n      date: '2012-10-18',\n      value: 49\n    }, {\n      date: '2012-10-19',\n      value: 53\n    }, {\n      date: '2012-10-20',\n      value: 57\n    }, {\n      date: '2012-10-21',\n      value: 60\n    }, {\n      date: '2012-10-22',\n      value: 61\n    }, {\n      date: '2012-10-23',\n      value: 69\n    }, {\n      date: '2012-10-24',\n      value: 67\n    }, {\n      date: '2012-10-25',\n      value: 72\n    }, {\n      date: '2012-10-26',\n      value: 77\n    }, {\n      date: '2012-10-27',\n      value: 75\n    }, {\n      date: '2012-10-28',\n      value: 70\n    }, {\n      date: '2012-10-29',\n      value: 72\n    }, {\n      date: '2012-10-30',\n      value: 70\n    }, {\n      date: '2012-10-31',\n      value: 72\n    }, {\n      date: '2012-11-01',\n      value: 73\n    }, {\n      date: '2012-11-02',\n      value: 67\n    }, {\n      date: '2012-11-03',\n      value: 68\n    }, {\n      date: '2012-11-04',\n      value: 65\n    }, {\n      date: '2012-11-05',\n      value: 71\n    }, {\n      date: '2012-11-06',\n      value: 75\n    }, {\n      date: '2012-11-07',\n      value: 74\n    }, {\n      date: '2012-11-08',\n      value: 71\n    }, {\n      date: '2012-11-09',\n      value: 76\n    }, {\n      date: '2012-11-10',\n      value: 77\n    }, {\n      date: '2012-11-11',\n      value: 81\n    }, {\n      date: '2012-11-12',\n      value: 83\n    }, {\n      date: '2012-11-13',\n      value: 80\n    }, {\n      date: '2012-11-14',\n      value: 81\n    }, {\n      date: '2012-11-15',\n      value: 87\n    }, {\n      date: '2012-11-16',\n      value: 82\n    }, {\n      date: '2012-11-17',\n      value: 86\n    }, {\n      date: '2012-11-18',\n      value: 80\n    }, {\n      date: '2012-11-19',\n      value: 87\n    }, {\n      date: '2012-11-20',\n      value: 83\n    }, {\n      date: '2012-11-21',\n      value: 85\n    }, {\n      date: '2012-11-22',\n      value: 84\n    }, {\n      date: '2012-11-23',\n      value: 82\n    }, {\n      date: '2012-11-24',\n      value: 73\n    }, {\n      date: '2012-11-25',\n      value: 71\n    }, {\n      date: '2012-11-26',\n      value: 75\n    }, {\n      date: '2012-11-27',\n      value: 79\n    }, {\n      date: '2012-11-28',\n      value: 70\n    }, {\n      date: '2012-11-29',\n      value: 73\n    }, {\n      date: '2012-11-30',\n      value: 61\n    }, {\n      date: '2012-12-01',\n      value: 62\n    }, {\n      date: '2012-12-02',\n      value: 66\n    }, {\n      date: '2012-12-03',\n      value: 65\n    }, {\n      date: '2012-12-04',\n      value: 73\n    }, {\n      date: '2012-12-05',\n      value: 79\n    }, {\n      date: '2012-12-06',\n      value: 78\n    }, {\n      date: '2012-12-07',\n      value: 78\n    }, {\n      date: '2012-12-08',\n      value: 78\n    }, {\n      date: '2012-12-09',\n      value: 74\n    }, {\n      date: '2012-12-10',\n      value: 73\n    }, {\n      date: '2012-12-11',\n      value: 75\n    }, {\n      date: '2012-12-12',\n      value: 70\n    }, {\n      date: '2012-12-13',\n      value: 77\n    }, {\n      date: '2012-12-14',\n      value: 67\n    }, {\n      date: '2012-12-15',\n      value: 62\n    }, {\n      date: '2012-12-16',\n      value: 64\n    }, {\n      date: '2012-12-17',\n      value: 61\n    }, {\n      date: '2012-12-18',\n      value: 59\n    }, {\n      date: '2012-12-19',\n      value: 53\n    }, {\n      date: '2012-12-20',\n      value: 54\n    }, {\n      date: '2012-12-21',\n      value: 56\n    }, {\n      date: '2012-12-22',\n      value: 59\n    }, {\n      date: '2012-12-23',\n      value: 58\n    }, {\n      date: '2012-12-24',\n      value: 55\n    }, {\n      date: '2012-12-25',\n      value: 52\n    }, {\n      date: '2012-12-26',\n      value: 54\n    }, {\n      date: '2012-12-27',\n      value: 50\n    }, {\n      date: '2012-12-28',\n      value: 50\n    }, {\n      date: '2012-12-29',\n      value: 51\n    }, {\n      date: '2012-12-30',\n      value: 52\n    }, {\n      date: '2012-12-31',\n      value: 58\n    }, {\n      date: '2013-01-01',\n      value: 60\n    }, {\n      date: '2013-01-02',\n      value: 67\n    }, {\n      date: '2013-01-03',\n      value: 64\n    }, {\n      date: '2013-01-04',\n      value: 66\n    }, {\n      date: '2013-01-05',\n      value: 60\n    }, {\n      date: '2013-01-06',\n      value: 63\n    }, {\n      date: '2013-01-07',\n      value: 61\n    }, {\n      date: '2013-01-08',\n      value: 60\n    }, {\n      date: '2013-01-09',\n      value: 65\n    }, {\n      date: '2013-01-10',\n      value: 75\n    }, {\n      date: '2013-01-11',\n      value: 77\n    }, {\n      date: '2013-01-12',\n      value: 78\n    }, {\n      date: '2013-01-13',\n      value: 70\n    }, {\n      date: '2013-01-14',\n      value: 70\n    }, {\n      date: '2013-01-15',\n      value: 73\n    }, {\n      date: '2013-01-16',\n      value: 71\n    }, {\n      date: '2013-01-17',\n      value: 74\n    }, {\n      date: '2013-01-18',\n      value: 78\n    }, {\n      date: '2013-01-19',\n      value: 85\n    }, {\n      date: '2013-01-20',\n      value: 82\n    }, {\n      date: '2013-01-21',\n      value: 83\n    }, {\n      date: '2013-01-22',\n      value: 88\n    }, {\n      date: '2013-01-23',\n      value: 85\n    }, {\n      date: '2013-01-24',\n      value: 85\n    }, {\n      date: '2013-01-25',\n      value: 80\n    }, {\n      date: '2013-01-26',\n      value: 87\n    }, {\n      date: '2013-01-27',\n      value: 84\n    }, {\n      date: '2013-01-28',\n      value: 83\n    }, {\n      date: '2013-01-29',\n      value: 84\n    }, {\n      date: '2013-01-30',\n      value: 81\n    }];\n\n    // Set input format for the dates\n    chart.dateFormatter.inputDateFormat = 'yyyy-MM-dd';\n\n    // Create axes\n    const dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n\n    // Create series\n    const series = chart.series.push(new am4charts.LineSeries());\n    series.dataFields.valueY = 'value';\n    series.dataFields.dateX = 'date';\n    series.tooltipText = '{value}';\n    series.strokeWidth = 2;\n    series.minBulletDistance = 15;\n\n    // Drop-shaped tooltips\n    series.tooltip.background.cornerRadius = 20;\n    series.tooltip.background.strokeOpacity = 0;\n    series.tooltip.pointerOrientation = 'vertical';\n    series.tooltip.label.minWidth = 40;\n    series.tooltip.label.minHeight = 40;\n    series.tooltip.label.textAlign = 'middle';\n    series.tooltip.label.textValign = 'middle';\n\n    // Make bullets grow on hover\n    const bullet = series.bullets.push(new am4charts.CircleBullet());\n    bullet.circle.strokeWidth = 2;\n    bullet.circle.radius = 4;\n    bullet.circle.fill = am4core.color('#fff');\n\n    const bullethover = bullet.states.create('hover');\n    bullethover.properties.scale = 1.3;\n\n    // Make a panning cursor\n    chart.cursor = new am4charts.XYCursor();\n    chart.cursor.behavior = 'panXY';\n    chart.cursor.xAxis = dateAxis;\n    chart.cursor.snapToSeries = series;\n\n    // Create vertical scrollbar and place it before the value axis\n    chart.scrollbarY = new am4core.Scrollbar();\n    chart.scrollbarY.parent = chart.leftAxesContainer;\n    chart.scrollbarY.toBack();\n\n    // Create a horizontal scrollbar with previe and place it underneath the date axis\n\n    let scrollbarX = new am4charts.XYChartScrollbar();\n    scrollbarX.series.push(series);\n    chart.scrollbarX = scrollbarX;\n    // chart.scrollbarX = new am4charts.XYChartScrollbar();\n    // chart.scrollbarX.series.push(series);\n    // chart.scrollbarX.parent = chart.bottomAxesContainer;\n\n    dateAxis.start = 0.79;\n    dateAxis.keepSelection = true;\n  };\n  public chart10 = function(element) {\n    const chart = am4core.create(element, am4charts.XYChart);\n    chart.colors.list = [am4core.color('#57aeff')];\n\n        // Add data\n    chart.data = [ {\n          date: '2012-07-27',\n          value: 13\n        }, {\n          date: '2012-07-28',\n          value: 11\n        }, {\n          date: '2012-07-29',\n          value: 15\n        }, {\n          date: '2012-07-30',\n          value: 16\n        }, {\n          date: '2012-07-31',\n          value: 18\n        }, {\n          date: '2012-08-01',\n          value: 13\n        }, {\n          date: '2012-08-02',\n          value: 22\n        }, {\n          date: '2012-08-03',\n          value: 23\n        }, {\n          date: '2012-08-04',\n          value: 20\n        }, {\n          date: '2012-08-05',\n          value: 17\n        }, {\n          date: '2012-08-06',\n          value: 16\n        }, {\n          date: '2012-08-07',\n          value: 18\n        }, {\n          date: '2012-08-08',\n          value: 21\n        }, {\n          date: '2012-08-09',\n          value: 26\n        }, {\n          date: '2012-08-10',\n          value: 24\n        }, {\n          date: '2012-08-11',\n          value: 29\n        }, {\n          date: '2012-08-12',\n          value: 32\n        }, {\n          date: '2012-08-13',\n          value: 18\n        }, {\n          date: '2012-08-14',\n          value: 24\n        }, {\n          date: '2012-08-15',\n          value: 22\n        }, {\n          date: '2012-08-16',\n          value: 18\n        }, {\n          date: '2012-08-17',\n          value: 19\n        }, {\n          date: '2012-08-18',\n          value: 14\n        }, {\n          date: '2012-08-19',\n          value: 15\n        }, {\n          date: '2012-08-20',\n          value: 12\n        }, {\n          date: '2012-08-21',\n          value: 8\n        }, {\n          date: '2012-08-22',\n          value: 9\n        }, {\n          date: '2012-08-23',\n          value: 8\n        }, {\n          date: '2012-08-24',\n          value: 7\n        }, {\n          date: '2012-08-25',\n          value: 5\n        }, {\n          date: '2012-08-26',\n          value: 11\n        }, {\n          date: '2012-08-27',\n          value: 13\n        }, {\n          date: '2012-08-28',\n          value: 18\n        }, {\n          date: '2012-08-29',\n          value: 20\n        }, {\n          date: '2012-08-30',\n          value: 29\n        }, {\n          date: '2012-08-31',\n          value: 33\n        }, {\n          date: '2012-09-01',\n          value: 42\n        }, {\n          date: '2012-09-02',\n          value: 35\n        }, {\n          date: '2012-09-03',\n          value: 31\n        }, {\n          date: '2012-09-04',\n          value: 47\n        }, {\n          date: '2012-09-05',\n          value: 52\n        }, {\n          date: '2012-09-06',\n          value: 46\n        }, {\n          date: '2012-09-07',\n          value: 41\n        }, {\n          date: '2012-09-08',\n          value: 43\n        }, {\n          date: '2012-09-09',\n          value: 40\n        }, {\n          date: '2012-09-10',\n          value: 39\n        }, {\n          date: '2012-09-11',\n          value: 34\n        }, {\n          date: '2012-09-12',\n          value: 29\n        }, {\n          date: '2012-09-13',\n          value: 34\n        }, {\n          date: '2012-09-14',\n          value: 37\n        }, {\n          date: '2012-09-15',\n          value: 42\n        }, {\n          date: '2012-09-16',\n          value: 49\n        }, {\n          date: '2012-09-17',\n          value: 46\n        }, {\n          date: '2012-09-18',\n          value: 47\n        }, {\n          date: '2012-09-19',\n          value: 55\n        }, {\n          date: '2012-09-20',\n          value: 59\n        }, {\n          date: '2012-09-21',\n          value: 58\n        }, {\n          date: '2012-09-22',\n          value: 57\n        }, {\n          date: '2012-09-23',\n          value: 61\n        }, {\n          date: '2012-09-24',\n          value: 59\n        }, {\n          date: '2012-09-25',\n          value: 67\n        }, {\n          date: '2012-09-26',\n          value: 65\n        }, {\n          date: '2012-09-27',\n          value: 61\n        }, {\n          date: '2012-09-28',\n          value: 66\n        }, {\n          date: '2012-09-29',\n          value: 69\n        }, {\n          date: '2012-09-30',\n          value: 71\n        }, {\n          date: '2012-10-01',\n          value: 67\n        }, {\n          date: '2012-10-02',\n          value: 63\n        }, {\n          date: '2012-10-03',\n          value: 46\n        }, {\n          date: '2012-10-04',\n          value: 32\n        }, {\n          date: '2012-10-05',\n          value: 21\n        }, {\n          date: '2012-10-06',\n          value: 18\n        }, {\n          date: '2012-10-07',\n          value: 21\n        }, {\n          date: '2012-10-08',\n          value: 28\n        }, {\n          date: '2012-10-09',\n          value: 27\n        }, {\n          date: '2012-10-10',\n          value: 36\n        }, {\n          date: '2012-10-11',\n          value: 33\n        }, {\n          date: '2012-10-12',\n          value: 31\n        }, {\n          date: '2012-10-13',\n          value: 30\n        }, {\n          date: '2012-10-14',\n          value: 34\n        }, {\n          date: '2012-10-15',\n          value: 38\n        }, {\n          date: '2012-10-16',\n          value: 37\n        }, {\n          date: '2012-10-17',\n          value: 44\n        }, {\n          date: '2012-10-18',\n          value: 49\n        }, {\n          date: '2012-10-19',\n          value: 53\n        }, {\n          date: '2012-10-20',\n          value: 57\n        }, {\n          date: '2012-10-21',\n          value: 60\n        }, {\n          date: '2012-10-22',\n          value: 61\n        }, {\n          date: '2012-10-23',\n          value: 69\n        }, {\n          date: '2012-10-24',\n          value: 67\n        }, {\n          date: '2012-10-25',\n          value: 72\n        }, {\n          date: '2012-10-26',\n          value: 77\n        }, {\n          date: '2012-10-27',\n          value: 75\n        }, {\n          date: '2012-10-28',\n          value: 70\n        }, {\n          date: '2012-10-29',\n          value: 72\n        }, {\n          date: '2012-10-30',\n          value: 70\n        }, {\n          date: '2012-10-31',\n          value: 72\n        }, {\n          date: '2012-11-01',\n          value: 73\n        }, {\n          date: '2012-11-02',\n          value: 67\n        }, {\n          date: '2012-11-03',\n          value: 68\n        }, {\n          date: '2012-11-04',\n          value: 65\n        }, {\n          date: '2012-11-05',\n          value: 71\n        }, {\n          date: '2012-11-06',\n          value: 75\n        }, {\n          date: '2012-11-07',\n          value: 74\n        }, {\n          date: '2012-11-08',\n          value: 71\n        }, {\n          date: '2012-11-09',\n          value: 76\n        }, {\n          date: '2012-11-10',\n          value: 77\n        }, {\n          date: '2012-11-11',\n          value: 81\n        }, {\n          date: '2012-11-12',\n          value: 83\n        }, {\n          date: '2012-11-13',\n          value: 80\n        }, {\n          date: '2012-11-18',\n          value: 80\n        }, {\n          date: '2012-11-19',\n          value: 87\n        }, {\n          date: '2012-11-20',\n          value: 83\n        }, {\n          date: '2012-11-21',\n          value: 85\n        }, {\n          date: '2012-11-22',\n          value: 84\n        }, {\n          date: '2012-11-23',\n          value: 82\n        }, {\n          date: '2012-11-24',\n          value: 73\n        }, {\n          date: '2012-11-25',\n          value: 71\n        }, {\n          date: '2012-11-26',\n          value: 75\n        }, {\n          date: '2012-11-27',\n          value: 79\n        }, {\n          date: '2012-11-28',\n          value: 70\n        }, {\n          date: '2012-11-29',\n          value: 73\n        }, {\n          date: '2012-11-30',\n          value: 61\n        }, {\n          date: '2012-12-01',\n          value: 62\n        }, {\n          date: '2012-12-02',\n          value: 66\n        }, {\n          date: '2012-12-03',\n          value: 65\n        }, {\n          date: '2012-12-04',\n          value: 73\n        }, {\n          date: '2012-12-05',\n          value: 79\n        }, {\n          date: '2012-12-06',\n          value: 78\n        }, {\n          date: '2012-12-07',\n          value: 78\n        }, {\n          date: '2012-12-08',\n          value: 78\n        }, {\n          date: '2012-12-09',\n          value: 74\n        }, {\n          date: '2012-12-10',\n          value: 73\n        }, {\n          date: '2012-12-11',\n          value: 75\n        }, {\n          date: '2012-12-12',\n          value: 70\n        }, {\n          date: '2012-12-13',\n          value: 77\n        }, {\n          date: '2012-12-14',\n          value: 67\n        }, {\n          date: '2012-12-15',\n          value: 62\n        }\n        , {\n          date: '2012-12-16',\n          value: 64\n        }, {\n          date: '2012-12-17',\n          value: 61\n        }, {\n          date: '2012-12-18',\n          value: 59\n        }, {\n          date: '2012-12-19',\n          value: 53\n        }, {\n          date: '2012-12-20',\n          value: 54\n        }, {\n          date: '2012-12-21',\n          value: 56\n        }, {\n          date: '2012-12-22',\n          value: 59\n        }, {\n          date: '2012-12-23',\n          value: 58\n        }, {\n          date: '2012-12-24',\n          value: 55\n        }, {\n          date: '2012-12-25',\n          value: 52\n        }, {\n          date: '2012-12-26',\n          value: 54\n        }, {\n          date: '2012-12-27',\n          value: 50\n        }, {\n          date: '2012-12-28',\n          value: 50\n        }, {\n          date: '2012-12-29',\n          value: 51\n        }, {\n          date: '2012-12-30',\n          value: 52\n        }, {\n          date: '2012-12-31',\n          value: 58\n        }, {\n          date: '2013-01-01',\n          value: 60\n        }, {\n          date: '2013-01-02',\n          value: 67\n        }, {\n          date: '2013-01-03',\n          value: 64\n        }, {\n          date: '2013-01-04',\n          value: 66\n        }, {\n          date: '2013-01-05',\n          value: 60\n        }, {\n          date: '2013-01-06',\n          value: 63\n        }, {\n          date: '2013-01-07',\n          value: 61\n        }, {\n          date: '2013-01-08',\n          value: 60\n        }, {\n          date: '2013-01-09',\n          value: 65\n        }, {\n          date: '2013-01-10',\n          value: 75\n        }, {\n          date: '2013-01-11',\n          value: 77\n        }, {\n          date: '2013-01-12',\n          value: 78\n        }, {\n          date: '2013-01-13',\n          value: 70\n        }, {\n          date: '2013-01-14',\n          value: 70\n        }, {\n          date: '2013-01-15',\n          value: 73\n        }, {\n          date: '2013-01-16',\n          value: 71\n        }, {\n          date: '2013-01-17',\n          value: 74\n        }, {\n          date: '2013-01-18',\n          value: 78\n        }, {\n          date: '2013-01-19',\n          value: 85\n        }, {\n          date: '2013-01-20',\n          value: 82\n        }, {\n          date: '2013-01-21',\n          value: 83\n        }, {\n          date: '2013-01-22',\n          value: 88\n        }, {\n          date: '2013-01-23',\n          value: 85\n        }, {\n          date: '2013-01-24',\n          value: 85\n        }, {\n          date: '2013-01-25',\n          value: 80\n        }, {\n          date: '2013-01-26',\n          value: 87\n        }, {\n          date: '2013-01-27',\n          value: 84\n        }, {\n          date: '2013-01-28',\n          value: 83\n        }, {\n          date: '2013-01-29',\n          value: 84\n        }, {\n          date: '2013-01-30',\n          value: 81\n        } ];\n\n        // Create axes\n    const dateAxis = chart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.grid.template.location = 0;\n    dateAxis.renderer.minGridDistance = 50;\n\n    const valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n\n        // Create series\n    const series = chart.series.push(new am4charts.LineSeries());\n    series.dataFields.valueY = 'value';\n    series.dataFields.dateX = 'date';\n    series.strokeWidth = 3;\n    series.fillOpacity = 0.5;\n\n        // Add vertical scrollbar\n    chart.scrollbarY = new am4core.Scrollbar();\n    chart.scrollbarY.marginLeft = 0;\n\n        // Add cursor\n    chart.cursor = new am4charts.XYCursor();\n    chart.cursor.behavior = 'zoomY';\n    chart.cursor.lineX.disabled = true;\n  };\n  public chart11 = function(element) {\n    const chart = am4core.create(element, am4charts.RadarChart);\n    chart.colors.list = [am4core.color('#0084ff'), am4core.color('#ffd400'), am4core.color('#00ca00')];\n\n    /* Add data */\n    chart.data = [{\n      country: 'Lithuania',\n      litres: 501,\n      units: 250\n    }, {\n      country: 'Czech Republic',\n      litres: 301,\n      units: 222\n    }, {\n      country: 'Ireland',\n      litres: 266,\n      units: 179\n    }, {\n      country: 'Germany',\n      litres: 165,\n      units: 298\n    }, {\n      country: 'Australia',\n      litres: 139,\n      units: 299\n    }];\n\n    /* Create axes */\n    const xAxis = chart.xAxes.push(new am4charts.ValueAxis<am4charts.AxisRendererCircular>());\n    xAxis.renderer.maxLabelPosition = 0.99;\n\n    const yAxis = chart.yAxes.push(new am4charts.CategoryAxis<am4charts.AxisRendererRadial>());\n    yAxis.renderer.labels.template.verticalCenter = 'bottom';\n    yAxis.renderer.labels.template.horizontalCenter = 'right';\n    yAxis.renderer.maxLabelPosition = 0.99;\n    yAxis.renderer.labels.template.paddingBottom = 1;\n    yAxis.renderer.labels.template.paddingRight = 3;\n\n    /* Create and configure series */\n    const series1 = chart.series.push(new am4charts.RadarSeries());\n    series1.bullets.push(new am4charts.CircleBullet());\n    series1.strokeOpacity = 0;\n    series1.dataFields.valueX = 'x';\n    series1.dataFields.valueY = 'y';\n    series1.name = 'Series #1';\n    series1.sequencedInterpolation = true;\n    series1.sequencedInterpolationDelay = 10;\n    series1.data = [\n      { x: 83, y: 5.1 },\n      { x: 44, y: 5.8 },\n      { x: 76, y: 9 },\n      { x: 2, y: 1.4 },\n      { x: 100, y: 8.3 },\n      { x: 96, y: 1.7 },\n      { x: 68, y: 3.9 },\n      { x: 0, y: 3 },\n      { x: 100, y: 4.1 },\n      { x: 16, y: 5.5 },\n      { x: 71, y: 6.8 },\n      { x: 100, y: 7.9 },\n      { x: 9, y: 6.8 },\n      { x: 85, y: 8.3 },\n      { x: 51, y: 6.7 },\n      { x: 95, y: 3.8 },\n      { x: 95, y: 4.4 },\n      { x: 1, y: 0.2 },\n      { x: 107, y: 9.7 },\n      { x: 50, y: 4.2 },\n      { x: 42, y: 9.2 },\n      { x: 35, y: 8 },\n      { x: 44, y: 6 },\n      { x: 64, y: 0.7 },\n      { x: 53, y: 3.3 },\n      { x: 92, y: 4.1 },\n      { x: 43, y: 7.3 },\n      { x: 15, y: 7.5 },\n      { x: 43, y: 4.3 },\n      { x: 90, y: 9.9 }\n    ];\n\n    const series2 = chart.series.push(new am4charts.RadarSeries());\n    series2.bullets.push(new am4charts.CircleBullet());\n    series2.strokeOpacity = 0;\n    series2.dataFields.valueX = 'x';\n    series2.dataFields.valueY = 'y';\n    series2.name = 'Series #2';\n    series2.sequencedInterpolation = true;\n    series2.sequencedInterpolationDelay = 10;\n    series2.data = [\n      { x: 178, y: 1.3 },\n      { x: 129, y: 3.4 },\n      { x: 99, y: 2.4 },\n      { x: 80, y: 9.9 },\n      { x: 118, y: 9.4 },\n      { x: 103, y: 8.7 },\n      { x: 91, y: 4.2 },\n      { x: 151, y: 1.2 },\n      { x: 168, y: 5.2 },\n      { x: 168, y: 1.6 },\n      { x: 152, y: 1.2 },\n      { x: 149, y: 3.4 },\n      { x: 182, y: 8.8 },\n      { x: 106, y: 6.7 },\n      { x: 111, y: 9.2 },\n      { x: 130, y: 6.3 },\n      { x: 147, y: 2.9 },\n      { x: 81, y: 8.1 },\n      { x: 138, y: 7.7 },\n      { x: 107, y: 3.9 },\n      { x: 124, y: 0.7 },\n      { x: 130, y: 2.6 },\n      { x: 86, y: 9.2 },\n      { x: 169, y: 7.5 },\n      { x: 122, y: 9.9 },\n      { x: 100, y: 3.8 },\n      { x: 172, y: 4.1 },\n      { x: 140, y: 7.3 },\n      { x: 161, y: 2.3 },\n      { x: 141, y: 0.9 }\n    ];\n\n    const series3 = chart.series.push(new am4charts.RadarSeries());\n    series3.bullets.push(new am4charts.CircleBullet());\n    series3.strokeOpacity = 0;\n    series3.dataFields.valueX = 'x';\n    series3.dataFields.valueY = 'y';\n    series3.name = 'Series #3';\n    series3.sequencedInterpolation = true;\n    series3.sequencedInterpolationDelay = 10;\n    series3.data = [\n      { x: 419, y: 4.9 },\n      { x: 417, y: 5.5 },\n      { x: 434, y: 0.1 },\n      { x: 344, y: 2.5 },\n      { x: 279, y: 7.5 },\n      { x: 307, y: 8.4 },\n      { x: 279, y: 9 },\n      { x: 220, y: 8.4 },\n      { x: 204, y: 8 },\n      { x: 446, y: 0.9 },\n      { x: 397, y: 8.9 },\n      { x: 351, y: 1.7 },\n      { x: 393, y: 0.7 },\n      { x: 254, y: 1.8 },\n      { x: 260, y: 0.4 },\n      { x: 300, y: 3.5 },\n      { x: 199, y: 2.7 },\n      { x: 182, y: 5.8 },\n      { x: 173, y: 2 },\n      { x: 201, y: 9.7 },\n      { x: 288, y: 1.2 },\n      { x: 333, y: 7.4 },\n      { x: 308, y: 1.9 },\n      { x: 330, y: 8 },\n      { x: 408, y: 1.7 },\n      { x: 274, y: 0.8 },\n      { x: 296, y: 3.1 },\n      { x: 279, y: 4.3 },\n      { x: 379, y: 5.6 },\n      { x: 175, y: 6.8 }\n    ];\n\n    /* Add legend */\n    chart.legend = new am4charts.Legend();\n\n    /* Add cursor */\n    chart.cursor = new am4charts.RadarCursor();\n  };\n  public chart12 = function(element) {\n    const chart = am4core.create(element, am4charts.PieChart3D);\n    chart.hiddenState.properties.opacity = 0; // this creates initial fade-in\n\n    chart.colors.list = [\n      am4core.color('red'),\n      am4core.color('yellow'),\n      am4core.color('#FF6F91'),\n      am4core.color('#FF9671'),\n      am4core.color('#FFC75F'),\n      am4core.color('#F9F871')\n    ];\n\n    chart.legend = new am4charts.Legend();\n\n    chart.data = [\n      {\n        country: 'Lithuania',\n        litres: 501.9\n      },\n      {\n        country: 'Germany',\n        litres: 165.8\n      },\n      {\n        country: 'Australia',\n        litres: 139.9\n      },\n      {\n        country: 'Austria',\n        litres: 128.3\n      },\n      {\n        country: 'UK',\n        litres: 99\n      },\n      {\n        country: 'Belgium',\n        litres: 60\n      }\n    ];\n\n    const series = chart.series.push(new am4charts.PieSeries3D());\n    series.dataFields.value = 'litres';\n    series.dataFields.category = 'country';\n\n  };\n\n  ngOnInit() {\n    this.zone.runOutsideAngular(() => {\n      this.chart1('chart1');\n      this.chart2('chart2');\n      this.chart3('chart3');\n      this.chart4('chart4');\n      this.chart5('chart5');\n      this.chart6('chart6');\n      this.chart7('chart7');\n      this.chart8('chart8');\n      this.chart9('chart9');\n      this.chart10('chart10');\n      this.chart11('chart11');\n      this.chart12('chart12');\n    });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-chart-apex',\n  templateUrl: './chart-apex.component.html',\n  styles: []\n})\nexport class ChartApexComponent implements OnInit {\n\n  constructor() { }\n  public line1 = {\n    chart: {\n      height: 350,\n      type: 'line',\n      zoom: {\n        enabled: false\n      }\n    },\n    series: [{\n      name: \"Desktops\",\n      data: [10, 41, 35, 51, 49, 62, 69, 91, 148]\n    }],\n    dataLabels: {\n      enabled: false\n    },\n    stroke: {\n      curve: 'straight'\n    },\n    title: {\n      text: 'Product Trends by Month',\n      align: 'left'\n    },\n    grid: {\n      row: {\n        colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns\n        opacity: 0.5\n      },\n    },\n    xaxis: {\n      categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],\n    }\n  }\n\n  public column1 = {\n    chart: {\n      height: 350,\n      type: 'bar',\n    },\n    plotOptions: {\n      bar: {\n        horizontal: false,\n        columnWidth: '55%',\n        endingShape: 'rounded'\n      },\n    },\n    dataLabels: {\n      enabled: false\n    },\n    stroke: {\n      show: true,\n      width: 2,\n      colors: ['transparent']\n    },\n    series: [{\n      name: 'Net Profit',\n      data: [44, 55, 57, 56, 61, 58]\n    }, {\n      name: 'Revenue',\n      data: [76, 85, 101, 98, 87, 105]\n    }, {\n      name: 'Free Cash Flow',\n      data: [35, 41, 36, 26, 45, 48]\n    }],\n    xaxis: {\n      categories: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],\n    },\n    yaxis: {\n      title: {\n        text: '$ (thousands)'\n      }\n    },\n    fill: {\n      opacity: 1\n\n    },\n    tooltip: {\n      y: {\n        formatter: function (val) {\n          return \"$ \" + val + \" thousands\"\n        }\n      }\n    }\n  }\n\n  public mixed1 = {\n    chart: {\n      height: 350,\n      type: 'line',\n      stacked: false,\n    },\n    stroke: {\n      width: [0, 2, 5],\n      curve: 'smooth'\n    },\n    plotOptions: {\n      bar: {\n        columnWidth: '50%'\n      }\n    },\n    colors: ['#ffc107', '#00ca00', '#0084ff'],\n    series: [{\n      name: 'Facebook',\n      type: 'column',\n      data: [23, 11, 22, 27, 13, 22, 37, 21, 44, 22, 30]\n    }, {\n      name: 'Vine',\n      type: 'area',\n      data: [44, 55, 41, 67, 22, 43, 21, 41, 56, 27, 43]\n    }, {\n      name: 'Dribbble',\n      type: 'line',\n      data: [30, 25, 36, 30, 45, 35, 64, 52, 59, 36, 39]\n    }],\n    fill: {\n      opacity: [0.85, 0.25, 1],\n      gradient: {\n        inverseColors: false,\n        shade: 'light',\n        type: \"vertical\",\n        opacityFrom: 0.85,\n        opacityTo: 0.55,\n        stops: [0, 100, 100, 100]\n      }\n    },\n    labels: ['01/01/2003', '02/01/2003', '03/01/2003', '04/01/2003', '05/01/2003', '06/01/2003', '07/01/2003', '08/01/2003', '09/01/2003', '10/01/2003', '11/01/2003'],\n    markers: {\n      size: 0\n    },\n    xaxis: {\n      type: 'datetime'\n    },\n    yaxis: {\n      min: 0\n    },\n    tooltip: {\n      shared: true,\n      intersect: false,\n      y: {\n        formatter: function (y) {\n          if (typeof y !== \"undefined\") {\n            return y.toFixed(0) + \" views\";\n          }\n          return y;\n        }\n      }\n    },\n    legend: {\n      labels: {\n        useSeriesColors: true\n      },\n      markers: {\n        customHTML: [\n          function () {\n            return ''\n          }, function () {\n            return ''\n          }, function () {\n            return ''\n          }\n        ]\n      }\n    }\n  };\n  public generateData = function(baseval, count, yrange) {\n    let i = 0;\n    let series = [];\n    while (i < count) {\n        const y = Math.floor(Math.random() * (yrange.max - yrange.min + 1)) + yrange.min;\n        const z = Math.floor(Math.random() * (75 - 15 + 1)) + 15;\n\n        series.push([baseval, y, z]);\n        baseval += 86400000;\n        i++;\n    }\n    return series;\n};\n  public bubble1 = {\n    chart: {\n        height: 350,\n        type: 'bubble',\n    },\n    dataLabels: {\n        enabled: false\n    },\n    series: [{\n            name: 'Product1',\n            data: this.generateData(new Date('11 Feb 2017 GMT').getTime(), 20, {\n                min: 10,\n                max: 60\n            })\n        },\n        {\n            name: 'Product2',\n            data: this.generateData(new Date('11 Feb 2017 GMT').getTime(), 20, {\n                min: 10,\n                max: 60\n            })\n        },\n        {\n            name: 'Product3',\n            data: this.generateData(new Date('11 Feb 2017 GMT').getTime(), 20, {\n                min: 10,\n                max: 60\n            })\n        }\n    ],\n    fill: {\n        type: 'gradient',\n    },\n    title: {\n        text: '3D Bubble Chart'\n    },\n    xaxis: {\n        tickAmount: 12,\n        type: 'datetime',\n\n        labels: {\n            rotate: 0,\n        }\n    },\n    yaxis: {\n        max: 70\n    },\n    theme: {\n        palette: 'palette2'\n    }\n};\n\n  public chart1 = {\n    chart: {\n      width: 380,\n      type: 'pie',\n    },\n    labels: ['Team A', 'Team B', 'Team C', 'Team D', 'Team E'],\n    series: [44, 55, 13, 43, 22],\n    responsive: [{\n      breakpoint: 480,\n      options: {\n        chart: {\n          width: 200\n        },\n        legend: {\n          position: 'bottom'\n        }\n      }\n    }]\n  };\n\n  public area1 = {\n    chart: {\n        height: 350,\n        type: 'area',\n    },\n    dataLabels: {\n        enabled: false\n    },\n    stroke: {\n        curve: 'smooth'\n    },\n    series: [{\n        name: 'series1',\n        data: [31, 40, 28, 51, 42, 109, 100]\n    }, {\n        name: 'series2',\n        data: [11, 32, 45, 32, 34, 52, 41]\n    }],\n\n    xaxis: {\n        type: 'datetime',\n        categories: [\"2018-09-19T00:00:00\", \"2018-09-19T01:30:00\", \"2018-09-19T02:30:00\", \"2018-09-19T03:30:00\", \"2018-09-19T04:30:00\", \"2018-09-19T05:30:00\", \"2018-09-19T06:30:00\"],\n    },\n    tooltip: {\n        x: {\n            format: 'dd/MM/yy HH:mm'\n        },\n    }\n}\n\n  public bar2 = {\n    chart: {\n      height: 350,\n      type: 'bar',\n    },\n    plotOptions: {\n      bar: {\n        horizontal: true,\n      }\n    },\n    dataLabels: {\n      enabled: false\n    },\n    series: [{\n      data: [470, 540, 580, 690, 1100, 1200, 1380]\n    }],\n    xaxis: {\n      categories: ['Netherlands', 'Italy', 'France', 'Japan', 'United States', 'China', 'Germany'],\n    }\n  }\n\n  public candle1 = {\n    chart: {\n      height: 350,\n      type: 'candlestick',\n    },\n    series: [{\n      data: [{\n        x: new Date(1538778600000),\n        y: [6629.81, 6650.5, 6623.04, 6633.33]\n      },\n      {\n        x: new Date(1538780400000),\n        y: [6632.01, 6643.59, 6620, 6630.11]\n      },\n      {\n        x: new Date(1538782200000),\n        y: [6630.71, 6648.95, 6623.34, 6635.65]\n      },\n      {\n        x: new Date(1538784000000),\n        y: [6635.65, 6651, 6629.67, 6638.24]\n      },\n      {\n        x: new Date(1538785800000),\n        y: [6638.24, 6640, 6620, 6624.47]\n      },\n      {\n        x: new Date(1538787600000),\n        y: [6624.53, 6636.03, 6621.68, 6624.31]\n      },\n      {\n        x: new Date(1538789400000),\n        y: [6624.61, 6632.2, 6617, 6626.02]\n      },\n      {\n        x: new Date(1538791200000),\n        y: [6627, 6627.62, 6584.22, 6603.02]\n      },\n      {\n        x: new Date(1538793000000),\n        y: [6605, 6608.03, 6598.95, 6604.01]\n      },\n      {\n        x: new Date(1538794800000),\n        y: [6604.5, 6614.4, 6602.26, 6608.02]\n      },\n      {\n        x: new Date(1538796600000),\n        y: [6608.02, 6610.68, 6601.99, 6608.91]\n      },\n      {\n        x: new Date(1538798400000),\n        y: [6608.91, 6618.99, 6608.01, 6612]\n      },\n      {\n        x: new Date(1538800200000),\n        y: [6612, 6615.13, 6605.09, 6612]\n      },\n      {\n        x: new Date(1538802000000),\n        y: [6612, 6624.12, 6608.43, 6622.95]\n      },\n      {\n        x: new Date(1538803800000),\n        y: [6623.91, 6623.91, 6615, 6615.67]\n      },\n      {\n        x: new Date(1538805600000),\n        y: [6618.69, 6618.74, 6610, 6610.4]\n      },\n      {\n        x: new Date(1538807400000),\n        y: [6611, 6622.78, 6610.4, 6614.9]\n      },\n      {\n        x: new Date(1538809200000),\n        y: [6614.9, 6626.2, 6613.33, 6623.45]\n      },\n      {\n        x: new Date(1538811000000),\n        y: [6623.48, 6627, 6618.38, 6620.35]\n      },\n      {\n        x: new Date(1538812800000),\n        y: [6619.43, 6620.35, 6610.05, 6615.53]\n      },\n      {\n        x: new Date(1538814600000),\n        y: [6615.53, 6617.93, 6610, 6615.19]\n      },\n      {\n        x: new Date(1538816400000),\n        y: [6615.19, 6621.6, 6608.2, 6620]\n      },\n      {\n        x: new Date(1538818200000),\n        y: [6619.54, 6625.17, 6614.15, 6620]\n      },\n      {\n        x: new Date(1538820000000),\n        y: [6620.33, 6634.15, 6617.24, 6624.61]\n      },\n      {\n        x: new Date(1538821800000),\n        y: [6625.95, 6626, 6611.66, 6617.58]\n      },\n      {\n        x: new Date(1538823600000),\n        y: [6619, 6625.97, 6595.27, 6598.86]\n      },\n      {\n        x: new Date(1538825400000),\n        y: [6598.86, 6598.88, 6570, 6587.16]\n      },\n      {\n        x: new Date(1538827200000),\n        y: [6588.86, 6600, 6580, 6593.4]\n      },\n      {\n        x: new Date(1538829000000),\n        y: [6593.99, 6598.89, 6585, 6587.81]\n      },\n      {\n        x: new Date(1538830800000),\n        y: [6587.81, 6592.73, 6567.14, 6578]\n      },\n      {\n        x: new Date(1538832600000),\n        y: [6578.35, 6581.72, 6567.39, 6579]\n      },\n      {\n        x: new Date(1538834400000),\n        y: [6579.38, 6580.92, 6566.77, 6575.96]\n      },\n      {\n        x: new Date(1538836200000),\n        y: [6575.96, 6589, 6571.77, 6588.92]\n      },\n      {\n        x: new Date(1538838000000),\n        y: [6588.92, 6594, 6577.55, 6589.22]\n      },\n      {\n        x: new Date(1538839800000),\n        y: [6589.3, 6598.89, 6589.1, 6596.08]\n      },\n      {\n        x: new Date(1538841600000),\n        y: [6597.5, 6600, 6588.39, 6596.25]\n      },\n      {\n        x: new Date(1538843400000),\n        y: [6598.03, 6600, 6588.73, 6595.97]\n      },\n      {\n        x: new Date(1538845200000),\n        y: [6595.97, 6602.01, 6588.17, 6602]\n      },\n      {\n        x: new Date(1538847000000),\n        y: [6602, 6607, 6596.51, 6599.95]\n      },\n      {\n        x: new Date(1538848800000),\n        y: [6600.63, 6601.21, 6590.39, 6591.02]\n      },\n      {\n        x: new Date(1538850600000),\n        y: [6591.02, 6603.08, 6591, 6591]\n      },\n      {\n        x: new Date(1538852400000),\n        y: [6591, 6601.32, 6585, 6592]\n      },\n      {\n        x: new Date(1538854200000),\n        y: [6593.13, 6596.01, 6590, 6593.34]\n      },\n      {\n        x: new Date(1538856000000),\n        y: [6593.34, 6604.76, 6582.63, 6593.86]\n      },\n      {\n        x: new Date(1538857800000),\n        y: [6593.86, 6604.28, 6586.57, 6600.01]\n      },\n      {\n        x: new Date(1538859600000),\n        y: [6601.81, 6603.21, 6592.78, 6596.25]\n      },\n      {\n        x: new Date(1538861400000),\n        y: [6596.25, 6604.2, 6590, 6602.99]\n      },\n      {\n        x: new Date(1538863200000),\n        y: [6602.99, 6606, 6584.99, 6587.81]\n      },\n      {\n        x: new Date(1538865000000),\n        y: [6587.81, 6595, 6583.27, 6591.96]\n      },\n      {\n        x: new Date(1538866800000),\n        y: [6591.97, 6596.07, 6585, 6588.39]\n      },\n      {\n        x: new Date(1538868600000),\n        y: [6587.6, 6598.21, 6587.6, 6594.27]\n      },\n      {\n        x: new Date(1538870400000),\n        y: [6596.44, 6601, 6590, 6596.55]\n      },\n      {\n        x: new Date(1538872200000),\n        y: [6598.91, 6605, 6596.61, 6600.02]\n      },\n      {\n        x: new Date(1538874000000),\n        y: [6600.55, 6605, 6589.14, 6593.01]\n      },\n      {\n        x: new Date(1538875800000),\n        y: [6593.15, 6605, 6592, 6603.06]\n      },\n      ]\n    }],\n    title: {\n      text: 'CandleStick Chart',\n      align: 'left'\n    },\n    xaxis: {\n      type: 'datetime'\n    },\n    yaxis: {\n      tooltip: {\n        enabled: true\n      }\n    }\n  }\n\n  public scatter = {\n    chart: {\n      height: 350,\n      type: 'scatter',\n      zoom: {\n        enabled: true,\n        type: 'xy'\n      }\n    },\n\n    series: [{\n      name: \"SAMPLE A\",\n      data: [\n        [16.4, 5.4], [21.7, 2], [25.4, 3], [19, 2], [10.9, 1], [13.6, 3.2], [10.9, 7.4], [10.9, 0], [10.9, 8.2], [16.4, 0], [16.4, 1.8], [13.6, 0.3], [13.6, 0], [29.9, 0], [27.1, 2.3], [16.4, 0], [13.6, 3.7], [10.9, 5.2], [16.4, 6.5], [10.9, 0], [24.5, 7.1], [10.9, 0], [8.1, 4.7]]\n    }, {\n      name: \"SAMPLE B\",\n      data: [\n        [36.4, 13.4], [1.7, 11], [5.4, 8], [9, 17], [1.9, 4], [3.6, 12.2], [1.9, 14.4], [1.9, 9], [1.9, 13.2], [1.4, 7], [6.4, 8.8], [3.6, 4.3], [1.6, 10], [9.9, 2], [7.1, 15], [1.4, 0], [3.6, 13.7], [1.9, 15.2], [6.4, 16.5], [0.9, 10], [4.5, 17.1], [10.9, 10], [0.1, 14.7]]\n    }, {\n      name: \"SAMPLE C\",\n      data: [\n        [21.7, 3], [23.6, 3.5], [24.6, 3], [29.9, 3], [21.7, 20], [23, 2], [10.9, 3], [28, 4], [27.1, 0.3], [16.4, 4], [13.6, 0], [19, 5], [22.4, 3], [24.5, 3], [32.6, 3], [27.1, 4], [29.6, 6], [31.6, 8], [21.6, 5], [20.9, 4], [22.4, 0], [32.6, 10.3], [29.7, 20.8]]\n    }],\n    xaxis: {\n      tickAmount: 5,\n      labels: {\n        formatter: function (val) {\n          return parseFloat(val).toFixed(1)\n        }\n      }\n    },\n    yaxis: {\n      tickAmount: 5\n    }\n  }\n\n  public radial = {\n    chart: {\n      height: 350,\n      type: 'radialBar',\n    },\n    plotOptions: {\n      radialBar: {\n        dataLabels: {\n          name: {\n            fontSize: '22px',\n          },\n          value: {\n            fontSize: '16px',\n          },\n          total: {\n            show: true,\n            label: 'Total',\n            formatter: function (w) {\n              // By default this function returns the average of all series. The below is just an example to show the use of custom formatter function\n              return 249\n            }\n          }\n        }\n      }\n    },\n    series: [44, 55, 67, 83],\n    labels: ['Apples', 'Oranges', 'Bananas', 'Berries'],\n\n  }\n  ngOnInit() {\n  }\n\n\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport * as Highcharts from 'highcharts';\n\n@Component({\n  selector: 'app-chart-high',\n  templateUrl: './chart-high.component.html',\n  styles: []\n})\nexport class ChartHighComponent implements OnInit {\n\n  constructor() { }\n\n  public chart1 = {\n\n    title: {\n      text: 'Solar Employment Growth by Sector, 2010-2016'\n    },\n\n    subtitle: {\n      text: 'Source: thesolarfoundation.com'\n    },\n\n    yAxis: {\n      title: {\n        text: 'Number of Employees'\n      }\n    },\n    legend: {\n      layout: 'vertical',\n      align: 'right',\n      verticalAlign: 'middle'\n    },\n\n    plotOptions: {\n      series: {\n        label: {\n          connectorAllowed: false\n        },\n        pointStart: 2010\n      }\n    },\n\n    series: [{\n      name: 'Installation',\n      data: [43934, 52503, 57177, 69658, 97031, 119931, 137133, 154175],\n      color: '#007bff'\n    }, {\n      name: 'Manufacturing',\n      data: [24916, 24064, 29742, 29851, 32490, 30282, 38121, 40434],\n      color: '#dc3545'\n    }, {\n      name: 'Sales & Distribution',\n      data: [11744, 17722, 16005, 19771, 20185, 24377, 32147, 39387],\n      color: '#28a745'\n    }, {\n      name: 'Project Development',\n      data: [null, null, 7988, 12169, 15112, 22452, 34400, 34227],\n      color: '#ffc107'\n    }, {\n      name: 'Other',\n      data: [12908, 5948, 8105, 11248, 8989, 11816, 18274, 18111],\n      color: '#17a2b8'\n    }],\n\n    responsive: {\n      rules: [{\n        condition: {\n          maxWidth: 500\n        },\n        chartOptions: {\n          legend: {\n            layout: 'horizontal',\n            align: 'center',\n            verticalAlign: 'bottom'\n          }\n        }\n      }]\n    }\n\n  };\n  public chart2 = {\n    chart: {\n      type: 'bar'\n    },\n    title: {\n      text: 'Historic World Population by Region'\n    },\n    subtitle: {\n      text: 'Source: <a href=\"https://en.wikipedia.org/wiki/World_population\">Wikipedia.org</a>'\n    },\n    xAxis: {\n      categories: ['Africa', 'America', 'Asia', 'Europe', 'Oceania'],\n      title: {\n        text: null\n      }\n    },\n    yAxis: {\n      min: 0,\n      title: {\n        text: 'Population (millions)',\n        align: 'high'\n      },\n      labels: {\n        overflow: 'justify'\n      }\n    },\n    tooltip: {\n      valueSuffix: ' millions'\n    },\n    plotOptions: {\n      bar: {\n        dataLabels: {\n          enabled: true\n        }\n      }\n    },\n    legend: {\n      layout: 'vertical',\n      align: 'right',\n      verticalAlign: 'top',\n      x: -40,\n      y: 80,\n      floating: true,\n      borderWidth: 1,\n      backgroundColor:\n        Highcharts.defaultOptions.legend.backgroundColor || '#FFFFFF',\n      shadow: true\n    },\n    credits: {\n      enabled: false\n    },\n    series: [{\n      name: 'Year 1900',\n      data: [133, 156, 947, 408, 6],\n      color: '#dc3545'\n    }, {\n      name: 'Year 2000',\n      data: [814, 841, 3714, 727, 31],\n      color: '#28a745'\n    }, {\n      name: 'Year 2016',\n      data: [1216, 1001, 4436, 738, 40],\n      color: '#ffc107'\n    }]\n  };\n  public chart3 = {\n    chart: {\n        plotBackgroundColor: null,\n        plotBorderWidth: null,\n        plotShadow: false,\n        type: 'pie'\n    },\n    colorAxis: {},\n    title: {\n        text: 'Browser market shares in January, 2018'\n    },\n    tooltip: {\n        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n    },\n    plotOptions: {\n        pie: {\n            allowPointSelect: true,\n            cursor: 'pointer',\n            dataLabels: {\n                enabled: true,\n                format: '<b>{point.name}</b>: {point.percentage:.1f} %'\n            }\n        }\n    },\n    series: [{\n        name: 'Brands',\n        colorByPoint: true,\n        data: [{\n            name: 'Chrome',\n            y: 61.41,\n            sliced: true,\n            selected: true\n        }, {\n            name: 'Internet Explorer',\n            y: 11.84\n        }, {\n            name: 'Firefox',\n            y: 10.85\n        }, {\n            name: 'Edge',\n            y: 4.67\n        }, {\n            name: 'Safari',\n            y: 4.18\n        }, {\n            name: 'Sogou Explorer',\n            y: 1.64\n        }, {\n            name: 'Opera',\n            y: 1.6\n        }, {\n            name: 'QQ',\n            y: 1.2\n        }, {\n            name: 'Other',\n            y: 2.61\n        }]\n    }]\n  };\n\n  public chart4 = {\n    chart: {\n      type: 'spline',\n      animation: Highcharts.SVGElement, // don't animate in old IE\n      marginRight: 10,\n      events: {\n        load() {\n\n          // set up the updating of the chart each second\n          const series = this.series[0];\n          setInterval(function() {\n            // tslint:disable-next-line: one-variable-per-declaration\n            const x = (new Date()).getTime(), // current time\n               y = Math.random();\n            series.addPoint([x, y], true, true);\n          }, 1000);\n        }\n      }\n    },\n    time: {\n      useUTC: false\n    },\n\n    title: {\n      text: 'Live random data'\n    },\n\n    accessibility: {\n      announceNewData: {\n        enabled: true,\n        minAnnounceInterval: 15000,\n        announcementFormatter(allSeries, newSeries, newPoint) {\n          if (newPoint) {\n            return 'New point added. Value: ' + newPoint.y;\n          }\n          return false;\n        }\n      }\n    },\n\n    xAxis: {\n      type: 'datetime',\n      tickPixelInterval: 150\n    },\n\n    yAxis: {\n      title: {\n        text: 'Value'\n      },\n      plotLines: [{\n        value: 0,\n        width: 1,\n        color: '#808080'\n      }]\n    },\n\n    tooltip: {\n      headerFormat: '<b>{series.name}</b><br/>',\n      pointFormat: '{point.x:%Y-%m-%d %H:%M:%S}<br/>{point.y:.2f}'\n    },\n\n    legend: {\n      enabled: false\n    },\n\n    exporting: {\n      enabled: false\n    },\n\n    series: [{\n      name: 'Random data',\n      color: '#0084ff',\n      data: (function() {\n        // generate an array of random data\n        let data = [],\n          time = (new Date()).getTime(),\n          i;\n\n        for (i = -19; i <= 0; i += 1) {\n          data.push({\n            x: time + i * 1000,\n            y: Math.random()\n          });\n        }\n        return data;\n      }())\n    }]\n  };\n\n  public chart5 = {\n\n    chart: {\n        type: 'gauge',\n        plotBackgroundColor: null,\n        plotBackgroundImage: null,\n        plotBorderWidth: 0,\n        plotShadow: false\n    },\n\n    title: {\n        text: 'Speedometer'\n    },\n\n    pane: {\n        startAngle: -150,\n        endAngle: 150,\n        background: [{\n            backgroundColor: {\n                linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },\n                stops: [\n                    [0, '#FFF'],\n                    [1, '#333']\n                ]\n            },\n            borderWidth: 0,\n            outerRadius: '109%'\n        }, {\n            backgroundColor: {\n                linearGradient: { x1: 0, y1: 0, x2: 0, y2: 1 },\n                stops: [\n                    [0, '#333'],\n                    [1, '#FFF']\n                ]\n            },\n            borderWidth: 1,\n            outerRadius: '107%'\n        }, {\n            // default background\n        }, {\n            backgroundColor: '#DDD',\n            borderWidth: 0,\n            outerRadius: '105%',\n            innerRadius: '103%'\n        }]\n    },\n\n    // the value axis\n    yAxis: {\n        min: 0,\n        max: 200,\n\n        minorTickInterval: 'auto',\n        minorTickWidth: 1,\n        minorTickLength: 10,\n        minorTickPosition: 'inside',\n        minorTickColor: '#666',\n\n        tickPixelInterval: 30,\n        tickWidth: 2,\n        tickPosition: 'inside',\n        tickLength: 10,\n        tickColor: '#666',\n        labels: {\n            step: 2,\n            rotation: 'auto'\n        },\n        title: {\n            text: 'km/h'\n        },\n        plotBands: [{\n            from: 0,\n            to: 120,\n            color: '#55BF3B' // green\n        }, {\n            from: 120,\n            to: 160,\n            color: '#DDDF0D' // yellow\n        }, {\n            from: 160,\n            to: 200,\n            color: '#DF5353' // red\n        }]\n    },\n\n    series: [{\n        name: 'Speed',\n        data: [80],\n        tooltip: {\n            valueSuffix: ' km/h'\n        }\n    }]\n\n};\n\n    public chart6 = {\n      chart: {\n          type: 'area'\n      },\n      accessibility: {\n          // tslint:disable-next-line: max-line-length\n          description: 'Image description: An area chart compares the nuclear stockpiles of the USA and the USSR/Russia between 1945 and 2017. The number of nuclear weapons is plotted on the Y-axis and the years on the X-axis. The chart is interactive, and the year-on-year stockpile levels can be traced for each country. The US has a stockpile of 6 nuclear weapons at the dawn of the nuclear age in 1945. This number has gradually increased to 369 by 1950 when the USSR enters the arms race with 6 weapons. At this point, the US starts to rapidly build its stockpile culminating in 32,040 warheads by 1966 compared to the USSR’s 7,089. From this peak in 1966, the US stockpile gradually decreases as the USSR’s stockpile expands. By 1978 the USSR has closed the nuclear gap at 25,393. The USSR stockpile continues to grow until it reaches a peak of 45,000 in 1986 compared to the US arsenal of 24,401. From 1986, the nuclear stockpiles of both countries start to fall. By 2000, the numbers have fallen to 10,577 and 21,000 for the US and Russia, respectively. The decreases continue until 2017 at which point the US holds 4,018 weapons compared to Russia’s 4,500.'\n      },\n      title: {\n          text: 'US and USSR nuclear stockpiles'\n      },\n      subtitle: {\n          text: 'Sources: <a href=\"https://thebulletin.org/2006/july/global-nuclear-stockpiles-1945-2006\">' +\n              'thebulletin.org</a> &amp; <a href=\"https://www.armscontrol.org/factsheets/Nuclearweaponswhohaswhat\">' +\n              'armscontrol.org</a>'\n      },\n      xAxis: {\n          allowDecimals: false,\n          labels: {\n              formatter() {\n                  return this.value; // clean, unformatted number for year\n              }\n          },\n          accessibility: {\n              rangeDescription: 'Range: 1940 to 2017.'\n          }\n      },\n      yAxis: {\n          title: {\n              text: 'Nuclear weapon states'\n          },\n          labels: {\n              formatter() {\n                  return this.value / 1000 + 'k';\n              }\n          }\n      },\n      tooltip: {\n          pointFormat: '{series.name} had stockpiled <b>{point.y:,.0f}</b><br/>warheads in {point.x}'\n      },\n      plotOptions: {\n          area: {\n              pointStart: 1940,\n              marker: {\n                  enabled: false,\n                  symbol: 'circle',\n                  radius: 2,\n                  states: {\n                      hover: {\n                          enabled: true\n                      }\n                  }\n              }\n          }\n      },\n      series: [{\n          name: 'USA',\n          data: [\n              null, null, null, null, null, 6, 11, 32, 110, 235,\n              369, 640, 1005, 1436, 2063, 3057, 4618, 6444, 9822, 15468,\n              20434, 24126, 27387, 29459, 31056, 31982, 32040, 31233, 29224, 27342,\n              26662, 26956, 27912, 28999, 28965, 27826, 25579, 25722, 24826, 24605,\n              24304, 23464, 23708, 24099, 24357, 24237, 24401, 24344, 23586, 22380,\n              21004, 17287, 14747, 13076, 12555, 12144, 11009, 10950, 10871, 10824,\n              10577, 10527, 10475, 10421, 10358, 10295, 10104, 9914, 9620, 9326,\n              5113, 5113, 4954, 4804, 4761, 4717, 4368, 4018\n          ],\n          color: '#57aeff'\n      }, {\n          name: 'USSR/Russia',\n          data: [null, null, null, null, null, null, null, null, null, null,\n              5, 25, 50, 120, 150, 200, 426, 660, 869, 1060,\n              1605, 2471, 3322, 4238, 5221, 6129, 7089, 8339, 9399, 10538,\n              11643, 13092, 14478, 15915, 17385, 19055, 21205, 23044, 25393, 27935,\n              30062, 32049, 33952, 35804, 37431, 39197, 45000, 43000, 41000, 39000,\n              37000, 35000, 33000, 31000, 29000, 27000, 25000, 24000, 23000, 22000,\n              21000, 20000, 19000, 18000, 18000, 17000, 16000, 15537, 14162, 12787,\n              12600, 11400, 5500, 4512, 4502, 4502, 4500, 4500\n          ],\n          color: '#57dc57'\n      }]\n  };\n\n  public chart7 = {\n    chart: {\n        type: 'scatter',\n        zoomType: 'xy'\n    },\n    accessibility: {\n        description: 'A scatter plot compares the height and weight of 507 individuals by gender. Height in centimeters is plotted on the X-axis and weight in kilograms is plotted on the Y-axis. The chart is interactive, and each data point can be hovered over to expose the height and weight data for each individual. The scatter plot is fairly evenly divided by gender with females dominating the left-hand side of the chart and males dominating the right-hand side. The height data for females ranges from 147.2 to 182.9 centimeters with the greatest concentration between 160 and 165 centimeters. The weight data for females ranges from 42 to 105.2 kilograms with the greatest concentration at around 60 kilograms. The height data for males ranges from 157.2 to 198.1 centimeters with the greatest concentration between 175 and 180 centimeters. The weight data for males ranges from 53.9 to 116.4 kilograms with the greatest concentration at around 80 kilograms.'\n    },\n    title: {\n        text: 'Height Versus Weight of 507 Individuals by Gender'\n    },\n    subtitle: {\n        text: 'Source: Heinz  2003'\n    },\n    xAxis: {\n        title: {\n            enabled: true,\n            text: 'Height (cm)'\n        },\n        startOnTick: true,\n        endOnTick: true,\n        showLastLabel: true\n    },\n    yAxis: {\n        title: {\n            text: 'Weight (kg)'\n        }\n    },\n    legend: {\n        layout: 'vertical',\n        align: 'left',\n        verticalAlign: 'top',\n        x: 100,\n        y: 70,\n        floating: true,\n        backgroundColor: Highcharts.defaultOptions.chart.backgroundColor,\n        borderWidth: 1\n    },\n    plotOptions: {\n        scatter: {\n            marker: {\n                radius: 5,\n                states: {\n                    hover: {\n                        enabled: true,\n                        lineColor: 'rgb(100,100,100)'\n                    }\n                }\n            },\n            states: {\n                hover: {\n                    marker: {\n                        enabled: false\n                    }\n                }\n            },\n            tooltip: {\n                headerFormat: '<b>{series.name}</b><br>',\n                pointFormat: '{point.x} cm, {point.y} kg'\n            }\n        }\n    },\n    series: [{\n        name: 'Female',\n        color: 'rgba(223, 83, 83, .5)',\n        data: [[161.2, 51.6], [167.5, 59.0], [159.5, 49.2], [157.0, 63.0], [155.8, 53.6],\n            [170.0, 59.0], [159.1, 47.6], [166.0, 69.8], [176.2, 66.8], [160.2, 75.2],\n            [172.5, 55.2], [170.9, 54.2], [172.9, 62.5], [153.4, 42.0], [160.0, 50.0],\n            [147.2, 49.8], [168.2, 49.2], [175.0, 73.2], [157.0, 47.8], [167.6, 68.8],\n            [159.5, 50.6], [175.0, 82.5], [166.8, 57.2], [176.5, 87.8], [170.2, 72.8],\n            [174.0, 54.5], [173.0, 59.8], [179.9, 67.3], [170.5, 67.8], [160.0, 47.0],\n            [154.4, 46.2], [162.0, 55.0], [176.5, 83.0], [160.0, 54.4], [152.0, 45.8],\n            [162.1, 53.6], [170.0, 73.2], [160.2, 52.1], [161.3, 67.9], [166.4, 56.6],\n            [168.9, 62.3], [163.8, 58.5], [167.6, 54.5], [160.0, 50.2], [161.3, 60.3],\n            [167.6, 58.3], [165.1, 56.2], [160.0, 50.2], [170.0, 72.9], [157.5, 59.8],\n            [167.6, 61.0], [160.7, 69.1], [163.2, 55.9], [152.4, 46.5], [157.5, 54.3],\n            [168.3, 54.8], [180.3, 60.7], [165.5, 60.0], [165.0, 62.0], [164.5, 60.3],\n            [156.0, 52.7], [160.0, 74.3], [163.0, 62.0], [165.7, 73.1], [161.0, 80.0],\n            [162.0, 54.7], [166.0, 53.2], [174.0, 75.7], [172.7, 61.1], [167.6, 55.7],\n            [151.1, 48.7], [164.5, 52.3], [163.5, 50.0], [152.0, 59.3], [169.0, 62.5],\n            [164.0, 55.7], [161.2, 54.8], [155.0, 45.9], [170.0, 70.6], [176.2, 67.2],\n            [170.0, 69.4], [162.5, 58.2], [170.3, 64.8], [164.1, 71.6], [169.5, 52.8],\n            [163.2, 59.8], [154.5, 49.0], [159.8, 50.0], [173.2, 69.2], [170.0, 55.9],\n            [161.4, 63.4], [169.0, 58.2], [166.2, 58.6], [159.4, 45.7], [162.5, 52.2],\n            [159.0, 48.6], [162.8, 57.8], [159.0, 55.6], [179.8, 66.8], [162.9, 59.4],\n            [161.0, 53.6], [151.1, 73.2], [168.2, 53.4], [168.9, 69.0], [173.2, 58.4],\n            [171.8, 56.2], [178.0, 70.6], [164.3, 59.8], [163.0, 72.0], [168.5, 65.2],\n            [166.8, 56.6], [172.7, 105.2], [163.5, 51.8], [169.4, 63.4], [167.8, 59.0],\n            [159.5, 47.6], [167.6, 63.0], [161.2, 55.2], [160.0, 45.0], [163.2, 54.0],\n            [162.2, 50.2], [161.3, 60.2], [149.5, 44.8], [157.5, 58.8], [163.2, 56.4],\n            [172.7, 62.0], [155.0, 49.2], [156.5, 67.2], [164.0, 53.8], [160.9, 54.4]]\n\n    }, {\n        name: 'Male',\n        color: 'rgba(119, 152, 191, .5)',\n        data: [[174.0, 65.6], [175.3, 71.8], [193.5, 80.7], [186.5, 72.6], [187.2, 78.8],\n            [181.5, 74.8], [184.0, 86.4], [184.5, 78.4], [175.0, 62.0], [184.0, 81.6],\n            [180.0, 76.6], [177.8, 83.6], [192.0, 90.0], [176.0, 74.6], [174.0, 71.0],\n            [184.0, 79.6], [192.7, 93.8], [171.5, 70.0], [173.0, 72.4], [176.0, 85.9],\n            [176.0, 78.8], [180.5, 77.8], [172.7, 66.2], [176.0, 86.4], [173.5, 81.8],\n            [178.0, 89.6], [180.3, 82.8], [180.3, 76.4], [164.5, 63.2], [173.0, 60.9],\n            [183.5, 74.8], [175.5, 70.0], [188.0, 72.4], [189.2, 84.1], [172.8, 69.1],\n            [170.0, 59.5], [182.0, 67.2], [170.0, 61.3], [177.8, 68.6], [184.2, 80.1],\n            [186.7, 87.8], [171.4, 84.7], [172.7, 73.4], [175.3, 72.1], [180.3, 82.6],\n            [182.9, 88.7], [188.0, 84.1], [177.2, 94.1], [172.1, 74.9], [167.0, 59.1],\n            [169.5, 75.6], [174.0, 86.2], [172.7, 75.3], [182.2, 87.1], [164.1, 55.2],\n            [163.0, 57.0], [171.5, 61.4], [184.2, 76.8], [174.0, 86.8], [174.0, 72.2],\n            [177.0, 71.6], [186.0, 84.8], [167.0, 68.2], [171.8, 66.1], [182.0, 72.0],\n            [167.0, 64.6], [177.8, 74.8], [164.5, 70.0], [192.0, 101.6], [175.5, 63.2],\n            [171.2, 79.1], [181.6, 78.9], [167.4, 67.7], [181.1, 66.0], [177.0, 68.2],\n            [174.5, 63.9], [177.5, 72.0], [170.5, 56.8], [182.4, 74.5], [197.1, 90.9],\n            [180.1, 93.0], [175.5, 80.9], [180.6, 72.7], [184.4, 68.0], [175.5, 70.9],\n            [180.3, 83.2], [180.3, 83.2]]\n    }]\n};\n\npublic chart8 = {\n  chart: {\n      zoomType: 'xy'\n  },\n  title: {\n      text: 'Average Monthly Temperature and Rainfall in Tokyo'\n  },\n  subtitle: {\n      text: 'Source: WorldClimate.com'\n  },\n  xAxis: [{\n      categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n          'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n      crosshair: true\n  }],\n  yAxis: [{ // Primary yAxis\n      labels: {\n          format: '{value}°C',\n          style: {\n              color: Highcharts.getOptions().colors[1]\n          }\n      },\n      title: {\n          text: 'Temperature',\n          style: {\n              color: Highcharts.getOptions().colors[1]\n          }\n      }\n  }, { // Secondary yAxis\n      title: {\n          text: 'Rainfall',\n          style: {\n              color: Highcharts.getOptions().colors[0]\n          }\n      },\n      labels: {\n          format: '{value} mm',\n          style: {\n              color: Highcharts.getOptions().colors[0]\n          }\n      },\n      opposite: true\n  }],\n  tooltip: {\n      shared: true\n  },\n  legend: {\n      layout: 'vertical',\n      align: 'left',\n      x: 120,\n      verticalAlign: 'top',\n      y: 100,\n      floating: true,\n      backgroundColor:\n          Highcharts.defaultOptions.legend.backgroundColor || // theme\n          'rgba(255,255,255,0.25)'\n  },\n  series: [{\n      name: 'Rainfall',\n      type: 'column',\n      yAxis: 1,\n      data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4],\n      color: '#57aeff',\n      tooltip: {\n          valueSuffix: ' mm'\n      }\n\n  }, {\n      name: 'Temperature',\n      type: 'spline',\n      data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6],\n      color: '#00ca00',\n      tooltip: {\n          valueSuffix: '°C'\n      }\n  }]\n};\n\npublic chart9 = {\n  chart: {\n      renderTo: 'high-3d-chart',\n      type: 'column',\n      options3d: {\n          enabled: true,\n          alpha: 15,\n          beta: 15,\n          depth: 50,\n          viewDistance: 25\n      }\n  },\n  title: {\n      text: 'Chart rotation demo'\n  },\n  subtitle: {\n      text: 'Test options by dragging the sliders below'\n  },\n  plotOptions: {\n      column: {\n          depth: 25\n      }\n  },\n  series: [{\n      data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4],\n      color: '#57aeff'\n  }]\n};\n\n// tslint:disable-next-line: one-variable-per-declaration\n categories = [\n  '0-4', '5-9', '10-14', '15-19',\n  '20-24', '25-29', '30-34', '35-39', '40-44',\n  '45-49', '50-54', '55-59', '60-64', '65-69',\n  '70-74', '75-79', '80-84', '85-89', '90-94',\n  '95-99', '100 + '\n  ];\npublic chart10 = {\n  categories : [\n    '0-4', '5-9', '10-14', '15-19',\n    '20-24', '25-29', '30-34', '35-39', '40-44',\n    '45-49', '50-54', '55-59', '60-64', '65-69',\n    '70-74', '75-79', '80-84', '85-89', '90-94',\n    '95-99', '100 + '\n    ],\n  chart: {\n      type: 'bar'\n  },\n  title: {\n      text: 'Population pyramid for Germany, 2018'\n  },\n  subtitle: {\n      text: 'Source: <a href=\"http://populationpyramid.net/germany/2018/\">Population Pyramids of the World from 1950 to 2100</a>'\n  },\n  accessibility: {\n      point: {\n          descriptionFormatter: function (point) {\n              var index = point.index + 1,\n                  category = point.category,\n                  val = Math.abs(point.y),\n                  series = point.series.name;\n\n              return index + ', Age ' + category + ', ' + val + '%. ' + series + '.';\n          }\n      }\n  },\n  xAxis: [{\n      categories: this.categories,\n      reversed: false,\n      labels: {\n          step: 1\n      },\n      accessibility: {\n          description: 'Age (male)'\n      }\n  }, { // mirror axis on right side\n      opposite: true,\n      reversed: false,\n      categories: this.categories,\n      linkedTo: 0,\n      labels: {\n          step: 1\n      },\n      accessibility: {\n          description: 'Age (female)'\n      }\n  }],\n  yAxis: {\n      title: {\n          text: null\n      },\n      labels: {\n          formatter: function () {\n              return Math.abs(this.value) + '%';\n          }\n      },\n      accessibility: {\n          description: 'Percentage population',\n          rangeDescription: 'Range: 0 to 5%'\n      }\n  },\n\n  plotOptions: {\n      series: {\n          stacking: 'normal'\n      }\n  },\n\n  tooltip: {\n      formatter: function () {\n          return '<b>' + this.series.name + ', age ' + this.point.category + '</b><br/>' +\n              'Population: ' + Highcharts.numberFormat(Math.abs(this.point.y), 1) + '%';\n      }\n  },\n\n  series: [{\n      name: 'Male',\n      data: [\n          -2.2, -2.1, -2.2, -2.4,\n          -2.7, -3.0, -3.3, -3.2,\n          -2.9, -3.5, -4.4, -4.1,\n          -0.0\n      ],\n      color: '#57dc57'\n  }, {\n      name: 'Female',\n      data: [\n          2.1, 2.0, 2.1, 2.3, 2.6,\n          2.9, 3.2, 3.1, 2.9, 3.4,\n          0.0\n      ],\n      color: '#57aeff'\n  }]\n};\n\nngOnInit() {\n  }\n//   function(chart) {\n//     if (!chart.renderer.forExport) {\n//         setInterval(function() {\n//             let point = chart.series[0].points[0],\n//                 newVal,\n//                 inc = Math.round((Math.random() - 0.5) * 20);\n//             newVal = point.y + inc;\n//             if (newVal < 0 || newVal > 200) {\n//                 newVal = point.y - inc;\n//             }\n\n//             point.update(newVal);\n\n//         }, 3000);\n//     }\n// }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MorrisChartComponent } from './morris-chart/morris-chart.component';\nimport { ChartHighComponent } from './chart-high/chart-high.component';\nimport { ChartAmComponent } from './chart-am/chart-am.component';\nimport { ChartApexComponent } from './chart-apex/chart-apex.component';\n\n\nconst routes: Routes = [\n  {\n    path: 'morris-chart',\n    component : MorrisChartComponent\n  },\n  {\n    path: 'chart-high',\n    component : ChartHighComponent\n  },\n  {\n    path: 'chart-am',\n    component : ChartAmComponent\n  },\n  {\n    path: 'chart-apex',\n    component : ChartApexComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ChartsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {SofboxModule} from '../../components/sofbox/sofbox.module';\nimport { ChartsRoutingModule } from './charts-routing.module';\nimport { MorrisChartComponent } from './morris-chart/morris-chart.component';\nimport { ChartHighComponent } from './chart-high/chart-high.component';\nimport { ChartAmComponent } from './chart-am/chart-am.component';\nimport { ChartApexComponent } from './chart-apex/chart-apex.component';\n\n\n@NgModule({\n  declarations: [MorrisChartComponent, ChartHighComponent, ChartAmComponent, ChartApexComponent],\n  imports: [\n    CommonModule,\n    ChartsRoutingModule,\n    SofboxModule\n  ],\n  exports: [MorrisChartComponent, ChartHighComponent, ChartAmComponent, ChartApexComponent]\n})\nexport class ChartsModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-morris-chart',\n  templateUrl: './morris-chart.component.html',\n  styles: []\n})\nexport class MorrisChartComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n"]}